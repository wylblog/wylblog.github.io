{"meta":{"version":1,"warehouse":"4.0.2"},"models":{"Asset":[{"_id":"themes/hexo-theme-matery/source/favicon.png","path":"favicon.png","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/css/barrager.css","path":"css/barrager.css","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/css/bb.css","path":"css/bb.css","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/css/dark.css","path":"css/dark.css","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/css/gallery.css","path":"css/gallery.css","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/css/gitment.css","path":"css/gitment.css","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/css/indexcover.css","path":"css/indexcover.css","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/css/matery.css","path":"css/matery.css","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/css/my-gitalk.css","path":"css/my-gitalk.css","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/css/my.css","path":"css/my.css","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/css/post.css","path":"css/post.css","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/css/reward.css","path":"css/reward.css","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/js/crypto-js.js","path":"js/crypto-js.js","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/js/gallery-encrypt.js","path":"js/gallery-encrypt.js","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/js/jquery.barrager.js","path":"js/jquery.barrager.js","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/js/matery.js","path":"js/matery.js","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/js/search.js","path":"js/search.js","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/js/tw_cn.js","path":"js/tw_cn.js","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/medias/avatar.jpg","path":"medias/avatar.jpg","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/medias/comment_bg.png","path":"medias/comment_bg.png","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/medias/cover.jpg","path":"medias/cover.jpg","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/medias/icp.png","path":"medias/icp.png","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/medias/logo.png","path":"medias/logo.png","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/libs/animate/animate.min.css","path":"libs/animate/animate.min.css","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/libs/aos/aos.css","path":"libs/aos/aos.css","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/libs/aos/aos.js","path":"libs/aos/aos.js","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/libs/aplayer/APlayer.min.css","path":"libs/aplayer/APlayer.min.css","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/libs/aplayer/APlayer.min.js","path":"libs/aplayer/APlayer.min.js","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/libs/aplayer/Meting.min.js","path":"libs/aplayer/Meting.min.js","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/libs/background/canvas-nest.js","path":"libs/background/canvas-nest.js","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/libs/background/ribbon-dynamic.js","path":"libs/background/ribbon-dynamic.js","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/libs/background/ribbon-refresh.min.js","path":"libs/background/ribbon-refresh.min.js","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/libs/background/ribbon.min.js","path":"libs/background/ribbon.min.js","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/libs/codeBlock/codeBlockFuction.js","path":"libs/codeBlock/codeBlockFuction.js","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/libs/codeBlock/codeCopy.js","path":"libs/codeBlock/codeCopy.js","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/libs/codeBlock/codeLang.js","path":"libs/codeBlock/codeLang.js","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/libs/codeBlock/codeShrink.js","path":"libs/codeBlock/codeShrink.js","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/libs/cryptojs/crypto-js.min.js","path":"libs/cryptojs/crypto-js.min.js","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/libs/dplayer/DPlayer.min.css","path":"libs/dplayer/DPlayer.min.css","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/libs/dplayer/DPlayer.min.js","path":"libs/dplayer/DPlayer.min.js","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/libs/echarts/echarts.min.js","path":"libs/echarts/echarts.min.js","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/libs/fancybox/fancybox.js","path":"libs/fancybox/fancybox.js","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/libs/fancybox/jquery.fancybox.css","path":"libs/fancybox/jquery.fancybox.css","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/libs/gitalk/gitalk.css","path":"libs/gitalk/gitalk.css","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/libs/gitalk/gitalk.min.js","path":"libs/gitalk/gitalk.min.js","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/libs/gitment/gitment-default.css","path":"libs/gitment/gitment-default.css","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/libs/gitment/gitment.js","path":"libs/gitment/gitment.js","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/libs/instantpage/instantpage.js","path":"libs/instantpage/instantpage.js","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/libs/jqcloud/jqcloud-1.0.4.min.js","path":"libs/jqcloud/jqcloud-1.0.4.min.js","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/libs/jqcloud/jqcloud.css","path":"libs/jqcloud/jqcloud.css","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/libs/jquery/jquery-3.6.0.min.js","path":"libs/jquery/jquery-3.6.0.min.js","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/libs/justifiedGallery/justifiedGallery.min.css","path":"libs/justifiedGallery/justifiedGallery.min.css","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/libs/justifiedGallery/justifiedGallery.min.js","path":"libs/justifiedGallery/justifiedGallery.min.js","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/libs/masonry/masonry.pkgd.min.js","path":"libs/masonry/masonry.pkgd.min.js","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/libs/materialize/materialize.min.css","path":"libs/materialize/materialize.min.css","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/libs/materialize/materialize.min.js","path":"libs/materialize/materialize.min.js","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/libs/mermaid/mermaid.js","path":"libs/mermaid/mermaid.js","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/libs/mermaid/mermaid.min.css","path":"libs/mermaid/mermaid.min.css","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/libs/mermaid/mermaid.min.js","path":"libs/mermaid/mermaid.min.js","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/libs/minivaline/MiniValine.js","path":"libs/minivaline/MiniValine.js","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/libs/others/TencentCaptcha.js","path":"libs/others/TencentCaptcha.js","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/libs/others/busuanzi.pure.mini.js","path":"libs/others/busuanzi.pure.mini.js","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/libs/others/clicklove.js","path":"libs/others/clicklove.js","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/libs/others/sakura-half.js","path":"libs/others/sakura-half.js","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/libs/others/sakura-reduce.js","path":"libs/others/sakura-reduce.js","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/libs/others/sakura-small.js","path":"libs/others/sakura-small.js","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/libs/others/sakura.js","path":"libs/others/sakura.js","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/libs/others/snow.js","path":"libs/others/snow.js","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/libs/others/star.js","path":"libs/others/star.js","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/libs/prism/prism.min.css","path":"libs/prism/prism.min.css","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/libs/prism/prism.min.js","path":"libs/prism/prism.min.js","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/libs/scrollprogress/scrollProgress.min.js","path":"libs/scrollprogress/scrollProgress.min.js","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/libs/tocbot/tocbot.css","path":"libs/tocbot/tocbot.css","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/libs/tocbot/tocbot.min.js","path":"libs/tocbot/tocbot.min.js","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/libs/twikoo/twikoo.all.min.js","path":"libs/twikoo/twikoo.all.min.js","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/libs/twikoo/twikoo.all.min.js.LICENSE.txt","path":"libs/twikoo/twikoo.all.min.js.LICENSE.txt","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/libs/typed/typed.js","path":"libs/typed/typed.js","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/libs/valine/Valine.min.js","path":"libs/valine/Valine.min.js","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/libs/valine/av-min.js","path":"libs/valine/av-min.js","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/libs/waline/Waline.min.js","path":"libs/waline/Waline.min.js","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/medias/banner/0.jpg","path":"medias/banner/0.jpg","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/medias/banner/1.jpg","path":"medias/banner/1.jpg","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/medias/banner/2.jpg","path":"medias/banner/2.jpg","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/medias/banner/3.jpg","path":"medias/banner/3.jpg","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/medias/banner/4.jpg","path":"medias/banner/4.jpg","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/medias/banner/5.jpg","path":"medias/banner/5.jpg","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/medias/banner/6.jpg","path":"medias/banner/6.jpg","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/medias/barrager/0.png","path":"medias/barrager/0.png","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/medias/barrager/1.png","path":"medias/barrager/1.png","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/medias/barrager/2.png","path":"medias/barrager/2.png","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/medias/barrager/close.png","path":"medias/barrager/close.png","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/medias/featureimages/0.jpg","path":"medias/featureimages/0.jpg","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/medias/featureimages/1.jpg","path":"medias/featureimages/1.jpg","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/medias/featureimages/10.jpg","path":"medias/featureimages/10.jpg","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/medias/featureimages/11.jpg","path":"medias/featureimages/11.jpg","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/medias/featureimages/12.jpg","path":"medias/featureimages/12.jpg","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/medias/featureimages/13.jpg","path":"medias/featureimages/13.jpg","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/medias/featureimages/14.jpg","path":"medias/featureimages/14.jpg","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/medias/featureimages/15.jpg","path":"medias/featureimages/15.jpg","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/medias/featureimages/16.jpg","path":"medias/featureimages/16.jpg","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/medias/featureimages/17.jpg","path":"medias/featureimages/17.jpg","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/medias/featureimages/18.jpg","path":"medias/featureimages/18.jpg","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/medias/featureimages/19.jpg","path":"medias/featureimages/19.jpg","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/medias/featureimages/2.jpg","path":"medias/featureimages/2.jpg","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/medias/featureimages/20.jpg","path":"medias/featureimages/20.jpg","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/medias/featureimages/21.jpg","path":"medias/featureimages/21.jpg","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/medias/featureimages/22.jpg","path":"medias/featureimages/22.jpg","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/medias/featureimages/23.jpg","path":"medias/featureimages/23.jpg","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/medias/featureimages/3.jpg","path":"medias/featureimages/3.jpg","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/medias/featureimages/4.jpg","path":"medias/featureimages/4.jpg","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/medias/featureimages/5.jpg","path":"medias/featureimages/5.jpg","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/medias/featureimages/6.jpg","path":"medias/featureimages/6.jpg","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/medias/featureimages/7.jpg","path":"medias/featureimages/7.jpg","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/medias/featureimages/8.jpg","path":"medias/featureimages/8.jpg","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/medias/featureimages/9.jpg","path":"medias/featureimages/9.jpg","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/medias/images/01.jpg","path":"medias/images/01.jpg","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/medias/images/02.jpg","path":"medias/images/02.jpg","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/medias/images/03.jpg","path":"medias/images/03.jpg","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/medias/reward/alipay.jpg","path":"medias/reward/alipay.jpg","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/medias/reward/wechat.png","path":"medias/reward/wechat.png","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/libs/awesome/css/all.css","path":"libs/awesome/css/all.css","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/libs/awesome/css/all.min.css","path":"libs/awesome/css/all.min.css","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/libs/awesome/webfonts/fa-brands-400.ttf","path":"libs/awesome/webfonts/fa-brands-400.ttf","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/libs/awesome/webfonts/fa-brands-400.woff2","path":"libs/awesome/webfonts/fa-brands-400.woff2","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/libs/awesome/webfonts/fa-regular-400.ttf","path":"libs/awesome/webfonts/fa-regular-400.ttf","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/libs/awesome/webfonts/fa-regular-400.woff2","path":"libs/awesome/webfonts/fa-regular-400.woff2","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/libs/awesome/webfonts/fa-solid-900.ttf","path":"libs/awesome/webfonts/fa-solid-900.ttf","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/libs/awesome/webfonts/fa-solid-900.woff2","path":"libs/awesome/webfonts/fa-solid-900.woff2","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/libs/awesome/webfonts/fa-v4compatibility.ttf","path":"libs/awesome/webfonts/fa-v4compatibility.ttf","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/libs/awesome/webfonts/fa-v4compatibility.woff2","path":"libs/awesome/webfonts/fa-v4compatibility.woff2","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/libs/lightGallery/css/lightgallery.min.css","path":"libs/lightGallery/css/lightgallery.min.css","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/libs/lightGallery/fonts/lg.svg","path":"libs/lightGallery/fonts/lg.svg","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/libs/lightGallery/fonts/lg.ttf","path":"libs/lightGallery/fonts/lg.ttf","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/libs/lightGallery/fonts/lg.woff","path":"libs/lightGallery/fonts/lg.woff","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/libs/lightGallery/img/loading.gif","path":"libs/lightGallery/img/loading.gif","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/libs/lightGallery/img/video-play.png","path":"libs/lightGallery/img/video-play.png","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/libs/lightGallery/img/vimeo-play.png","path":"libs/lightGallery/img/vimeo-play.png","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/libs/lightGallery/img/youtube-play.png","path":"libs/lightGallery/img/youtube-play.png","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/libs/lightGallery/js/lightgallery-all.min.js","path":"libs/lightGallery/js/lightgallery-all.min.js","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/libs/share/css/share.min.css","path":"libs/share/css/share.min.css","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/libs/share/fonts/iconfont.eot","path":"libs/share/fonts/iconfont.eot","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/libs/share/fonts/iconfont.svg","path":"libs/share/fonts/iconfont.svg","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/libs/share/fonts/iconfont.ttf","path":"libs/share/fonts/iconfont.ttf","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/libs/share/fonts/iconfont.woff","path":"libs/share/fonts/iconfont.woff","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/libs/share/js/jquery.share.min.js","path":"libs/share/js/jquery.share.min.js","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/libs/share/js/social-share.min.js","path":"libs/share/js/social-share.min.js","modified":0,"renderable":1}],"Cache":[{"_id":"source/_posts/hello-world.md","hash":"7d98d6592de80fdcd2949bd7401cec12afd98cdf","modified":1731314486290},{"_id":"themes/hexo-theme-matery/.gitignore","hash":"727607929a51db7ea10968f547c26041eee9cfff","modified":1731314811335},{"_id":"themes/hexo-theme-matery/CHANGELOG.md","hash":"084ec8b110a20170d08a0aa5fd8accf601051835","modified":1731314811336},{"_id":"themes/hexo-theme-matery/LICENSE","hash":"7df059597099bb7dcf25d2a9aedfaf4465f72d8d","modified":1731314811336},{"_id":"themes/hexo-theme-matery/README.md","hash":"9d98fe84a60bd6b222740f238d83f0999eaa77a3","modified":1731314811336},{"_id":"themes/hexo-theme-matery/README_CN.md","hash":"497c6645c55dce9f190ec7625de76083262e1707","modified":1731314811336},{"_id":"themes/hexo-theme-matery/_config.yml","hash":"01b665446671391e33b25303ca5d7b7623d6fcf4","modified":1731322828757},{"_id":"themes/hexo-theme-matery/package.json","hash":"65e479c76534f44e9f228146f7919b259a363919","modified":1731318786726},{"_id":"themes/hexo-theme-matery/languages/default.yml","hash":"2ed57824573d7bed71e56023ed92500734a8886d","modified":1731314811336},{"_id":"themes/hexo-theme-matery/languages/jp.yml","hash":"a811cec0b6d91f405e8c7386a57039cd8c3448bb","modified":1731314811336},{"_id":"themes/hexo-theme-matery/languages/zh-CN.yml","hash":"a2695fdb7579a77daec7773a9bb8e71b9edbf16b","modified":1731314811336},{"_id":"themes/hexo-theme-matery/languages/zh-HK.yml","hash":"51c06005927e8bde5b3e23353d2bf2c32ed855f3","modified":1731314811336},{"_id":"themes/hexo-theme-matery/layout/404.ejs","hash":"36f8d3e530e8144bf80d0772284edd9b0da362fe","modified":1731314811336},{"_id":"themes/hexo-theme-matery/layout/about.ejs","hash":"99a74316aed478efb0db823c4460ee2e660f101c","modified":1731314811339},{"_id":"themes/hexo-theme-matery/layout/archive.ejs","hash":"cdac701de8370f9f3794a0eed4165983993a1ca7","modified":1731314811339},{"_id":"themes/hexo-theme-matery/layout/bb.ejs","hash":"21959d702f17a3d98b716daf44c8b5eecd59c7c5","modified":1731314811339},{"_id":"themes/hexo-theme-matery/layout/categories.ejs","hash":"8e54665cc25d7c333da7d9f312987190be6215da","modified":1731314811339},{"_id":"themes/hexo-theme-matery/layout/category.ejs","hash":"00019bca11fb46477f22017cb1f5ad8444da0580","modified":1731314811339},{"_id":"themes/hexo-theme-matery/layout/contact.ejs","hash":"71ef2540fa586cd0c3b1f216f59fa9ec85fc6a38","modified":1731314811339},{"_id":"themes/hexo-theme-matery/layout/friends.ejs","hash":"534511d9f38f281b531e24c19d9c1526cc7e5e27","modified":1731314811339},{"_id":"themes/hexo-theme-matery/layout/galleries.ejs","hash":"85b8b9e583ffa7a4ee6d0c2be4779cb2f7d91777","modified":1731314811339},{"_id":"themes/hexo-theme-matery/layout/gallery.ejs","hash":"fcc7364b03329148ba4920cddb0d34d5b7410788","modified":1731314811339},{"_id":"themes/hexo-theme-matery/layout/index.ejs","hash":"1656c2db90e24a360282d15c71144b4f14edb43d","modified":1731314811339},{"_id":"themes/hexo-theme-matery/layout/layout.ejs","hash":"94c2fee85418370ca8f7d54050c852267e924eb7","modified":1731314811339},{"_id":"themes/hexo-theme-matery/layout/movies.ejs","hash":"abce85ffdd99e787e3652fbd466447e032b626bd","modified":1731314811339},{"_id":"themes/hexo-theme-matery/layout/musics.ejs","hash":"9ac6053e09ed2c8a844d7e93c3fdce4ded95248a","modified":1731314811339},{"_id":"themes/hexo-theme-matery/layout/post.ejs","hash":"3d4f40121dbb75bcb71837c35ec5ee17cdffae31","modified":1731314811339},{"_id":"themes/hexo-theme-matery/layout/tag.ejs","hash":"85a4b05bd8a6ad0f17ff2e97dae56949b379c204","modified":1731314811339},{"_id":"themes/hexo-theme-matery/layout/tags.ejs","hash":"cf9517aa6a0111355121f44615d6923e312283c7","modified":1731314811339},{"_id":"themes/hexo-theme-matery/source/favicon.png","hash":"774fee8c6d0be9dbb010b20f36c06848d06e3da0","modified":1731314811340},{"_id":"themes/hexo-theme-matery/layout/_partial/back-top.ejs","hash":"47ee36a042bb6d52bbe1d0f329637e8ffcf1d0aa","modified":1731314811336},{"_id":"themes/hexo-theme-matery/layout/_partial/background.ejs","hash":"12350c0d366141b5c27792bb414d4adc303b0a9f","modified":1731314811336},{"_id":"themes/hexo-theme-matery/layout/_partial/baidu-analytics.ejs","hash":"3bbcdb474ca1dcad514bdc4b7763e17c55df04fd","modified":1731314811337},{"_id":"themes/hexo-theme-matery/layout/_partial/baidu-push.ejs","hash":"2cebcc5ea3614d7f76ec36670e68050cbe611202","modified":1731314811337},{"_id":"themes/hexo-theme-matery/layout/_partial/bg-cover-content.ejs","hash":"9e6b10d5cf4b5faf0d851f4777f75a7297ce68b9","modified":1731314811337},{"_id":"themes/hexo-theme-matery/layout/_partial/bg-cover.ejs","hash":"02191109712f61c0e487b8f0b8466597181a9004","modified":1731314811337},{"_id":"themes/hexo-theme-matery/layout/_partial/bg-video.ejs","hash":"963422029eb5158eb5f5bc97ce19b66e5399db97","modified":1731314811337},{"_id":"themes/hexo-theme-matery/layout/_partial/changyan.ejs","hash":"cd919d31564e118c2ee8d5cbfb7d51ee6da15d82","modified":1731314811337},{"_id":"themes/hexo-theme-matery/layout/_partial/codeblock.ejs","hash":"086a06863a0f88888707409936aa06a09ff50e3a","modified":1731314811337},{"_id":"themes/hexo-theme-matery/layout/_partial/cover-style.ejs","hash":"4288b9d91b2d71404e7a509a81a5d7f7a4b8b5e8","modified":1731314811337},{"_id":"themes/hexo-theme-matery/layout/_partial/disqus.ejs","hash":"b2dc2c8b5ed56815e55cc2ea54a6dc4eeba2375d","modified":1731314811337},{"_id":"themes/hexo-theme-matery/layout/_partial/footer.ejs","hash":"e8958bc066b3c2fcd4152604cc12f30020106848","modified":1731314811337},{"_id":"themes/hexo-theme-matery/layout/_partial/gitalk.ejs","hash":"2aa8fbb04b046fa7679092a48372d7e036835dff","modified":1731314811337},{"_id":"themes/hexo-theme-matery/layout/_partial/github-link.ejs","hash":"3aeb581bd78ab8e15b858e4c44c03bcf92f20b9e","modified":1731314811337},{"_id":"themes/hexo-theme-matery/layout/_partial/gitment.ejs","hash":"90f6218512ef2eab63ada7ad2fc766ae635a2297","modified":1731314811337},{"_id":"themes/hexo-theme-matery/layout/_partial/google-analytics.ejs","hash":"5f4992205617da5f8cc5863c62b5ec46e414e2fb","modified":1731314811337},{"_id":"themes/hexo-theme-matery/layout/_partial/head.ejs","hash":"f5c00f21af281a09dc7de89e82a3b442903451a7","modified":1731314811337},{"_id":"themes/hexo-theme-matery/layout/_partial/header.ejs","hash":"59e38c70f3d8e7165e686e5e84a627835f4321b0","modified":1731314811337},{"_id":"themes/hexo-theme-matery/layout/_partial/index-cover.ejs","hash":"e8b44268b59add61af44b7338527523d10d9d742","modified":1731314811337},{"_id":"themes/hexo-theme-matery/layout/_partial/livere.ejs","hash":"9c3401b42ea7f26410a5593bae93ada7e57b43be","modified":1731314811337},{"_id":"themes/hexo-theme-matery/layout/_partial/main-style.ejs","hash":"8819b334509682355a5e53fa0f307f90166d175c","modified":1731314811337},{"_id":"themes/hexo-theme-matery/layout/_partial/mobile-nav.ejs","hash":"52de0cf3ce13a3477b0a1659d2b8aa41db1f622d","modified":1731314811337},{"_id":"themes/hexo-theme-matery/layout/_partial/navigation.ejs","hash":"0953217f4e19a51dfc5a0ffc7d066406df18060b","modified":1731314811337},{"_id":"themes/hexo-theme-matery/layout/_partial/paging.ejs","hash":"e2df12cf92a82b1a7a7add2eac1db1d954bc5511","modified":1731314811337},{"_id":"themes/hexo-theme-matery/layout/_partial/post-cover.ejs","hash":"d1c873c5de54498c722e155aadb8c0ec39485dfa","modified":1731314811337},{"_id":"themes/hexo-theme-matery/layout/_partial/post-detail-toc.ejs","hash":"70fccaea75ce48364222c4e5de0496e556b01cb1","modified":1731314811337},{"_id":"themes/hexo-theme-matery/layout/_partial/post-detail.ejs","hash":"6261f8191c3c1159f63ec7f9293bb93f7d2a3dbb","modified":1731314811337},{"_id":"themes/hexo-theme-matery/layout/_partial/post-statis.ejs","hash":"04889f9031743c6b081d02fa4027b0dbfcc45ecf","modified":1731314811337},{"_id":"themes/hexo-theme-matery/layout/_partial/post-style.ejs","hash":"243c3ba783553f25955d524fd47a5bb59a5e732b","modified":1731314811338},{"_id":"themes/hexo-theme-matery/layout/_partial/prev-next.ejs","hash":"c76b78782ea82340104fccc089417572e0adece4","modified":1731314811338},{"_id":"themes/hexo-theme-matery/layout/_partial/reprint-statement.ejs","hash":"0ce3f9361f558b99cc2f059c5e50b0e2a152ae38","modified":1731314811338},{"_id":"themes/hexo-theme-matery/layout/_partial/reward-style.ejs","hash":"8256ed940c0185ccf01890d59fb4262f196e2323","modified":1731314811338},{"_id":"themes/hexo-theme-matery/layout/_partial/reward.ejs","hash":"236668e72b01db91f5bf29eec4c79e34e2746d98","modified":1731314811338},{"_id":"themes/hexo-theme-matery/layout/_partial/search.ejs","hash":"150529c9fb9aa8ddb42ec3e02645d301faa2503b","modified":1731314811338},{"_id":"themes/hexo-theme-matery/layout/_partial/share.ejs","hash":"c941730a2471d6aab367cbb6e09ed08b56c83143","modified":1731314811338},{"_id":"themes/hexo-theme-matery/layout/_partial/social-link.ejs","hash":"6f871bd3a70f720e4e451f1f4f625cbc6d8994a4","modified":1731314811338},{"_id":"themes/hexo-theme-matery/layout/_partial/twikoo.ejs","hash":"f9cb8c82b9d2a7cdb644e10718f1cdeb9400414c","modified":1731314811338},{"_id":"themes/hexo-theme-matery/layout/_partial/valine.ejs","hash":"2ac48566bb806336f1e5bc5c66fc816a580d63c3","modified":1731314811338},{"_id":"themes/hexo-theme-matery/layout/_partial/waline.ejs","hash":"2658cb73ef984a30b248351d7858ee15596a6e7a","modified":1731314811338},{"_id":"themes/hexo-theme-matery/layout/_widget/artitalk.ejs","hash":"b14e486f12b9ac42a273b80e4d785fcb94cf04b2","modified":1731314811338},{"_id":"themes/hexo-theme-matery/layout/_widget/category-cloud.ejs","hash":"1b3df1009234c0112424b497b18b4ad8240b3bc7","modified":1731314811338},{"_id":"themes/hexo-theme-matery/layout/_widget/category-radar.ejs","hash":"1d8747fda89a0b2ca3c7008867cbfeecad0578a6","modified":1731314811338},{"_id":"themes/hexo-theme-matery/layout/_widget/day-night.ejs","hash":"ff21dd5e49e1fc9a9ab8c7d164fd4b32a8265ea2","modified":1731314811338},{"_id":"themes/hexo-theme-matery/layout/_widget/dream.ejs","hash":"9a472ad5591100cdb65d0df9d01034163bd6dd9d","modified":1731314811338},{"_id":"themes/hexo-theme-matery/layout/_widget/music.ejs","hash":"bb25a6fa51eb5ebfba687b2cbadff6c7a4b4bfef","modified":1731314811338},{"_id":"themes/hexo-theme-matery/layout/_widget/musics.ejs","hash":"bfebdf0731fee0cd4fd51efa0da1d0184565ae25","modified":1731314811338},{"_id":"themes/hexo-theme-matery/layout/_widget/my-gallery.ejs","hash":"65a2d2f9722f84c7fd98f6bdf79087a14848ebd8","modified":1731314811338},{"_id":"themes/hexo-theme-matery/layout/_widget/my-projects.ejs","hash":"ef60b64021fa349b0048425d858dfcf6c906fede","modified":1731314811338},{"_id":"themes/hexo-theme-matery/layout/_widget/my-skills.ejs","hash":"89a0092df72d23093128f2fbbdc8ca7f83ebcfd9","modified":1731314811338},{"_id":"themes/hexo-theme-matery/layout/_widget/post-calendar.ejs","hash":"48821e644bc73553d7c5c56d2e8ee111a70cd776","modified":1731314811338},{"_id":"themes/hexo-theme-matery/layout/_widget/post-charts.ejs","hash":"ab5f986f428215941aeaa0c88aefd440c47d3bcf","modified":1731314811338},{"_id":"themes/hexo-theme-matery/layout/_widget/recommend.ejs","hash":"8551137e94ca4e2e3b8b63d5626255884cb60cb5","modified":1731314811338},{"_id":"themes/hexo-theme-matery/layout/_widget/tag-cloud.ejs","hash":"fc42b72cddc231f7485cdc1fd6852b66be6add26","modified":1731314811339},{"_id":"themes/hexo-theme-matery/layout/_widget/tag-wordcloud.ejs","hash":"487aacb2454d6bf0d21cdb07ddd1fd5ddbca9038","modified":1731314811339},{"_id":"themes/hexo-theme-matery/layout/_widget/video.ejs","hash":"5e5ec78f8ab229d54786ef2e0ea2864af2dc459f","modified":1731314811339},{"_id":"themes/hexo-theme-matery/scripts/tags/button.js","hash":"ab02fb2da648f4f7afa0c2381aaca334bdeb54e6","modified":1731314811339},{"_id":"themes/hexo-theme-matery/scripts/tags/index.js","hash":"223a31ea3aa4a689d45a033c7d680cb4fff8d8af","modified":1731314811339},{"_id":"themes/hexo-theme-matery/scripts/tags/note.js","hash":"84b0122b92342834540f69b19600cb54c50ab69e","modified":1731314811339},{"_id":"themes/hexo-theme-matery/source/css/barrager.css","hash":"862879d9313ed8d4c721fa32ef8f94ac2f0a28ae","modified":1731314811340},{"_id":"themes/hexo-theme-matery/source/css/bb.css","hash":"aa15633888c7cf9baea8bb48d796c68b57cf14bf","modified":1731314811340},{"_id":"themes/hexo-theme-matery/source/css/dark.css","hash":"be4ef08494f3c965d513d9413685c0e723f671cd","modified":1731314811340},{"_id":"themes/hexo-theme-matery/source/css/gallery.css","hash":"015097ca1271dd44e6d663332587dbe58ae2ade8","modified":1731314811340},{"_id":"themes/hexo-theme-matery/source/css/gitment.css","hash":"2bd15cc17dca35ac3ecc0acf167a23a1dd362acd","modified":1731314811340},{"_id":"themes/hexo-theme-matery/source/css/indexcover.css","hash":"00f4f498ae8514022004f2281cab8ff304cd0f37","modified":1731314811340},{"_id":"themes/hexo-theme-matery/source/css/matery.css","hash":"413ad9731332810823b57dd0f4c0284e3af2af63","modified":1731314811340},{"_id":"themes/hexo-theme-matery/source/css/my-gitalk.css","hash":"af18dd29e58642c18bab9b89541767b494c468dd","modified":1731314811340},{"_id":"themes/hexo-theme-matery/source/css/my.css","hash":"497e50351f7838f8546cac76850a42e7e380a110","modified":1731314811340},{"_id":"themes/hexo-theme-matery/source/css/post.css","hash":"1ebbf9ddee7db4b3039d8d4e25f2605072ab6e24","modified":1731314811340},{"_id":"themes/hexo-theme-matery/source/css/reward.css","hash":"56f8d21c3bb1dc57c762a63d13b08161d8260738","modified":1731314811340},{"_id":"themes/hexo-theme-matery/source/js/gallery-encrypt.js","hash":"f611a391d62da17b71f75577a72ad246ef6c5a71","modified":1731314811341},{"_id":"themes/hexo-theme-matery/source/js/jquery.barrager.js","hash":"19c8b2498ca1083e537f7f443172970912107f83","modified":1731314811341},{"_id":"themes/hexo-theme-matery/source/js/matery.js","hash":"aa957ea8cf6787f0ed6095fedc6cb9d7d1bf3522","modified":1731314811341},{"_id":"themes/hexo-theme-matery/source/js/search.js","hash":"5caa2d6e3d34c334ac68dfaafc81a583d6123382","modified":1731314811341},{"_id":"themes/hexo-theme-matery/source/js/tw_cn.js","hash":"29157cdfa87aec28e56d3d5717d486bf4de07db6","modified":1731314811341},{"_id":"themes/hexo-theme-matery/source/medias/avatar.jpg","hash":"2a6287308628881ce27b9a7de53ba15c2be00d02","modified":1731314811385},{"_id":"themes/hexo-theme-matery/source/medias/icp.png","hash":"27a96f31f7d0413c6ade6f40e06f021f501151c7","modified":1731314811393},{"_id":"themes/hexo-theme-matery/source/medias/logo.png","hash":"d9095f5ea8719374d9d1ff020279426f5b2a1396","modified":1731314811396},{"_id":"themes/hexo-theme-matery/source/libs/animate/animate.min.css","hash":"97afa151569f046b2e01f27c1871646e9cd87caf","modified":1731314811341},{"_id":"themes/hexo-theme-matery/source/libs/aos/aos.css","hash":"191a3705a8f63e589a50a0ff2f2c5559f1a1b6b2","modified":1731314811341},{"_id":"themes/hexo-theme-matery/source/libs/aos/aos.js","hash":"02bfb40b0c4b6e9b0b4081218357145cbb327d74","modified":1731314811342},{"_id":"themes/hexo-theme-matery/source/libs/aplayer/APlayer.min.css","hash":"07372a2ba507388d0fed166d761b1c2c2a659dce","modified":1731314811342},{"_id":"themes/hexo-theme-matery/source/medias/comment_bg.png","hash":"dfc93d24081884fbc58cab0f8fd19e77d31d6123","modified":1731314811388},{"_id":"themes/hexo-theme-matery/source/libs/aplayer/APlayer.min.js","hash":"22caa28ff6b41a16ff40f15d38f1739e22359478","modified":1731314811342},{"_id":"themes/hexo-theme-matery/source/libs/aplayer/Meting.min.js","hash":"f2b3d20b8bd64ccd031c64628f2b1323078ae324","modified":1731314811342},{"_id":"themes/hexo-theme-matery/source/libs/background/canvas-nest.js","hash":"65333d0dbb9c1173a1b13031b230161fc42c8b2f","modified":1731314811348},{"_id":"themes/hexo-theme-matery/source/libs/background/ribbon-dynamic.js","hash":"052b80c29e6bc585aa28d4504b743bdbac220a88","modified":1731314811348},{"_id":"themes/hexo-theme-matery/source/libs/background/ribbon-refresh.min.js","hash":"6d98692b2cad8c746a562db18b170b35c24402f4","modified":1731314811348},{"_id":"themes/hexo-theme-matery/source/libs/background/ribbon.min.js","hash":"6a99d494c030388f96f6086a7aaa0f03f3fe532e","modified":1731314811348},{"_id":"themes/hexo-theme-matery/source/libs/codeBlock/codeBlockFuction.js","hash":"c7ab06d27a525b15b1eb69027135269e9b9132fb","modified":1731314811348},{"_id":"themes/hexo-theme-matery/source/libs/codeBlock/codeCopy.js","hash":"6d39a766af62e625f177c4d5cf3adc35eed71e61","modified":1731314811348},{"_id":"themes/hexo-theme-matery/source/libs/codeBlock/codeLang.js","hash":"bac88b4d4e3679732d29bd037c34f089cf27cf05","modified":1731314811348},{"_id":"themes/hexo-theme-matery/source/libs/codeBlock/codeShrink.js","hash":"201e8cd761b4be557247bdaf1ebc7c11c83194f6","modified":1731314811348},{"_id":"themes/hexo-theme-matery/source/libs/cryptojs/crypto-js.min.js","hash":"5989527a378b55011a59522f41eeb3981518325c","modified":1731314811348},{"_id":"themes/hexo-theme-matery/source/libs/dplayer/DPlayer.min.css","hash":"f7d19655f873b813ffba5d1a17145c91f82631b8","modified":1731314811349},{"_id":"themes/hexo-theme-matery/source/libs/fancybox/jquery.fancybox.css","hash":"1be9b79be02a1cfc5d96c4a5e0feb8f472babd95","modified":1731314811353},{"_id":"themes/hexo-theme-matery/source/libs/gitalk/gitalk.css","hash":"61d71cb30f5f34cbb1f2b5bc469784d6cb908c22","modified":1731314811353},{"_id":"themes/hexo-theme-matery/source/libs/gitment/gitment-default.css","hash":"2903c59ee06b965bef32e937bd69f5b0b2190717","modified":1731314811356},{"_id":"themes/hexo-theme-matery/source/libs/instantpage/instantpage.js","hash":"83ce8919b1a69b2f1809ffaf99b52a8627e650e9","modified":1731314811357},{"_id":"themes/hexo-theme-matery/source/libs/jqcloud/jqcloud-1.0.4.min.js","hash":"257eaae3020599e4939f50d5008a743827f25b8c","modified":1731314811357},{"_id":"themes/hexo-theme-matery/source/libs/jqcloud/jqcloud.css","hash":"20d9f11a19d95c70e27cb922e0d6dccbec4eae89","modified":1731314811357},{"_id":"themes/hexo-theme-matery/source/libs/justifiedGallery/justifiedGallery.min.css","hash":"b9323091d50785ad6c617d7cae76a41a89eb44b3","modified":1731314811357},{"_id":"themes/hexo-theme-matery/source/libs/justifiedGallery/justifiedGallery.min.js","hash":"6f5433cc9f19ce2403e903e5d01a4c7b38f0969b","modified":1731314811358},{"_id":"themes/hexo-theme-matery/source/libs/masonry/masonry.pkgd.min.js","hash":"d20252cf76c3be8af37a8415d13ad368c762b4d8","modified":1731314811359},{"_id":"themes/hexo-theme-matery/source/libs/mermaid/mermaid.min.css","hash":"1dbcd9312e57f2a0b569451d0028d88316614481","modified":1731314811371},{"_id":"themes/hexo-theme-matery/source/libs/minivaline/MiniValine.js","hash":"f7f6cdc1b22297e02334e304444e9a8351acb455","modified":1731314811377},{"_id":"themes/hexo-theme-matery/source/libs/others/TencentCaptcha.js","hash":"fb4d34c48567b7b992aac1c75f0d24c3eb2cc3fa","modified":1731314811377},{"_id":"themes/hexo-theme-matery/source/libs/others/busuanzi.pure.mini.js","hash":"6e41f31100ae7eb3a6f23f2c168f6dd56e7f7a9a","modified":1731314811377},{"_id":"themes/hexo-theme-matery/source/libs/others/clicklove.js","hash":"6a39b8c683ba5dcd92f70c6ab45d1cfac3213e8e","modified":1731314811377},{"_id":"themes/hexo-theme-matery/source/libs/others/sakura-half.js","hash":"a41b64af88fdd0e2d3502752d059661c1bc743dc","modified":1731314811377},{"_id":"themes/hexo-theme-matery/source/libs/others/sakura-reduce.js","hash":"f7527e9fb4e6fe2cc7c8880692d77bcda95900c7","modified":1731314811377},{"_id":"themes/hexo-theme-matery/source/libs/others/sakura-small.js","hash":"3284a9ab71454e574d80663f3a05735cd12a6a05","modified":1731314811377},{"_id":"themes/hexo-theme-matery/source/libs/others/sakura.js","hash":"b6ebe8f040c84f067300996a5f377846f01605fa","modified":1731314811377},{"_id":"themes/hexo-theme-matery/source/libs/others/snow.js","hash":"02b1eeaca737c47be637b304feb3d36d792ee0c4","modified":1731314811377},{"_id":"themes/hexo-theme-matery/source/libs/others/star.js","hash":"cf32f8ce2a1a51ba65d3b6063fe2ee1482550190","modified":1731314811377},{"_id":"themes/hexo-theme-matery/source/libs/prism/prism.min.css","hash":"ed3896649670cf142e514685da2b060cca5fd43a","modified":1731314811377},{"_id":"themes/hexo-theme-matery/source/libs/scrollprogress/scrollProgress.min.js","hash":"777ffe5d07e85a14fbe97d846f45ffc0087251cc","modified":1731314811380},{"_id":"themes/hexo-theme-matery/source/libs/tocbot/tocbot.css","hash":"15601837bf8557c2fd111e4450ed4c8495fd11a0","modified":1731314811380},{"_id":"themes/hexo-theme-matery/source/libs/tocbot/tocbot.min.js","hash":"39055053a477e7d54b46cfb46591f84cc3818eeb","modified":1731314811381},{"_id":"themes/hexo-theme-matery/source/libs/twikoo/twikoo.all.min.js.LICENSE.txt","hash":"1e286a31ef472fb864fe2b9502e87df9242df56b","modified":1731314811382},{"_id":"themes/hexo-theme-matery/source/libs/typed/typed.js","hash":"eaf2798298790ec3fad17f6c68b5d3b02dfd069c","modified":1731314811382},{"_id":"themes/hexo-theme-matery/source/medias/barrager/0.png","hash":"b30416fd3b3aec5af3fa90823a7e2e9c0af4cda8","modified":1731314811388},{"_id":"themes/hexo-theme-matery/source/medias/barrager/1.png","hash":"b8c211690dba3addedfe7b928e3936cd487df0d6","modified":1731314811388},{"_id":"themes/hexo-theme-matery/source/medias/barrager/2.png","hash":"52b2b13373fe611ad2327b9b40426d6dc05b69cd","modified":1731314811388},{"_id":"themes/hexo-theme-matery/source/medias/barrager/close.png","hash":"045346df61ee01abe5018c5d9ba805d2831ce7b1","modified":1731314811388},{"_id":"themes/hexo-theme-matery/source/medias/featureimages/10.jpg","hash":"98e7f6fd9c97d4de9044b6871ca08ebf14db11b9","modified":1731314811389},{"_id":"themes/hexo-theme-matery/source/medias/featureimages/13.jpg","hash":"35a320174f8e316e3eadaec658024276b651c6e9","modified":1731314811389},{"_id":"themes/hexo-theme-matery/source/medias/featureimages/15.jpg","hash":"da0fbee3b7bde1607eace377ddf834c0be99edfe","modified":1731314811390},{"_id":"themes/hexo-theme-matery/source/medias/featureimages/16.jpg","hash":"97a829c4bc94f9d2929b20a1a9b798c57b9f7205","modified":1731314811390},{"_id":"themes/hexo-theme-matery/source/medias/featureimages/2.jpg","hash":"4bba691cf71a517ecaeaf42afd3e8f8b31e346c1","modified":1731314811391},{"_id":"themes/hexo-theme-matery/source/medias/featureimages/21.jpg","hash":"b26edb128bb0bf58b23fd2f014e9555e89a2ca3b","modified":1731314811391},{"_id":"themes/hexo-theme-matery/source/medias/featureimages/22.jpg","hash":"754579747a3e99747d890fca3162f370b96a7941","modified":1731314811391},{"_id":"themes/hexo-theme-matery/source/medias/featureimages/23.jpg","hash":"7d7f37da3fa7128343adac23866449eb2c6a549a","modified":1731314811392},{"_id":"themes/hexo-theme-matery/source/medias/featureimages/3.jpg","hash":"6ec646c2a70f5f11edacf225c1477f2200a37a96","modified":1731314811392},{"_id":"themes/hexo-theme-matery/source/medias/featureimages/5.jpg","hash":"41ca20129a37fedc573eec28dd7d7b9e5b09228a","modified":1731314811393},{"_id":"themes/hexo-theme-matery/source/medias/featureimages/7.jpg","hash":"7975141cd64e875122c0ea33daaca1a06bf00b8e","modified":1731314811393},{"_id":"themes/hexo-theme-matery/source/medias/featureimages/8.jpg","hash":"8e4b7186352085483ca1174c7c0800114c48df8b","modified":1731314811393},{"_id":"themes/hexo-theme-matery/source/medias/reward/alipay.jpg","hash":"1abc719b95d1b26f1f898e6b0a9b7609146e332f","modified":1731314811397},{"_id":"themes/hexo-theme-matery/source/medias/reward/wechat.png","hash":"fe93385aa92fe328e01c8221a80b039be9e4e140","modified":1731314811397},{"_id":"themes/hexo-theme-matery/source/libs/awesome/webfonts/fa-regular-400.ttf","hash":"9b26d745a1e69b23d71b7ea36d5de1209c997901","modified":1731314811345},{"_id":"themes/hexo-theme-matery/source/libs/awesome/webfonts/fa-regular-400.woff2","hash":"f7a09bcbd996fd634045d4e79b6504c945730686","modified":1731314811345},{"_id":"themes/hexo-theme-matery/source/libs/awesome/webfonts/fa-v4compatibility.ttf","hash":"3fc15c8154f8bd2d7bd1dfe55ae5ab1c33e5e40f","modified":1731314811348},{"_id":"themes/hexo-theme-matery/source/libs/awesome/webfonts/fa-v4compatibility.woff2","hash":"37ab2a6a0810d5a6c10a355fe1d7af0042bd6a2a","modified":1731314811348},{"_id":"themes/hexo-theme-matery/source/libs/lightGallery/css/lightgallery.min.css","hash":"7873d80020ae04955bb57521bd249a6974d1180f","modified":1731314811358},{"_id":"themes/hexo-theme-matery/source/libs/lightGallery/fonts/lg.svg","hash":"509c56c80732a1cd80df8f2b4b0ac1128c31999f","modified":1731314811358},{"_id":"themes/hexo-theme-matery/source/libs/lightGallery/fonts/lg.ttf","hash":"49693fa946534a56d7e5d4274e1ce55b05d782c3","modified":1731314811358},{"_id":"themes/hexo-theme-matery/source/libs/lightGallery/fonts/lg.woff","hash":"04f09ad797ced119d6608909d06e500f16a03bbb","modified":1731314811358},{"_id":"themes/hexo-theme-matery/source/libs/lightGallery/img/loading.gif","hash":"15a76af2739482d8de7354abc6d8dc4fca8d145e","modified":1731314811358},{"_id":"themes/hexo-theme-matery/source/libs/lightGallery/img/video-play.png","hash":"2962e03ddbe04d7e201a5acccac531a2bbccddfc","modified":1731314811358},{"_id":"themes/hexo-theme-matery/source/libs/lightGallery/img/vimeo-play.png","hash":"9b72fc0f86a01467ed0b68c9cc4d604ec316d517","modified":1731314811358},{"_id":"themes/hexo-theme-matery/source/libs/lightGallery/img/youtube-play.png","hash":"f8d11384d33b7a79ee2ba8d522844f14d5067a80","modified":1731314811358},{"_id":"themes/hexo-theme-matery/source/libs/lightGallery/js/lightgallery-all.min.js","hash":"aab2633f69581c2e26e22a23712f1501d7fcec18","modified":1731314811358},{"_id":"themes/hexo-theme-matery/source/libs/share/css/share.min.css","hash":"8a778a86f3ce9a042df6be63a9f1039631e351a5","modified":1731314811380},{"_id":"themes/hexo-theme-matery/source/libs/share/fonts/iconfont.eot","hash":"00ff749c8e202401190cc98d56087cdda716abe4","modified":1731314811380},{"_id":"themes/hexo-theme-matery/source/libs/share/fonts/iconfont.svg","hash":"1d56c9d5db0273f07c43cc1397e440f98ba7827a","modified":1731314811380},{"_id":"themes/hexo-theme-matery/source/libs/share/fonts/iconfont.ttf","hash":"afd898f59d363887418669520b24d175f966a083","modified":1731314811380},{"_id":"themes/hexo-theme-matery/source/libs/share/fonts/iconfont.woff","hash":"2e3fce1dcfbd6e2114e7bfbeaf72d3c62e15a1bd","modified":1731314811380},{"_id":"themes/hexo-theme-matery/source/libs/share/js/jquery.share.min.js","hash":"41367dcb857e02e3c417ebe68a554ce1d4430806","modified":1731314811380},{"_id":"themes/hexo-theme-matery/source/libs/share/js/social-share.min.js","hash":"a3090a02786dcd4efc6355c1c1dc978add8d6827","modified":1731314811380},{"_id":"themes/hexo-theme-matery/source/libs/fancybox/fancybox.js","hash":"eef46b6fb2e460838cd7328a6e13ecda0cb1e194","modified":1731314811353},{"_id":"themes/hexo-theme-matery/source/libs/gitment/gitment.js","hash":"28c02c45ce568e084cd1041dc493f83f9c6c88c6","modified":1731314811357},{"_id":"themes/hexo-theme-matery/source/libs/jquery/jquery-3.6.0.min.js","hash":"b82d238d4e31fdf618bae8ac11a6c812c03dd0d4","modified":1731314811357},{"_id":"themes/hexo-theme-matery/source/medias/banner/0.jpg","hash":"69ec96cd9b4bc3aa631adc9da61353f50c39f031","modified":1731314811385},{"_id":"themes/hexo-theme-matery/source/medias/banner/2.jpg","hash":"39fb2535460ce66cc0b34e07ffb9411db1405f09","modified":1731314811386},{"_id":"themes/hexo-theme-matery/source/medias/banner/3.jpg","hash":"4ac047e92d0363b1a61ab756aca6dac13fb77494","modified":1731314811386},{"_id":"themes/hexo-theme-matery/source/medias/featureimages/0.jpg","hash":"1c3300f029fc85d6dda6fa4f1d699551034cdaf7","modified":1731314811388},{"_id":"themes/hexo-theme-matery/source/medias/featureimages/1.jpg","hash":"684ae89de8cb7acefae19f5aee6c612037c46393","modified":1731314811389},{"_id":"themes/hexo-theme-matery/source/medias/featureimages/11.jpg","hash":"f55972ce7175684f2b11c3c9fc2b5b14bccbfae8","modified":1731314811389},{"_id":"themes/hexo-theme-matery/source/medias/featureimages/12.jpg","hash":"8a4b2e7d92ae95c3b0c921db23c35aa9a41a7d58","modified":1731314811389},{"_id":"themes/hexo-theme-matery/source/medias/featureimages/14.jpg","hash":"38e11221406785bcd93aa9cd23e568e164630ef1","modified":1731314811390},{"_id":"themes/hexo-theme-matery/source/medias/featureimages/17.jpg","hash":"42d47903551ee81885c1386022982cae165841c5","modified":1731314811390},{"_id":"themes/hexo-theme-matery/source/medias/featureimages/18.jpg","hash":"64829272ec85bb819d55ff89e5b5fd6f64aa436b","modified":1731314811390},{"_id":"themes/hexo-theme-matery/source/medias/featureimages/19.jpg","hash":"eb250906fdbc0c408f42ae9933725bc1a05d79fb","modified":1731314811391},{"_id":"themes/hexo-theme-matery/source/medias/featureimages/20.jpg","hash":"3b11f9b461168d907073f793190865fe621a8573","modified":1731314811391},{"_id":"themes/hexo-theme-matery/source/medias/featureimages/4.jpg","hash":"e06c47de27619984be9d5d02947f8370a432dfea","modified":1731314811392},{"_id":"themes/hexo-theme-matery/source/medias/featureimages/6.jpg","hash":"c8f2aa4bbb041158b4e73733a341e6a77c8583f7","modified":1731314811393},{"_id":"themes/hexo-theme-matery/source/medias/featureimages/9.jpg","hash":"b956a2291a04b2132366b53666cf34858b8bdb1f","modified":1731314811393},{"_id":"themes/hexo-theme-matery/source/libs/awesome/css/all.min.css","hash":"0ae47fa834fb55de7b50c79021aeabecfae50c9c","modified":1731314811343},{"_id":"themes/hexo-theme-matery/source/libs/awesome/webfonts/fa-brands-400.woff2","hash":"e219af1e3bbc2219359d3d0916e263b279c4abfd","modified":1731314811344},{"_id":"themes/hexo-theme-matery/source/medias/cover.jpg","hash":"d4957ff7cc5e88555cd840f2956ab0561e6f1ccf","modified":1731314811388},{"_id":"themes/hexo-theme-matery/source/libs/dplayer/DPlayer.min.js","hash":"490148a22ab2b03a880495cc733ecd1840c02ed6","modified":1731314811349},{"_id":"themes/hexo-theme-matery/source/libs/materialize/materialize.min.css","hash":"d1328a7872827bc63e7cc4d33745397681accda8","modified":1731314811359},{"_id":"themes/hexo-theme-matery/source/libs/materialize/materialize.min.js","hash":"8eee32acbfac59744b4053a7290f503ef623d3ab","modified":1731314811360},{"_id":"themes/hexo-theme-matery/source/libs/valine/Valine.min.js","hash":"d081a412c63411a75a3a880ddece65335d1c3ee8","modified":1731314811383},{"_id":"themes/hexo-theme-matery/source/libs/waline/Waline.min.js","hash":"94f70e622e2a1ab05adb205033a9ddf371c61534","modified":1731314811385},{"_id":"themes/hexo-theme-matery/source/medias/banner/1.jpg","hash":"ab122a36998a4f62a61e61a4fc5e00248113413b","modified":1731314811386},{"_id":"themes/hexo-theme-matery/source/medias/banner/5.jpg","hash":"852418f4f09e796e12bc3bab7a1488d3f37d6486","modified":1731314811387},{"_id":"themes/hexo-theme-matery/source/medias/banner/6.jpg","hash":"ed7282cc129c4ff9f322d2f2897fb4aac5c48589","modified":1731314811388},{"_id":"themes/hexo-theme-matery/source/medias/images/02.jpg","hash":"a5b656606811f4d7e10307f48c0e3c373e0b886d","modified":1731314811395},{"_id":"themes/hexo-theme-matery/source/libs/awesome/css/all.css","hash":"8d63fa8b0f60a50b07ac0f7e751f6f5e02ecdc44","modified":1731314811342},{"_id":"themes/hexo-theme-matery/source/libs/awesome/webfonts/fa-brands-400.ttf","hash":"fa5745d421c0fc90928626be98e9f8cf7580b327","modified":1731314811344},{"_id":"themes/hexo-theme-matery/source/libs/awesome/webfonts/fa-solid-900.woff2","hash":"1979128e8ba1517d85f5e4ee505abf486c51557c","modified":1731314811348},{"_id":"themes/hexo-theme-matery/source/js/crypto-js.js","hash":"ddacd177f23f65ff97b93b0417048f51928ee17e","modified":1731314811341},{"_id":"themes/hexo-theme-matery/source/libs/valine/av-min.js","hash":"db56ef6acb789da00d39bd6b97c1b09c2d429195","modified":1731314811384},{"_id":"themes/hexo-theme-matery/source/medias/banner/4.jpg","hash":"e5ac5033678afa9d69edffe9a61004f836cb5734","modified":1731314811387},{"_id":"themes/hexo-theme-matery/source/medias/images/03.jpg","hash":"2bd3815508a9f5b0ae79aa780bc02ac80b2a354e","modified":1731314811396},{"_id":"themes/hexo-theme-matery/source/libs/awesome/webfonts/fa-solid-900.ttf","hash":"e3339400ef6214cfa077d003daed2bfa659e2956","modified":1731314811348},{"_id":"themes/hexo-theme-matery/source/libs/twikoo/twikoo.all.min.js","hash":"c3f5f0a69b7864e7ef5bbf99fc774bec37947d7c","modified":1731314811382},{"_id":"themes/hexo-theme-matery/source/libs/prism/prism.min.js","hash":"6fc9b7be93e51b4017a61483c13187af0149f194","modified":1731314811380},{"_id":"themes/hexo-theme-matery/source/medias/images/01.jpg","hash":"6a81f437fb876666bafaa98b2a09bd8bd7f21832","modified":1731314811395},{"_id":"themes/hexo-theme-matery/source/libs/echarts/echarts.min.js","hash":"9496f386a0da4601cad22c479cc5543913a4d67f","modified":1731314811353},{"_id":"themes/hexo-theme-matery/source/libs/gitalk/gitalk.min.js","hash":"564fc7c731d05fa70d71ef853a2c8cc7725739e2","modified":1731314811356},{"_id":"themes/hexo-theme-matery/source/libs/mermaid/mermaid.min.js","hash":"6bee48c26c32b90f50519f125890fcbb04779da6","modified":1731314811376},{"_id":"themes/hexo-theme-matery/source/libs/mermaid/mermaid.js","hash":"a7933bef8aba190825ba7716497209187ac1de5d","modified":1731314811371},{"_id":"public/2024/11/11/hello-world/index.html","hash":"90399edec928e44dc3c9778656858025de07c971","modified":1731321920208},{"_id":"public/archives/index.html","hash":"0c93cce4666b467cf5084ce36d18db7b552e16cf","modified":1731321920208},{"_id":"public/archives/2024/index.html","hash":"76db17fac6ac82cfdfad4c3d18d268883c8526f3","modified":1731321920208},{"_id":"public/archives/2024/11/index.html","hash":"560ffc9f2216e4868cc46cf85e9dad0e7cf8b6b2","modified":1731321920208},{"_id":"public/index.html","hash":"16f20c271e57b8048096c0f3667789ef778eed06","modified":1731321920208},{"_id":"public/favicon.png","hash":"774fee8c6d0be9dbb010b20f36c06848d06e3da0","modified":1731320831305},{"_id":"public/medias/avatar.jpg","hash":"2a6287308628881ce27b9a7de53ba15c2be00d02","modified":1731320831305},{"_id":"public/medias/comment_bg.png","hash":"dfc93d24081884fbc58cab0f8fd19e77d31d6123","modified":1731320831305},{"_id":"public/medias/icp.png","hash":"27a96f31f7d0413c6ade6f40e06f021f501151c7","modified":1731320831305},{"_id":"public/medias/logo.png","hash":"d9095f5ea8719374d9d1ff020279426f5b2a1396","modified":1731320831305},{"_id":"public/libs/twikoo/twikoo.all.min.js.LICENSE.txt","hash":"1e286a31ef472fb864fe2b9502e87df9242df56b","modified":1731320831305},{"_id":"public/medias/barrager/0.png","hash":"b30416fd3b3aec5af3fa90823a7e2e9c0af4cda8","modified":1731320831305},{"_id":"public/medias/barrager/1.png","hash":"b8c211690dba3addedfe7b928e3936cd487df0d6","modified":1731320831305},{"_id":"public/medias/barrager/2.png","hash":"52b2b13373fe611ad2327b9b40426d6dc05b69cd","modified":1731320831305},{"_id":"public/medias/barrager/close.png","hash":"045346df61ee01abe5018c5d9ba805d2831ce7b1","modified":1731320831305},{"_id":"public/medias/featureimages/10.jpg","hash":"98e7f6fd9c97d4de9044b6871ca08ebf14db11b9","modified":1731320831305},{"_id":"public/medias/featureimages/13.jpg","hash":"35a320174f8e316e3eadaec658024276b651c6e9","modified":1731320831305},{"_id":"public/medias/featureimages/15.jpg","hash":"da0fbee3b7bde1607eace377ddf834c0be99edfe","modified":1731320831305},{"_id":"public/medias/featureimages/16.jpg","hash":"97a829c4bc94f9d2929b20a1a9b798c57b9f7205","modified":1731320831305},{"_id":"public/medias/featureimages/2.jpg","hash":"4bba691cf71a517ecaeaf42afd3e8f8b31e346c1","modified":1731320831305},{"_id":"public/medias/featureimages/21.jpg","hash":"b26edb128bb0bf58b23fd2f014e9555e89a2ca3b","modified":1731320831305},{"_id":"public/medias/featureimages/22.jpg","hash":"754579747a3e99747d890fca3162f370b96a7941","modified":1731320831305},{"_id":"public/medias/featureimages/23.jpg","hash":"7d7f37da3fa7128343adac23866449eb2c6a549a","modified":1731320831305},{"_id":"public/medias/featureimages/3.jpg","hash":"6ec646c2a70f5f11edacf225c1477f2200a37a96","modified":1731320831305},{"_id":"public/medias/featureimages/5.jpg","hash":"41ca20129a37fedc573eec28dd7d7b9e5b09228a","modified":1731320831305},{"_id":"public/medias/featureimages/7.jpg","hash":"7975141cd64e875122c0ea33daaca1a06bf00b8e","modified":1731320831305},{"_id":"public/medias/featureimages/8.jpg","hash":"8e4b7186352085483ca1174c7c0800114c48df8b","modified":1731320831305},{"_id":"public/medias/reward/alipay.jpg","hash":"1abc719b95d1b26f1f898e6b0a9b7609146e332f","modified":1731320831305},{"_id":"public/medias/reward/wechat.png","hash":"fe93385aa92fe328e01c8221a80b039be9e4e140","modified":1731320831305},{"_id":"public/libs/awesome/webfonts/fa-regular-400.ttf","hash":"9b26d745a1e69b23d71b7ea36d5de1209c997901","modified":1731320831305},{"_id":"public/libs/awesome/webfonts/fa-regular-400.woff2","hash":"f7a09bcbd996fd634045d4e79b6504c945730686","modified":1731320831305},{"_id":"public/libs/awesome/webfonts/fa-v4compatibility.ttf","hash":"3fc15c8154f8bd2d7bd1dfe55ae5ab1c33e5e40f","modified":1731320831305},{"_id":"public/libs/awesome/webfonts/fa-v4compatibility.woff2","hash":"37ab2a6a0810d5a6c10a355fe1d7af0042bd6a2a","modified":1731320831305},{"_id":"public/libs/lightGallery/fonts/lg.svg","hash":"509c56c80732a1cd80df8f2b4b0ac1128c31999f","modified":1731320831305},{"_id":"public/libs/lightGallery/fonts/lg.ttf","hash":"49693fa946534a56d7e5d4274e1ce55b05d782c3","modified":1731320831305},{"_id":"public/libs/lightGallery/fonts/lg.woff","hash":"04f09ad797ced119d6608909d06e500f16a03bbb","modified":1731320831305},{"_id":"public/libs/lightGallery/img/loading.gif","hash":"15a76af2739482d8de7354abc6d8dc4fca8d145e","modified":1731320831305},{"_id":"public/libs/lightGallery/img/video-play.png","hash":"2962e03ddbe04d7e201a5acccac531a2bbccddfc","modified":1731320831305},{"_id":"public/libs/lightGallery/img/vimeo-play.png","hash":"9b72fc0f86a01467ed0b68c9cc4d604ec316d517","modified":1731320831305},{"_id":"public/libs/lightGallery/img/youtube-play.png","hash":"f8d11384d33b7a79ee2ba8d522844f14d5067a80","modified":1731320831305},{"_id":"public/libs/share/fonts/iconfont.eot","hash":"00ff749c8e202401190cc98d56087cdda716abe4","modified":1731320831305},{"_id":"public/libs/share/fonts/iconfont.svg","hash":"1d56c9d5db0273f07c43cc1397e440f98ba7827a","modified":1731320831305},{"_id":"public/libs/share/fonts/iconfont.ttf","hash":"afd898f59d363887418669520b24d175f966a083","modified":1731320831305},{"_id":"public/libs/share/fonts/iconfont.woff","hash":"2e3fce1dcfbd6e2114e7bfbeaf72d3c62e15a1bd","modified":1731320831305},{"_id":"public/medias/banner/0.jpg","hash":"69ec96cd9b4bc3aa631adc9da61353f50c39f031","modified":1731320831305},{"_id":"public/medias/banner/2.jpg","hash":"39fb2535460ce66cc0b34e07ffb9411db1405f09","modified":1731320831305},{"_id":"public/medias/banner/3.jpg","hash":"4ac047e92d0363b1a61ab756aca6dac13fb77494","modified":1731320831305},{"_id":"public/medias/featureimages/0.jpg","hash":"1c3300f029fc85d6dda6fa4f1d699551034cdaf7","modified":1731320831305},{"_id":"public/medias/featureimages/1.jpg","hash":"684ae89de8cb7acefae19f5aee6c612037c46393","modified":1731320831305},{"_id":"public/medias/featureimages/11.jpg","hash":"f55972ce7175684f2b11c3c9fc2b5b14bccbfae8","modified":1731320831305},{"_id":"public/medias/featureimages/12.jpg","hash":"8a4b2e7d92ae95c3b0c921db23c35aa9a41a7d58","modified":1731320831305},{"_id":"public/medias/featureimages/14.jpg","hash":"38e11221406785bcd93aa9cd23e568e164630ef1","modified":1731320831305},{"_id":"public/medias/featureimages/17.jpg","hash":"42d47903551ee81885c1386022982cae165841c5","modified":1731320831305},{"_id":"public/medias/featureimages/18.jpg","hash":"64829272ec85bb819d55ff89e5b5fd6f64aa436b","modified":1731320831305},{"_id":"public/medias/featureimages/19.jpg","hash":"eb250906fdbc0c408f42ae9933725bc1a05d79fb","modified":1731320831305},{"_id":"public/medias/featureimages/20.jpg","hash":"3b11f9b461168d907073f793190865fe621a8573","modified":1731320831305},{"_id":"public/medias/featureimages/4.jpg","hash":"e06c47de27619984be9d5d02947f8370a432dfea","modified":1731320831305},{"_id":"public/medias/featureimages/6.jpg","hash":"c8f2aa4bbb041158b4e73733a341e6a77c8583f7","modified":1731320831305},{"_id":"public/medias/featureimages/9.jpg","hash":"b956a2291a04b2132366b53666cf34858b8bdb1f","modified":1731320831305},{"_id":"public/libs/awesome/webfonts/fa-brands-400.woff2","hash":"e219af1e3bbc2219359d3d0916e263b279c4abfd","modified":1731320831305},{"_id":"public/css/barrager.css","hash":"862879d9313ed8d4c721fa32ef8f94ac2f0a28ae","modified":1731320831305},{"_id":"public/css/bb.css","hash":"aa15633888c7cf9baea8bb48d796c68b57cf14bf","modified":1731320831305},{"_id":"public/css/gallery.css","hash":"79dfdf68d675c17782271647283c568d086e4b98","modified":1731320831305},{"_id":"public/css/gitment.css","hash":"2bd15cc17dca35ac3ecc0acf167a23a1dd362acd","modified":1731320831305},{"_id":"public/css/indexcover.css","hash":"bd027eb8192b4d1b0dc9b4f965fa264e8437f847","modified":1731320831305},{"_id":"public/css/my-gitalk.css","hash":"af18dd29e58642c18bab9b89541767b494c468dd","modified":1731320831305},{"_id":"public/css/my.css","hash":"497e50351f7838f8546cac76850a42e7e380a110","modified":1731320831305},{"_id":"public/css/post.css","hash":"d38c71eddb8af1752c48eb48595fbaf89450ff40","modified":1731320831305},{"_id":"public/css/reward.css","hash":"98b32aabeb908727844af04c31f08da6cab08335","modified":1731320831305},{"_id":"public/js/gallery-encrypt.js","hash":"18dcfa4a8da8847b64be75f287f45c0e830bbcab","modified":1731320831305},{"_id":"public/js/jquery.barrager.js","hash":"19c8b2498ca1083e537f7f443172970912107f83","modified":1731320831305},{"_id":"public/js/matery.js","hash":"aa957ea8cf6787f0ed6095fedc6cb9d7d1bf3522","modified":1731320831305},{"_id":"public/js/search.js","hash":"5caa2d6e3d34c334ac68dfaafc81a583d6123382","modified":1731320831305},{"_id":"public/libs/aos/aos.js","hash":"02bfb40b0c4b6e9b0b4081218357145cbb327d74","modified":1731320831305},{"_id":"public/libs/aplayer/APlayer.min.css","hash":"07372a2ba507388d0fed166d761b1c2c2a659dce","modified":1731320831305},{"_id":"public/libs/aplayer/Meting.min.js","hash":"f2b3d20b8bd64ccd031c64628f2b1323078ae324","modified":1731320831305},{"_id":"public/libs/background/canvas-nest.js","hash":"65333d0dbb9c1173a1b13031b230161fc42c8b2f","modified":1731320831305},{"_id":"public/libs/background/ribbon-dynamic.js","hash":"052b80c29e6bc585aa28d4504b743bdbac220a88","modified":1731320831305},{"_id":"public/libs/background/ribbon-refresh.min.js","hash":"6d98692b2cad8c746a562db18b170b35c24402f4","modified":1731320831305},{"_id":"public/libs/background/ribbon.min.js","hash":"6a99d494c030388f96f6086a7aaa0f03f3fe532e","modified":1731320831305},{"_id":"public/libs/codeBlock/codeBlockFuction.js","hash":"c7ab06d27a525b15b1eb69027135269e9b9132fb","modified":1731320831305},{"_id":"public/libs/codeBlock/codeCopy.js","hash":"6d39a766af62e625f177c4d5cf3adc35eed71e61","modified":1731320831305},{"_id":"public/libs/codeBlock/codeLang.js","hash":"bac88b4d4e3679732d29bd037c34f089cf27cf05","modified":1731320831305},{"_id":"public/libs/codeBlock/codeShrink.js","hash":"201e8cd761b4be557247bdaf1ebc7c11c83194f6","modified":1731320831305},{"_id":"public/libs/fancybox/jquery.fancybox.css","hash":"1be9b79be02a1cfc5d96c4a5e0feb8f472babd95","modified":1731320831305},{"_id":"public/libs/instantpage/instantpage.js","hash":"83ce8919b1a69b2f1809ffaf99b52a8627e650e9","modified":1731320831305},{"_id":"public/libs/jqcloud/jqcloud-1.0.4.min.js","hash":"257eaae3020599e4939f50d5008a743827f25b8c","modified":1731320831305},{"_id":"public/libs/jqcloud/jqcloud.css","hash":"20d9f11a19d95c70e27cb922e0d6dccbec4eae89","modified":1731320831305},{"_id":"public/libs/justifiedGallery/justifiedGallery.min.css","hash":"89fb099880771c23dce3005a87db36053c8c491c","modified":1731320831305},{"_id":"public/libs/mermaid/mermaid.min.css","hash":"1dbcd9312e57f2a0b569451d0028d88316614481","modified":1731320831305},{"_id":"public/libs/minivaline/MiniValine.js","hash":"f7f6cdc1b22297e02334e304444e9a8351acb455","modified":1731320831305},{"_id":"public/libs/others/TencentCaptcha.js","hash":"10a034ac0b4ebe97ec5916b092b36fa2d6e9edd0","modified":1731320831305},{"_id":"public/libs/others/busuanzi.pure.mini.js","hash":"6e41f31100ae7eb3a6f23f2c168f6dd56e7f7a9a","modified":1731320831305},{"_id":"public/libs/others/clicklove.js","hash":"6a39b8c683ba5dcd92f70c6ab45d1cfac3213e8e","modified":1731320831305},{"_id":"public/libs/others/snow.js","hash":"02b1eeaca737c47be637b304feb3d36d792ee0c4","modified":1731320831305},{"_id":"public/libs/others/star.js","hash":"cf32f8ce2a1a51ba65d3b6063fe2ee1482550190","modified":1731320831305},{"_id":"public/libs/prism/prism.min.css","hash":"ed3896649670cf142e514685da2b060cca5fd43a","modified":1731320831305},{"_id":"public/libs/scrollprogress/scrollProgress.min.js","hash":"777ffe5d07e85a14fbe97d846f45ffc0087251cc","modified":1731320831305},{"_id":"public/libs/tocbot/tocbot.css","hash":"15601837bf8557c2fd111e4450ed4c8495fd11a0","modified":1731320831305},{"_id":"public/libs/tocbot/tocbot.min.js","hash":"39055053a477e7d54b46cfb46591f84cc3818eeb","modified":1731320831305},{"_id":"public/libs/typed/typed.js","hash":"eaf2798298790ec3fad17f6c68b5d3b02dfd069c","modified":1731320831305},{"_id":"public/libs/share/css/share.min.css","hash":"8a778a86f3ce9a042df6be63a9f1039631e351a5","modified":1731320831305},{"_id":"public/css/dark.css","hash":"be4ef08494f3c965d513d9413685c0e723f671cd","modified":1731320831305},{"_id":"public/css/matery.css","hash":"413ad9731332810823b57dd0f4c0284e3af2af63","modified":1731320831305},{"_id":"public/js/crypto-js.js","hash":"3dd73b6f13dc818a3a9c5c7424c1c4a9649b00a2","modified":1731320831305},{"_id":"public/js/tw_cn.js","hash":"29157cdfa87aec28e56d3d5717d486bf4de07db6","modified":1731320831305},{"_id":"public/libs/animate/animate.min.css","hash":"97afa151569f046b2e01f27c1871646e9cd87caf","modified":1731320831305},{"_id":"public/libs/aos/aos.css","hash":"191a3705a8f63e589a50a0ff2f2c5559f1a1b6b2","modified":1731320831305},{"_id":"public/libs/aplayer/APlayer.min.js","hash":"22caa28ff6b41a16ff40f15d38f1739e22359478","modified":1731320831305},{"_id":"public/libs/cryptojs/crypto-js.min.js","hash":"5989527a378b55011a59522f41eeb3981518325c","modified":1731320831305},{"_id":"public/libs/dplayer/DPlayer.min.css","hash":"f7d19655f873b813ffba5d1a17145c91f82631b8","modified":1731320831305},{"_id":"public/libs/dplayer/DPlayer.min.js","hash":"490148a22ab2b03a880495cc733ecd1840c02ed6","modified":1731320831305},{"_id":"public/libs/fancybox/fancybox.js","hash":"6181412e73966696d08e1e5b1243a572d0f22ba6","modified":1731320831305},{"_id":"public/libs/gitalk/gitalk.css","hash":"61d71cb30f5f34cbb1f2b5bc469784d6cb908c22","modified":1731320831305},{"_id":"public/libs/gitment/gitment-default.css","hash":"2903c59ee06b965bef32e937bd69f5b0b2190717","modified":1731320831305},{"_id":"public/libs/gitment/gitment.js","hash":"28c02c45ce568e084cd1041dc493f83f9c6c88c6","modified":1731320831305},{"_id":"public/libs/jquery/jquery-3.6.0.min.js","hash":"b82d238d4e31fdf618bae8ac11a6c812c03dd0d4","modified":1731320831305},{"_id":"public/libs/justifiedGallery/justifiedGallery.min.js","hash":"82ab395176c927ffbb2f7c95132ee0a06cd5d64a","modified":1731320831305},{"_id":"public/libs/masonry/masonry.pkgd.min.js","hash":"d20252cf76c3be8af37a8415d13ad368c762b4d8","modified":1731320831305},{"_id":"public/libs/materialize/materialize.min.css","hash":"d1328a7872827bc63e7cc4d33745397681accda8","modified":1731320831305},{"_id":"public/libs/materialize/materialize.min.js","hash":"8eee32acbfac59744b4053a7290f503ef623d3ab","modified":1731320831305},{"_id":"public/libs/others/sakura-half.js","hash":"a41b64af88fdd0e2d3502752d059661c1bc743dc","modified":1731320831305},{"_id":"public/libs/others/sakura-reduce.js","hash":"f7527e9fb4e6fe2cc7c8880692d77bcda95900c7","modified":1731320831305},{"_id":"public/libs/others/sakura-small.js","hash":"3284a9ab71454e574d80663f3a05735cd12a6a05","modified":1731320831305},{"_id":"public/libs/others/sakura.js","hash":"9e196ab241799126e6a2dd23ee1708b1505ccbf0","modified":1731320831305},{"_id":"public/libs/twikoo/twikoo.all.min.js","hash":"c3f5f0a69b7864e7ef5bbf99fc774bec37947d7c","modified":1731320831305},{"_id":"public/libs/valine/Valine.min.js","hash":"d081a412c63411a75a3a880ddece65335d1c3ee8","modified":1731320831305},{"_id":"public/libs/valine/av-min.js","hash":"db56ef6acb789da00d39bd6b97c1b09c2d429195","modified":1731320831305},{"_id":"public/libs/waline/Waline.min.js","hash":"94f70e622e2a1ab05adb205033a9ddf371c61534","modified":1731320831305},{"_id":"public/libs/awesome/css/all.css","hash":"8d63fa8b0f60a50b07ac0f7e751f6f5e02ecdc44","modified":1731320831305},{"_id":"public/libs/awesome/css/all.min.css","hash":"0ae47fa834fb55de7b50c79021aeabecfae50c9c","modified":1731320831305},{"_id":"public/libs/lightGallery/css/lightgallery.min.css","hash":"7873d80020ae04955bb57521bd249a6974d1180f","modified":1731320831305},{"_id":"public/libs/lightGallery/js/lightgallery-all.min.js","hash":"aab2633f69581c2e26e22a23712f1501d7fcec18","modified":1731320831305},{"_id":"public/libs/share/js/jquery.share.min.js","hash":"41367dcb857e02e3c417ebe68a554ce1d4430806","modified":1731320831305},{"_id":"public/libs/share/js/social-share.min.js","hash":"a3090a02786dcd4efc6355c1c1dc978add8d6827","modified":1731320831305},{"_id":"public/medias/cover.jpg","hash":"d4957ff7cc5e88555cd840f2956ab0561e6f1ccf","modified":1731320831305},{"_id":"public/medias/banner/1.jpg","hash":"ab122a36998a4f62a61e61a4fc5e00248113413b","modified":1731320831305},{"_id":"public/medias/banner/5.jpg","hash":"852418f4f09e796e12bc3bab7a1488d3f37d6486","modified":1731320831305},{"_id":"public/medias/banner/6.jpg","hash":"ed7282cc129c4ff9f322d2f2897fb4aac5c48589","modified":1731320831305},{"_id":"public/medias/images/02.jpg","hash":"a5b656606811f4d7e10307f48c0e3c373e0b886d","modified":1731320831305},{"_id":"public/libs/awesome/webfonts/fa-brands-400.ttf","hash":"fa5745d421c0fc90928626be98e9f8cf7580b327","modified":1731320831305},{"_id":"public/libs/awesome/webfonts/fa-solid-900.woff2","hash":"1979128e8ba1517d85f5e4ee505abf486c51557c","modified":1731320831305},{"_id":"public/libs/echarts/echarts.min.js","hash":"9496f386a0da4601cad22c479cc5543913a4d67f","modified":1731320831305},{"_id":"public/libs/gitalk/gitalk.min.js","hash":"564fc7c731d05fa70d71ef853a2c8cc7725739e2","modified":1731320831305},{"_id":"public/libs/prism/prism.min.js","hash":"6fc9b7be93e51b4017a61483c13187af0149f194","modified":1731320831305},{"_id":"public/libs/mermaid/mermaid.min.js","hash":"6bee48c26c32b90f50519f125890fcbb04779da6","modified":1731320831305},{"_id":"public/medias/banner/4.jpg","hash":"e5ac5033678afa9d69edffe9a61004f836cb5734","modified":1731320831305},{"_id":"public/medias/images/03.jpg","hash":"2bd3815508a9f5b0ae79aa780bc02ac80b2a354e","modified":1731320831305},{"_id":"public/libs/awesome/webfonts/fa-solid-900.ttf","hash":"e3339400ef6214cfa077d003daed2bfa659e2956","modified":1731320831305},{"_id":"public/libs/mermaid/mermaid.js","hash":"a7933bef8aba190825ba7716497209187ac1de5d","modified":1731320831305},{"_id":"public/medias/images/01.jpg","hash":"6a81f437fb876666bafaa98b2a09bd8bd7f21832","modified":1731320831305},{"_id":"source/categories/index.md","hash":"9fe9b474b5a13698b45917a70e500abb901a921b","modified":1731323008156},{"_id":"source/tags/index.md","hash":"85335b5f4d5045a665264c1bbf67b110aaafdbf9","modified":1731323042937},{"_id":"source/about/index.md","hash":"25a25a56523ba76a2e3ea3fb8d85cb4da33ce0fb","modified":1731323060988},{"_id":"source/friends/index.md","hash":"b633d4a5496eeca14fc021785542b61a703e847e","modified":1731323143874}],"Category":[{"name":"","_id":"cm3cx7o5n0007kmmj8tdw5b0i"},{"name":"","_id":"cm3cx7o5r000hkmmj1vqfap76"},{"name":"","parent":"cm3cx7o5n0007kmmj8tdw5b0i","_id":"cm3cx7o5s000kkmmj12rj46e9"},{"name":"","_id":"cm3cx7o5y000zkmmj5e50adk1"}],"Data":[{"_id":"friends","data":[{"avatar":"https://cdn.jsdelivr.net/gh/wylblog/cdn@master/static/image/sidebar/avatar_wyl.jpg","name":"","introduction":"","url":"https://wylblog.github.io","title":"Read More"},{"avatar":"https://img.picui.cn/free/2024/11/10/67304c2431937.jpg","name":"","introduction":".","url":"https://almost181209.github.io/","title":"Read More"}]}],"Page":[{"title":"categories","date":"2024-11-09T16:31:51.000Z","type":"categories","layout":"categories","_content":"","source":"categories/index.md","raw":"---\ntitle: categories\ndate: 2024-11-10 00:31:51\ntype: \"categories\"\nlayout: \"categories\"\n---","updated":"2024-11-11T11:03:51.796Z","path":"categories/index.html","_id":"cm3cx0mub0000kmmjbhukbupz","comments":1,"content":"","site":{"data":{}},"excerpt":"","more":""},{"title":"tags","date":"2024-11-09T16:33:14.000Z","type":"tags","layout":"tags","_content":"","source":"tags/index.md","raw":"---\ntitle: tags\ndate: 2024-11-10 00:33:14\ntype: \"tags\"\nlayout: \"tags\"\n---","updated":"2024-11-11T11:04:12.108Z","path":"tags/index.html","_id":"cm3cx1doj0001kmmjh1i49fom","comments":1,"content":"","site":{"data":{}},"excerpt":"","more":""},{"title":"about","date":"2024-11-09T16:32:31.000Z","type":"about","layout":"about","_content":"","source":"about/index.md","raw":"---\ntitle: about\ndate: 2024-11-10 00:32:31\ntype: \"about\"\nlayout: \"about\"\n---","updated":"2024-11-11T11:04:31.242Z","path":"about/index.html","_id":"cm3cx1rls0002kmmj6qpqaqii","comments":1,"content":"","site":{"data":{}},"excerpt":"","more":""},{"title":"friends","date":"2024-11-09T16:33:14.000Z","type":"friends","layout":"friends","_content":"","source":"friends/index.md","raw":"---\ntitle: friends\ndate: 2024-11-10 00:33:14\ntype: \"friends\"\nlayout: \"friends\"\n---","updated":"2024-11-11T11:05:53.637Z","path":"friends/index.html","_id":"cm3cx3jk70003kmmjal2h34c7","comments":1,"content":"","site":{"data":{}},"excerpt":"","more":""},{"title":"404","date":"2024-11-09T16:31:03.000Z","type":"404","layout":"404","description":"Cannot find the page you want :(","_content":"","source":"404.md","raw":"---\ntitle: 404\ndate: 2024-11-10 00:31:03\ntype: \"404\"\nlayout: \"404\"\ndescription: \"Cannot find the page you want :(\"\n---","updated":"2024-11-11T11:07:02.993Z","path":"404.html","_id":"cm3cx4ycn0004kmmj841ram5s","comments":1,"content":"","site":{"data":{"friends":[{"avatar":"https://cdn.jsdelivr.net/gh/wylblog/cdn@master/static/image/sidebar/avatar_wyl.jpg","name":"","introduction":"","url":"https://wylblog.github.io","title":"Read More"},{"avatar":"https://img.picui.cn/free/2024/11/10/67304c2431937.jpg","name":"","introduction":".","url":"https://almost181209.github.io/","title":"Read More"}]}},"excerpt":"","more":""}],"Post":[{"title":"Go","date":"2024-11-10T15:53:58.000Z","_content":"## 2.Go\n\n### 2.1 \n\nhttps://studygolang.com/pkgdoc\n\n### 2.2 Go\n\nKen Thompson1983Turing Award1998National Medal of TechnologyDennis RitchieUnixThompsonCBC\n\nRob Pike-Bell LabsUnixPlan 9\nThompsonUTF-8\n\nRobert GriesemerJavaHotSpotChromeJavaScriptV8\n\n![image-20200718103112309](https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/image-20200718103112309.png)\n\n\n\n### 2.3 GoogleGo\n\n- CPU\n- \n  - \n- c/c++c/c++\n\n\n\n### 2.4 Go\n\n- 2007Rob PikeKen ThompsonRobert GriesemerGo\n- 20091110GoogleGo\n- 2015819Go1.5c\n- 2017217GoGo1.8\n- 2017824GoGo1.9\n- 2018216GoGo1.10\n\n### 2.5 Go\n\nGoGoGo=C+PythonGoCPython\n\n- cC\n\n```go\n// go\nfunc testPtr(num *int)  {\n\t*num = 20\n}\n```\n\n- Go\n-  \n- \n  - \n  - goroutine\n  - CPSCommunicating Sequential Processes\n- gochannelchannelgoroute\n- \n- slicedefer\n\n### 2.6 Hello Go\n\nhello go\n\n```go\npackage main\n\nimport \"fmt\"\n\nfunc main() {\n\tfmt.Println(\"hello golang\")\n}\n```\n\n> \n\n```sh\nhj@DESKTOP-FBLS07J:~/work/golang/day01$ go run main.go \nhello golang\n```\n\n![image-20240510115729354](https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/image-20240510115729354.png)\n\n### 2.7 Golang\n\n\n\n- go build hello.go    -> hello.exe\n- go  run  hello.go\n\n![image-20200718161111596](https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/image-20200718161111596.png)\n\n#### 2.7.1 \n\n- ```go`\n- `go run go````go`\n- \n\n#### 2.7.2 \n\n- go\n- go build hello.gowindows.exe\n- windows.exe Linux\n- \n\n>  Go \n\n1. Sublime2\n\n2.  *hello.go*\n\n3. \n\n4.  *go run hello.go* \n\n5.  *\"Hello World!\"* \n\n   ```go\n   $ go run hello.go\n   Hello, World!\n   ```\n\n6.  **go build** \n\n   ```go\n   $ go build hello.go \n   $ ls\n   hello    hello.go\n   $ ./hello \n   Hello, World!\n   ```\n\n### 2.8 Go\n\n- Gogo\n- Gomain()\n- Go\n- GoGoGolang\n- Go\n- Goimport\n- \n\n### 2.9 Go\n\nGoLangescape char\n\n- \\t\n- \\n\n- \\\\\\\n- \\r","source":"_posts/Golang.md","raw":"---\ntitle: Go\ndate: 2024-11-10 23:53:58\ntags:\n  - Golang\ncategories: \n  - \n  - \n---\n## 2.Go\n\n### 2.1 \n\nhttps://studygolang.com/pkgdoc\n\n### 2.2 Go\n\nKen Thompson1983Turing Award1998National Medal of TechnologyDennis RitchieUnixThompsonCBC\n\nRob Pike-Bell LabsUnixPlan 9\nThompsonUTF-8\n\nRobert GriesemerJavaHotSpotChromeJavaScriptV8\n\n![image-20200718103112309](https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/image-20200718103112309.png)\n\n\n\n### 2.3 GoogleGo\n\n- CPU\n- \n  - \n- c/c++c/c++\n\n\n\n### 2.4 Go\n\n- 2007Rob PikeKen ThompsonRobert GriesemerGo\n- 20091110GoogleGo\n- 2015819Go1.5c\n- 2017217GoGo1.8\n- 2017824GoGo1.9\n- 2018216GoGo1.10\n\n### 2.5 Go\n\nGoGoGo=C+PythonGoCPython\n\n- cC\n\n```go\n// go\nfunc testPtr(num *int)  {\n\t*num = 20\n}\n```\n\n- Go\n-  \n- \n  - \n  - goroutine\n  - CPSCommunicating Sequential Processes\n- gochannelchannelgoroute\n- \n- slicedefer\n\n### 2.6 Hello Go\n\nhello go\n\n```go\npackage main\n\nimport \"fmt\"\n\nfunc main() {\n\tfmt.Println(\"hello golang\")\n}\n```\n\n> \n\n```sh\nhj@DESKTOP-FBLS07J:~/work/golang/day01$ go run main.go \nhello golang\n```\n\n![image-20240510115729354](https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/image-20240510115729354.png)\n\n### 2.7 Golang\n\n\n\n- go build hello.go    -> hello.exe\n- go  run  hello.go\n\n![image-20200718161111596](https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/image-20200718161111596.png)\n\n#### 2.7.1 \n\n- ```go`\n- `go run go````go`\n- \n\n#### 2.7.2 \n\n- go\n- go build hello.gowindows.exe\n- windows.exe Linux\n- \n\n>  Go \n\n1. Sublime2\n\n2.  *hello.go*\n\n3. \n\n4.  *go run hello.go* \n\n5.  *\"Hello World!\"* \n\n   ```go\n   $ go run hello.go\n   Hello, World!\n   ```\n\n6.  **go build** \n\n   ```go\n   $ go build hello.go \n   $ ls\n   hello    hello.go\n   $ ./hello \n   Hello, World!\n   ```\n\n### 2.8 Go\n\n- Gogo\n- Gomain()\n- Go\n- GoGoGolang\n- Go\n- Goimport\n- \n\n### 2.9 Go\n\nGoLangescape char\n\n- \\t\n- \\n\n- \\\\\\\n- \\r","slug":"Golang","published":1,"updated":"2024-11-10T15:55:20.778Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cm3cx7o5k0005kmmj2uw75of2","content":"<h2 id=\"2-Go\"><a href=\"#2-Go\" class=\"headerlink\" title=\"2.Go\"></a>2.Go</h2><h3 id=\"2-1-\"><a href=\"#2-1-\" class=\"headerlink\" title=\"2.1 \"></a>2.1 </h3><p><a href=\"https://studygolang.com/pkgdoc\">https://studygolang.com/pkgdoc</a></p>\n<h3 id=\"2-2-Go\"><a href=\"#2-2-Go\" class=\"headerlink\" title=\"2.2 Go\"></a>2.2 Go</h3><p>Ken Thompson1983Turing Award1998National Medal of TechnologyDennis RitchieUnixThompsonCBC</p>\n<p>Rob Pike-Bell LabsUnixPlan 9<br>ThompsonUTF-8</p>\n<p>Robert GriesemerJavaHotSpotChromeJavaScriptV8</p>\n<p><img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/image-20200718103112309.png\" alt=\"image-20200718103112309\"></p>\n<h3 id=\"2-3-GoogleGo\"><a href=\"#2-3-GoogleGo\" class=\"headerlink\" title=\"2.3 GoogleGo\"></a>2.3 GoogleGo</h3><ul>\n<li>CPU</li>\n<li><ul>\n<li></li>\n</ul>\n</li>\n<li>c&#x2F;c++c&#x2F;c++</li>\n</ul>\n<h3 id=\"2-4-Go\"><a href=\"#2-4-Go\" class=\"headerlink\" title=\"2.4 Go\"></a>2.4 Go</h3><ul>\n<li>2007Rob PikeKen ThompsonRobert GriesemerGo</li>\n<li>20091110GoogleGo</li>\n<li>2015819Go1.5c</li>\n<li>2017217GoGo1.8</li>\n<li>2017824GoGo1.9</li>\n<li>2018216GoGo1.10</li>\n</ul>\n<h3 id=\"2-5-Go\"><a href=\"#2-5-Go\" class=\"headerlink\" title=\"2.5 Go\"></a>2.5 Go</h3><p>GoGoGo&#x3D;C+PythonGoCPython</p>\n<ul>\n<li>cC</li>\n</ul>\n<pre class=\"line-numbers language-go\" data-language=\"go\"><code class=\"language-go\"><span class=\"token comment\">// go</span>\n<span class=\"token keyword\">func</span> <span class=\"token function\">testPtr</span><span class=\"token punctuation\">(</span>num <span class=\"token operator\">*</span><span class=\"token builtin\">int</span><span class=\"token punctuation\">)</span>  <span class=\"token punctuation\">&#123;</span>\n\t<span class=\"token operator\">*</span>num <span class=\"token operator\">=</span> <span class=\"token number\">20</span>\n<span class=\"token punctuation\">&#125;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n\n<ul>\n<li>Go</li>\n<li> </li>\n<li><ul>\n<li></li>\n<li>goroutine</li>\n<li>CPSCommunicating Sequential Processes</li>\n</ul>\n</li>\n<li>gochannelchannelgoroute</li>\n<li></li>\n<li>slicedefer</li>\n</ul>\n<h3 id=\"2-6-Hello-Go\"><a href=\"#2-6-Hello-Go\" class=\"headerlink\" title=\"2.6 Hello Go\"></a>2.6 Hello Go</h3><p>hello go</p>\n<pre class=\"line-numbers language-go\" data-language=\"go\"><code class=\"language-go\"><span class=\"token keyword\">package</span> main\n\n<span class=\"token keyword\">import</span> <span class=\"token string\">\"fmt\"</span>\n\n<span class=\"token keyword\">func</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n\tfmt<span class=\"token punctuation\">.</span><span class=\"token function\">Println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"hello golang\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">&#125;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<blockquote>\n<p></p>\n</blockquote>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">hj@DESKTOP-FBLS07J:~/work/golang/day01$ go run main.go \nhello golang<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n\n<p><img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/image-20240510115729354.png\" alt=\"image-20240510115729354\"></p>\n<h3 id=\"2-7-Golang\"><a href=\"#2-7-Golang\" class=\"headerlink\" title=\"2.7 Golang\"></a>2.7 Golang</h3><p></p>\n<ul>\n<li>go build hello.go    -&gt; hello.exe</li>\n<li>go  run  hello.go</li>\n</ul>\n<p><img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/image-20200718161111596.png\" alt=\"image-20200718161111596\"></p>\n<h4 id=\"2-7-1-\"><a href=\"#2-7-1-\" class=\"headerlink\" title=\"2.7.1 \"></a>2.7.1 </h4><ul>\n<li><code></code><code>go</code></li>\n<li><code>go run go</code><code></code><code>go</code></li>\n<li></li>\n</ul>\n<h4 id=\"2-7-2-\"><a href=\"#2-7-2-\" class=\"headerlink\" title=\"2.7.2 \"></a>2.7.2 </h4><ul>\n<li>go</li>\n<li>go build hello.gowindows.exe</li>\n<li>windows.exe Linux</li>\n<li></li>\n</ul>\n<blockquote>\n<p> Go </p>\n</blockquote>\n<ol>\n<li><p>Sublime2</p>\n</li>\n<li><p> <em>hello.go</em></p>\n</li>\n<li><p></p>\n</li>\n<li><p> <em>go run hello.go</em> </p>\n</li>\n<li><p> <em>Hello World!</em> </p>\n<pre class=\"line-numbers language-go\" data-language=\"go\"><code class=\"language-go\">$ <span class=\"token keyword\">go</span> run hello<span class=\"token punctuation\">.</span><span class=\"token keyword\">go</span>\nHello<span class=\"token punctuation\">,</span> World<span class=\"token operator\">!</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n</li>\n<li><p> <strong>go build</strong> </p>\n<pre class=\"line-numbers language-go\" data-language=\"go\"><code class=\"language-go\">$ <span class=\"token keyword\">go</span> build hello<span class=\"token punctuation\">.</span><span class=\"token keyword\">go</span> \n$ ls\nhello    hello<span class=\"token punctuation\">.</span><span class=\"token keyword\">go</span>\n$ <span class=\"token punctuation\">.</span><span class=\"token operator\">/</span>hello \nHello<span class=\"token punctuation\">,</span> World<span class=\"token operator\">!</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span></span></code></pre></li>\n</ol>\n<h3 id=\"2-8-Go\"><a href=\"#2-8-Go\" class=\"headerlink\" title=\"2.8 Go\"></a>2.8 Go</h3><ul>\n<li>Gogo</li>\n<li>Gomain()</li>\n<li>Go</li>\n<li>GoGoGolang</li>\n<li>Go</li>\n<li>Goimport</li>\n<li></li>\n</ul>\n<h3 id=\"2-9-Go\"><a href=\"#2-9-Go\" class=\"headerlink\" title=\"2.9 Go\"></a>2.9 Go</h3><p>GoLangescape char</p>\n<ul>\n<li>\\t</li>\n<li>\\n</li>\n<li>\\\\</li>\n<li>\\r</li>\n</ul>\n","site":{"data":{"friends":[{"avatar":"https://cdn.jsdelivr.net/gh/wylblog/cdn@master/static/image/sidebar/avatar_wyl.jpg","name":"","introduction":"","url":"https://wylblog.github.io","title":"Read More"},{"avatar":"https://img.picui.cn/free/2024/11/10/67304c2431937.jpg","name":"","introduction":".","url":"https://almost181209.github.io/","title":"Read More"}]}},"excerpt":"","more":"<h2 id=\"2-Go\"><a href=\"#2-Go\" class=\"headerlink\" title=\"2.Go\"></a>2.Go</h2><h3 id=\"2-1-\"><a href=\"#2-1-\" class=\"headerlink\" title=\"2.1 \"></a>2.1 </h3><p><a href=\"https://studygolang.com/pkgdoc\">https://studygolang.com/pkgdoc</a></p>\n<h3 id=\"2-2-Go\"><a href=\"#2-2-Go\" class=\"headerlink\" title=\"2.2 Go\"></a>2.2 Go</h3><p>Ken Thompson1983Turing Award1998National Medal of TechnologyDennis RitchieUnixThompsonCBC</p>\n<p>Rob Pike-Bell LabsUnixPlan 9<br>ThompsonUTF-8</p>\n<p>Robert GriesemerJavaHotSpotChromeJavaScriptV8</p>\n<p><img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/image-20200718103112309.png\" alt=\"image-20200718103112309\"></p>\n<h3 id=\"2-3-GoogleGo\"><a href=\"#2-3-GoogleGo\" class=\"headerlink\" title=\"2.3 GoogleGo\"></a>2.3 GoogleGo</h3><ul>\n<li>CPU</li>\n<li><ul>\n<li></li>\n</ul>\n</li>\n<li>c&#x2F;c++c&#x2F;c++</li>\n</ul>\n<h3 id=\"2-4-Go\"><a href=\"#2-4-Go\" class=\"headerlink\" title=\"2.4 Go\"></a>2.4 Go</h3><ul>\n<li>2007Rob PikeKen ThompsonRobert GriesemerGo</li>\n<li>20091110GoogleGo</li>\n<li>2015819Go1.5c</li>\n<li>2017217GoGo1.8</li>\n<li>2017824GoGo1.9</li>\n<li>2018216GoGo1.10</li>\n</ul>\n<h3 id=\"2-5-Go\"><a href=\"#2-5-Go\" class=\"headerlink\" title=\"2.5 Go\"></a>2.5 Go</h3><p>GoGoGo&#x3D;C+PythonGoCPython</p>\n<ul>\n<li>cC</li>\n</ul>\n<pre class=\"line-numbers language-go\" data-language=\"go\"><code class=\"language-go\"><span class=\"token comment\">// go</span>\n<span class=\"token keyword\">func</span> <span class=\"token function\">testPtr</span><span class=\"token punctuation\">(</span>num <span class=\"token operator\">*</span><span class=\"token builtin\">int</span><span class=\"token punctuation\">)</span>  <span class=\"token punctuation\">&#123;</span>\n\t<span class=\"token operator\">*</span>num <span class=\"token operator\">=</span> <span class=\"token number\">20</span>\n<span class=\"token punctuation\">&#125;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n\n<ul>\n<li>Go</li>\n<li> </li>\n<li><ul>\n<li></li>\n<li>goroutine</li>\n<li>CPSCommunicating Sequential Processes</li>\n</ul>\n</li>\n<li>gochannelchannelgoroute</li>\n<li></li>\n<li>slicedefer</li>\n</ul>\n<h3 id=\"2-6-Hello-Go\"><a href=\"#2-6-Hello-Go\" class=\"headerlink\" title=\"2.6 Hello Go\"></a>2.6 Hello Go</h3><p>hello go</p>\n<pre class=\"line-numbers language-go\" data-language=\"go\"><code class=\"language-go\"><span class=\"token keyword\">package</span> main\n\n<span class=\"token keyword\">import</span> <span class=\"token string\">\"fmt\"</span>\n\n<span class=\"token keyword\">func</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n\tfmt<span class=\"token punctuation\">.</span><span class=\"token function\">Println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"hello golang\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">&#125;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<blockquote>\n<p></p>\n</blockquote>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">hj@DESKTOP-FBLS07J:~/work/golang/day01$ go run main.go \nhello golang<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n\n<p><img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/image-20240510115729354.png\" alt=\"image-20240510115729354\"></p>\n<h3 id=\"2-7-Golang\"><a href=\"#2-7-Golang\" class=\"headerlink\" title=\"2.7 Golang\"></a>2.7 Golang</h3><p></p>\n<ul>\n<li>go build hello.go    -&gt; hello.exe</li>\n<li>go  run  hello.go</li>\n</ul>\n<p><img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/image-20200718161111596.png\" alt=\"image-20200718161111596\"></p>\n<h4 id=\"2-7-1-\"><a href=\"#2-7-1-\" class=\"headerlink\" title=\"2.7.1 \"></a>2.7.1 </h4><ul>\n<li><code></code><code>go</code></li>\n<li><code>go run go</code><code></code><code>go</code></li>\n<li></li>\n</ul>\n<h4 id=\"2-7-2-\"><a href=\"#2-7-2-\" class=\"headerlink\" title=\"2.7.2 \"></a>2.7.2 </h4><ul>\n<li>go</li>\n<li>go build hello.gowindows.exe</li>\n<li>windows.exe Linux</li>\n<li></li>\n</ul>\n<blockquote>\n<p> Go </p>\n</blockquote>\n<ol>\n<li><p>Sublime2</p>\n</li>\n<li><p> <em>hello.go</em></p>\n</li>\n<li><p></p>\n</li>\n<li><p> <em>go run hello.go</em> </p>\n</li>\n<li><p> <em>Hello World!</em> </p>\n<pre class=\"line-numbers language-go\" data-language=\"go\"><code class=\"language-go\">$ <span class=\"token keyword\">go</span> run hello<span class=\"token punctuation\">.</span><span class=\"token keyword\">go</span>\nHello<span class=\"token punctuation\">,</span> World<span class=\"token operator\">!</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n</li>\n<li><p> <strong>go build</strong> </p>\n<pre class=\"line-numbers language-go\" data-language=\"go\"><code class=\"language-go\">$ <span class=\"token keyword\">go</span> build hello<span class=\"token punctuation\">.</span><span class=\"token keyword\">go</span> \n$ ls\nhello    hello<span class=\"token punctuation\">.</span><span class=\"token keyword\">go</span>\n$ <span class=\"token punctuation\">.</span><span class=\"token operator\">/</span>hello \nHello<span class=\"token punctuation\">,</span> World<span class=\"token operator\">!</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span></span></code></pre></li>\n</ol>\n<h3 id=\"2-8-Go\"><a href=\"#2-8-Go\" class=\"headerlink\" title=\"2.8 Go\"></a>2.8 Go</h3><ul>\n<li>Gogo</li>\n<li>Gomain()</li>\n<li>Go</li>\n<li>GoGoGolang</li>\n<li>Go</li>\n<li>Goimport</li>\n<li></li>\n</ul>\n<h3 id=\"2-9-Go\"><a href=\"#2-9-Go\" class=\"headerlink\" title=\"2.9 Go\"></a>2.9 Go</h3><p>GoLangescape char</p>\n<ul>\n<li>\\t</li>\n<li>\\n</li>\n<li>\\\\</li>\n<li>\\r</li>\n</ul>\n"},{"title":"Golang","date":"2024-11-10T15:47:18.000Z","_content":"## 1.Go\n\ngogo\n\nIT:https://www.bilibili.com/video/BV14T4y1g7h9/?spm_id_from=333.337.search-card.all.click\n\n\n\n### 1.1 WindowsGo\n\n> Go\n\ngo [](https://studygolang.com/dl)GoWindowsWindows\n\n![image-20200718111751694](https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/image-20200718111751694.png)\n\n\n\n![image-20200718111822269](https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/image-20200718111822269.png)\n\n> \n\nwindowsGogo\n\n|  |               |\n| -------- | ----------------- |\n| GOROOT   | SDK |\n| Path     | SDK/binmulu |\n| GOPATH   |           |\n\nGOROOT\n\n![image-20200718151418230](https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/image-20200718151418230.png)\n\nPATHbin\n\n![image-20200718151503318](https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/image-20200718151503318.png)\n\n\n\n```sh\ngo version\n```\n\n![image-20240510113522780](https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/image-20240510113522780.png)\n\n### 1.2 linuxGo\n\nwindowswsl2\n\n> 1[linux](https://so.csdn.net/so/search?q=linux&spm=1001.2101.3001.7020) go [Downloads - The Go Programming Language](https://golang.google.cn/dl/)\n\n\n\n> wget \n\n```sh\nwget https://dl.google.com/go/go1.22.3.linux-amd64.tar.gz\n```\n\n> 2/usr/local \n\n```sh\ntar -zxvf go1.22.3.linux-amd64.tar.gz -C /usr/local\n```\n\n> 3\n\n```sh\n# vim`sudo apt-get install vim`\nvim /etc/profile\n# \n# Golang \nexport GOROOT=/usr/local/go\nexport GOPATH=$HOME/go\nexport PATH=$PATH:$GOROOT/bin:$GOPATH/bin\n# sourcevim \nsource /etc/profile\n```\n\n> 4\n\n![image-20240510114728267](https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/image-20240510114728267.png)\n\n### 1.3 Visual Studio Code \n\n[Visual Studio Code - Code Editing. Redefined](https://code.visualstudio.com/)\n\n> go\n\n![image-20240510115058408](https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/image-20240510115058408.png)\n\n> VSCodeGo tools\n\n****\n\n```sh\nhj@DESKTOP-FBLS07J:~$ go version\ngo version go1.22.3 linux/amd64\n```\n\nGoVS CodeGOgo tools\n\n> \n\n```powershell\nThe gopls command is not available. Use go get -v golang.org/x/tools/cmd/gopls to install.\n```\n\n****\n\n```sh\ngo env -w GO111MODULE=on\ngo env -w GOPROXY=https://goproxy.io,direct\n```\n\n![image-20240509194134014](https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/image-20240509194134014.png)\n\nVS Code\n\nhttps://l2m2.top/2020/05/26/2020-05-26-fix-golang-tools-failed-on-vscode/","source":"_posts/Golang.md","raw":"---\ntitle: Golang\ndate: 2024-11-10 23:47:18\ntags:\n  - Golang\ncategories: \n  - \n  - \n---\n## 1.Go\n\ngogo\n\nIT:https://www.bilibili.com/video/BV14T4y1g7h9/?spm_id_from=333.337.search-card.all.click\n\n\n\n### 1.1 WindowsGo\n\n> Go\n\ngo [](https://studygolang.com/dl)GoWindowsWindows\n\n![image-20200718111751694](https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/image-20200718111751694.png)\n\n\n\n![image-20200718111822269](https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/image-20200718111822269.png)\n\n> \n\nwindowsGogo\n\n|  |               |\n| -------- | ----------------- |\n| GOROOT   | SDK |\n| Path     | SDK/binmulu |\n| GOPATH   |           |\n\nGOROOT\n\n![image-20200718151418230](https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/image-20200718151418230.png)\n\nPATHbin\n\n![image-20200718151503318](https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/image-20200718151503318.png)\n\n\n\n```sh\ngo version\n```\n\n![image-20240510113522780](https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/image-20240510113522780.png)\n\n### 1.2 linuxGo\n\nwindowswsl2\n\n> 1[linux](https://so.csdn.net/so/search?q=linux&spm=1001.2101.3001.7020) go [Downloads - The Go Programming Language](https://golang.google.cn/dl/)\n\n\n\n> wget \n\n```sh\nwget https://dl.google.com/go/go1.22.3.linux-amd64.tar.gz\n```\n\n> 2/usr/local \n\n```sh\ntar -zxvf go1.22.3.linux-amd64.tar.gz -C /usr/local\n```\n\n> 3\n\n```sh\n# vim`sudo apt-get install vim`\nvim /etc/profile\n# \n# Golang \nexport GOROOT=/usr/local/go\nexport GOPATH=$HOME/go\nexport PATH=$PATH:$GOROOT/bin:$GOPATH/bin\n# sourcevim \nsource /etc/profile\n```\n\n> 4\n\n![image-20240510114728267](https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/image-20240510114728267.png)\n\n### 1.3 Visual Studio Code \n\n[Visual Studio Code - Code Editing. Redefined](https://code.visualstudio.com/)\n\n> go\n\n![image-20240510115058408](https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/image-20240510115058408.png)\n\n> VSCodeGo tools\n\n****\n\n```sh\nhj@DESKTOP-FBLS07J:~$ go version\ngo version go1.22.3 linux/amd64\n```\n\nGoVS CodeGOgo tools\n\n> \n\n```powershell\nThe gopls command is not available. Use go get -v golang.org/x/tools/cmd/gopls to install.\n```\n\n****\n\n```sh\ngo env -w GO111MODULE=on\ngo env -w GOPROXY=https://goproxy.io,direct\n```\n\n![image-20240509194134014](https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/image-20240509194134014.png)\n\nVS Code\n\nhttps://l2m2.top/2020/05/26/2020-05-26-fix-golang-tools-failed-on-vscode/","slug":"Golang","published":1,"updated":"2024-11-10T15:51:52.668Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cm3cx7o5m0006kmmjb89l9lyt","content":"<h2 id=\"1-Go\"><a href=\"#1-Go\" class=\"headerlink\" title=\"1.Go\"></a>1.Go</h2><p>gogo</p>\n<p>IT:<a href=\"https://www.bilibili.com/video/BV14T4y1g7h9/?spm_id_from=333.337.search-card.all.click\">https://www.bilibili.com/video/BV14T4y1g7h9/?spm_id_from=333.337.search-card.all.click</a></p>\n<p></p>\n<h3 id=\"1-1-WindowsGo\"><a href=\"#1-1-WindowsGo\" class=\"headerlink\" title=\"1.1 WindowsGo\"></a>1.1 WindowsGo</h3><blockquote>\n<p>Go</p>\n</blockquote>\n<p>go <a href=\"https://studygolang.com/dl\"></a>GoWindowsWindows</p>\n<p><img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/image-20200718111751694.png\" alt=\"image-20200718111751694\"></p>\n<p></p>\n<p><img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/image-20200718111822269.png\" alt=\"image-20200718111822269\"></p>\n<blockquote>\n<p></p>\n</blockquote>\n<p>windowsGogo</p>\n<table>\n<thead>\n<tr>\n<th></th>\n<th></th>\n</tr>\n</thead>\n<tbody><tr>\n<td>GOROOT</td>\n<td>SDK</td>\n</tr>\n<tr>\n<td>Path</td>\n<td>SDK&#x2F;binmulu</td>\n</tr>\n<tr>\n<td>GOPATH</td>\n<td></td>\n</tr>\n</tbody></table>\n<p>GOROOT</p>\n<p><img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/image-20200718151418230.png\" alt=\"image-20200718151418230\"></p>\n<p>PATHbin</p>\n<p><img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/image-20200718151503318.png\" alt=\"image-20200718151503318\"></p>\n<p></p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">go version<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p><img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/image-20240510113522780.png\" alt=\"image-20240510113522780\"></p>\n<h3 id=\"1-2-linuxGo\"><a href=\"#1-2-linuxGo\" class=\"headerlink\" title=\"1.2 linuxGo\"></a>1.2 linuxGo</h3><p>windowswsl2</p>\n<blockquote>\n<p>1<a href=\"https://so.csdn.net/so/search?q=linux&spm=1001.2101.3001.7020\">linux</a> go <a href=\"https://golang.google.cn/dl/\">Downloads - The Go Programming Language</a></p>\n</blockquote>\n<p></p>\n<blockquote>\n<p>wget </p>\n</blockquote>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">wget</span> https://dl.google.com/go/go1.22.3.linux-amd64.tar.gz<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<blockquote>\n<p>2&#x2F;usr&#x2F;local </p>\n</blockquote>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">tar</span> <span class=\"token parameter variable\">-zxvf</span> go1.22.3.linux-amd64.tar.gz <span class=\"token parameter variable\">-C</span> /usr/local<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<blockquote>\n<p>3</p>\n</blockquote>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token comment\"># vim`sudo apt-get install vim`</span>\n<span class=\"token function\">vim</span> /etc/profile\n<span class=\"token comment\"># </span>\n<span class=\"token comment\"># Golang </span>\n<span class=\"token builtin class-name\">export</span> <span class=\"token assign-left variable\">GOROOT</span><span class=\"token operator\">=</span>/usr/local/go\n<span class=\"token builtin class-name\">export</span> <span class=\"token assign-left variable\">GOPATH</span><span class=\"token operator\">=</span><span class=\"token environment constant\">$HOME</span>/go\n<span class=\"token builtin class-name\">export</span> <span class=\"token assign-left variable\"><span class=\"token environment constant\">PATH</span></span><span class=\"token operator\">=</span><span class=\"token environment constant\">$PATH</span><span class=\"token builtin class-name\">:</span><span class=\"token variable\">$GOROOT</span>/bin:<span class=\"token variable\">$GOPATH</span>/bin\n<span class=\"token comment\"># sourcevim </span>\n<span class=\"token builtin class-name\">source</span> /etc/profile<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<blockquote>\n<p>4</p>\n</blockquote>\n<p><img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/image-20240510114728267.png\" alt=\"image-20240510114728267\"></p>\n<h3 id=\"1-3-Visual-Studio-Code-\"><a href=\"#1-3-Visual-Studio-Code-\" class=\"headerlink\" title=\"1.3 Visual Studio Code \"></a>1.3 Visual Studio Code </h3><p><a href=\"https://code.visualstudio.com/\">Visual Studio Code - Code Editing. Redefined</a></p>\n<blockquote>\n<p>go</p>\n</blockquote>\n<p><img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/image-20240510115058408.png\" alt=\"image-20240510115058408\"></p>\n<blockquote>\n<p>VSCodeGo tools</p>\n</blockquote>\n<p><strong></strong></p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">hj@DESKTOP-FBLS07J:~$ go version\ngo version go1.22.3 linux/amd64<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n\n<p>GoVS CodeGOgo tools</p>\n<blockquote>\n<p></p>\n</blockquote>\n<pre class=\"line-numbers language-powershell\" data-language=\"powershell\"><code class=\"language-powershell\">The gopls command is not available<span class=\"token punctuation\">.</span> Use go get <span class=\"token operator\">-</span>v golang<span class=\"token punctuation\">.</span>org/x/tools/cmd/gopls to install<span class=\"token punctuation\">.</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p><strong></strong></p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">go <span class=\"token function\">env</span> <span class=\"token parameter variable\">-w</span> <span class=\"token assign-left variable\">GO111MODULE</span><span class=\"token operator\">=</span>on\ngo <span class=\"token function\">env</span> <span class=\"token parameter variable\">-w</span> <span class=\"token assign-left variable\">GOPROXY</span><span class=\"token operator\">=</span>https://goproxy.io,direct<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n\n<p><img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/image-20240509194134014.png\" alt=\"image-20240509194134014\"></p>\n<p>VS Code</p>\n<p><a href=\"https://l2m2.top/2020/05/26/2020-05-26-fix-golang-tools-failed-on-vscode/\">https://l2m2.top/2020/05/26/2020-05-26-fix-golang-tools-failed-on-vscode/</a></p>\n","site":{"data":{"friends":[{"avatar":"https://cdn.jsdelivr.net/gh/wylblog/cdn@master/static/image/sidebar/avatar_wyl.jpg","name":"","introduction":"","url":"https://wylblog.github.io","title":"Read More"},{"avatar":"https://img.picui.cn/free/2024/11/10/67304c2431937.jpg","name":"","introduction":".","url":"https://almost181209.github.io/","title":"Read More"}]}},"excerpt":"","more":"<h2 id=\"1-Go\"><a href=\"#1-Go\" class=\"headerlink\" title=\"1.Go\"></a>1.Go</h2><p>gogo</p>\n<p>IT:<a href=\"https://www.bilibili.com/video/BV14T4y1g7h9/?spm_id_from=333.337.search-card.all.click\">https://www.bilibili.com/video/BV14T4y1g7h9/?spm_id_from=333.337.search-card.all.click</a></p>\n<p></p>\n<h3 id=\"1-1-WindowsGo\"><a href=\"#1-1-WindowsGo\" class=\"headerlink\" title=\"1.1 WindowsGo\"></a>1.1 WindowsGo</h3><blockquote>\n<p>Go</p>\n</blockquote>\n<p>go <a href=\"https://studygolang.com/dl\"></a>GoWindowsWindows</p>\n<p><img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/image-20200718111751694.png\" alt=\"image-20200718111751694\"></p>\n<p></p>\n<p><img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/image-20200718111822269.png\" alt=\"image-20200718111822269\"></p>\n<blockquote>\n<p></p>\n</blockquote>\n<p>windowsGogo</p>\n<table>\n<thead>\n<tr>\n<th></th>\n<th></th>\n</tr>\n</thead>\n<tbody><tr>\n<td>GOROOT</td>\n<td>SDK</td>\n</tr>\n<tr>\n<td>Path</td>\n<td>SDK&#x2F;binmulu</td>\n</tr>\n<tr>\n<td>GOPATH</td>\n<td></td>\n</tr>\n</tbody></table>\n<p>GOROOT</p>\n<p><img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/image-20200718151418230.png\" alt=\"image-20200718151418230\"></p>\n<p>PATHbin</p>\n<p><img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/image-20200718151503318.png\" alt=\"image-20200718151503318\"></p>\n<p></p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">go version<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p><img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/image-20240510113522780.png\" alt=\"image-20240510113522780\"></p>\n<h3 id=\"1-2-linuxGo\"><a href=\"#1-2-linuxGo\" class=\"headerlink\" title=\"1.2 linuxGo\"></a>1.2 linuxGo</h3><p>windowswsl2</p>\n<blockquote>\n<p>1<a href=\"https://so.csdn.net/so/search?q=linux&spm=1001.2101.3001.7020\">linux</a> go <a href=\"https://golang.google.cn/dl/\">Downloads - The Go Programming Language</a></p>\n</blockquote>\n<p></p>\n<blockquote>\n<p>wget </p>\n</blockquote>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">wget</span> https://dl.google.com/go/go1.22.3.linux-amd64.tar.gz<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<blockquote>\n<p>2&#x2F;usr&#x2F;local </p>\n</blockquote>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">tar</span> <span class=\"token parameter variable\">-zxvf</span> go1.22.3.linux-amd64.tar.gz <span class=\"token parameter variable\">-C</span> /usr/local<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<blockquote>\n<p>3</p>\n</blockquote>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token comment\"># vim`sudo apt-get install vim`</span>\n<span class=\"token function\">vim</span> /etc/profile\n<span class=\"token comment\"># </span>\n<span class=\"token comment\"># Golang </span>\n<span class=\"token builtin class-name\">export</span> <span class=\"token assign-left variable\">GOROOT</span><span class=\"token operator\">=</span>/usr/local/go\n<span class=\"token builtin class-name\">export</span> <span class=\"token assign-left variable\">GOPATH</span><span class=\"token operator\">=</span><span class=\"token environment constant\">$HOME</span>/go\n<span class=\"token builtin class-name\">export</span> <span class=\"token assign-left variable\"><span class=\"token environment constant\">PATH</span></span><span class=\"token operator\">=</span><span class=\"token environment constant\">$PATH</span><span class=\"token builtin class-name\">:</span><span class=\"token variable\">$GOROOT</span>/bin:<span class=\"token variable\">$GOPATH</span>/bin\n<span class=\"token comment\"># sourcevim </span>\n<span class=\"token builtin class-name\">source</span> /etc/profile<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<blockquote>\n<p>4</p>\n</blockquote>\n<p><img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/image-20240510114728267.png\" alt=\"image-20240510114728267\"></p>\n<h3 id=\"1-3-Visual-Studio-Code-\"><a href=\"#1-3-Visual-Studio-Code-\" class=\"headerlink\" title=\"1.3 Visual Studio Code \"></a>1.3 Visual Studio Code </h3><p><a href=\"https://code.visualstudio.com/\">Visual Studio Code - Code Editing. Redefined</a></p>\n<blockquote>\n<p>go</p>\n</blockquote>\n<p><img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/image-20240510115058408.png\" alt=\"image-20240510115058408\"></p>\n<blockquote>\n<p>VSCodeGo tools</p>\n</blockquote>\n<p><strong></strong></p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">hj@DESKTOP-FBLS07J:~$ go version\ngo version go1.22.3 linux/amd64<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n\n<p>GoVS CodeGOgo tools</p>\n<blockquote>\n<p></p>\n</blockquote>\n<pre class=\"line-numbers language-powershell\" data-language=\"powershell\"><code class=\"language-powershell\">The gopls command is not available<span class=\"token punctuation\">.</span> Use go get <span class=\"token operator\">-</span>v golang<span class=\"token punctuation\">.</span>org/x/tools/cmd/gopls to install<span class=\"token punctuation\">.</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p><strong></strong></p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">go <span class=\"token function\">env</span> <span class=\"token parameter variable\">-w</span> <span class=\"token assign-left variable\">GO111MODULE</span><span class=\"token operator\">=</span>on\ngo <span class=\"token function\">env</span> <span class=\"token parameter variable\">-w</span> <span class=\"token assign-left variable\">GOPROXY</span><span class=\"token operator\">=</span>https://goproxy.io,direct<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n\n<p><img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/image-20240509194134014.png\" alt=\"image-20240509194134014\"></p>\n<p>VS Code</p>\n<p><a href=\"https://l2m2.top/2020/05/26/2020-05-26-fix-golang-tools-failed-on-vscode/\">https://l2m2.top/2020/05/26/2020-05-26-fix-golang-tools-failed-on-vscode/</a></p>\n"},{"title":"Go","date":"2024-11-10T15:55:54.000Z","_content":"## 3. Go\n\n### 3.1 Go\n\nGo``Go``\n\nGoGo\n\n\n\n### 3.2 \n\n> 1\n\n```go\nvar name = \"zhangsan\"\n```\n\n> 2\n\n```go\nvar name string = \"zhangsan\"\n```\n\n> 3``\n\na `:=` \n\n``\n\n```go\n := \n```\n\n\n\n```go\nsex := \"\"\n```\n\n> 4\n\n****\n\n```go\nvar   \n```\n\n\n\n```go\npackage main\n\nimport \"fmt\"\n\nfunc main() {\n\tvar a1, a2 int\n\ta1 = 5\n\ta2 = 6\n    fmt.println(a1)\n    fmt.println(a2)\n\tfmt.Println(a1 + a2)\n}\n```\n\n****\n\n```go\nvar (\n\t \n     \n)\n```\n\n\n\n```go\npackage main\n\nimport \"fmt\"\n\nfunc main() {\n\n\tvar (\n\t\tname string\n\t\tage  int\n\t\tsex  string\n\t)\n\tname = \"zhangsan\"\n\tage = 18\n\tsex = \"\"\n\n\tfmt.Printf(\"name=%v,age=%d,sex=%v\", name, age, sex)\n}\n\n```\n\n#### 3.2.1 :warning:\n\n> `Printf`\n\n|  |            |\n| ---------- | -------------- |\n| %T         |      |\n| %v         |        |\n| %d         |      |\n| %f         |      |\n| %c         |      |\n| %s         |  |\n\n\n\n```go\n\tvar (\n\t\tName2 = \"bigdata\"\n\t\tAge2  = 18\n\t\tSex2  = \"\"\n\t)\n\tfmt.Println(Name2, Age2, Sex2)\n\n\t// \n\tfmt.Printf(\":%v,:%v,:%v\\n\", Name2, Age2, Sex2)              // :bigdata,:18,:\n\tfmt.Printf(\"Name:%T Age:%T Sex:%T\\n\", Name2, Age2, Sex2) // Name:string Age:int Sex:string\n```\n\n\n\n> \n\n\n\n```go\npackage main\n\nimport \"fmt\"\n\nfunc main() {\n\t/*\n\t\tGoGo\n\n\t\tGoGo\n\n\t\t\n\t*/\n\t// 1:\n\tvar name = \"zhangsan\"\n\tfmt.Println(name)\n\n\t// 2:\n\tvar name2 string = \"lisi\"\n\tfmt.Println(name2)\n\n\t// 3:``  ``\n\tname3 := \"xiaoming\"\n\tfmt.Println(name3)\n\n\t// 4:\n\t// \n\tvar a1, a2 int\n\ta1 = 5\n\ta2 = 6\n\tfmt.Println(a1)\n\tfmt.Println(a2)\n\tfmt.Println(a1 + a2)\n\n\t//   \n\tvar (\n\t\tName string\n\t\tAge  int\n\t\tSex  string\n\t)\n\tName = \"hj\"\n\tAge = 22\n\tSex = \"\"\n\tfmt.Println(Name, Age, Sex)\n\n\t// \n\tvar (\n\t\tName1 string = \"mjl\"\n\t\tAge1  int    = 20\n\t\tSex1  string = \"\"\n\t)\n\tfmt.Println(Name1, Age1, Sex1)\n\n\t// \n\tvar (\n\t\tName2 = \"bigdata\"\n\t\tAge2  = 18\n\t\tSex2  = \"\"\n\t)\n\tfmt.Println(Name2, Age2, Sex2)\n\n\t// \n\tfmt.Printf(\":%v,:%v,:%v\\n\", Name2, Age2, Sex2)              // :bigdata,:18,:\n\tfmt.Printf(\"Name:%T Age:%T Sex:%T\\n\", Name2, Age2, Sex2) // Name:string Age:int Sex:string\n\n}\n```\n\n### 3.3 \n\n``var`const```\n\n```go\n\t/*\n\t\t``var`const```\n\t*/\n\n\t//\n\tconst pi = 3.141596\n\n\t// \n\tconst (\n\t\tA = \"A\"\n\t\tB = \"B\"\n\t)\n\n\t// const\n\tconst (\n\t\ta = \"A\"\n\t\tb\n\t\tc\n\t)\n\tfmt.Println(a, b, c) // A A A\n```\n\n\n\n### 3.4 Constiota\n\niotagolang \n\niotaconst0constconstiotaiotaconst\n\n> 1. constiota0\n\n```go\npackage main\n\nimport \"fmt\"\n\nfunc main() {\n\n\tconst a = iota\t// a = 0\n\tfmt.Println(a) \n\n\tconst (\n\t\tb = iota // b = 0\n\t\tc\t\t// c = 1\n \t\td\t\t// d = 2\n\t)\n\tfmt.Println(b, c, d)\n\n}\n\n```\n\n> 2. const  iota `_` \n\n```go\n\tconst (\n\t\tb = iota // b = 0\n\t\t_        //  1\n\t\td        // d = 2\n\t)\n\tfmt.Println(b, d)\n```\n\n> 3. iota\n\n```go\n\t// iota\n\tconst (\n\t\tn1 = iota // n1 = 0\n\t\tn2 = 100  // n2 = 100\n\t\tn3 = iota // n3 = 2\n\t\tn4        // n4 = 3\n\t)\n\tfmt.Println(n1, n2, n3, n4) // :0 100 2 3\n```\n\n\n\n> 4. iota\n\n```go\n\t// iota\n\tconst (\n\t\tn1, n2 = iota + 1, iota + 2 // 0+1=1 ,0+2 =2\n\t\tn3, n4                      // 2 , 3\n\t\tn5, n6                      // 3 , 4\n\t)\n\tfmt.Println(n1, n2)\n\tfmt.Println(n3, n4)\n\tfmt.Println(n5, n6)\n```\n\n![image-20240510165431706](https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/image-20240510165431706.png)\n\n### 3.5 Go\n\n1\n2\n3\n\n4ageAge``\n\n5``\n\n6DNS)\n\n\n\n\n\n### 3.6 godoc\n\n> \n\n //  /*  */ \n\n```go\n1.\n// \n2.\n/*\n Author by \n \n */\n3.\n// \n//\n// \n```\n\n> `go doc`  Go  Go  `godoc` `go doc` \n\n`go doc` ****:\n\n1. ****\n\n   ```\n   \n   go doc \n   ```\n\n\n\n```\n   \n   go doc fmt\n```\n\n   `fmt` \n\n2. ****\n\n   ```\n   \n   go doc .\n   ```\n\n\n\n```\n   \n   go doc fmt.Println\n```\n\n   `fmt.Println` \n\n3. ****\n\n   ```\n   \n   go doc ..\n   ```\n\n\n\n```\n   \n   go doc net/http.Client.Get\n```\n\n   `http.Client`  `Get` \n\n4. ****\n\n   ```\n   \n   go doc -src \n   ```\n\n\n\n```\n   \n   go doc -src fmt\n```\n\n   `fmt` \n\n5. ****\n\n   ```\n   \n   go doc -C \n   ```\n\n   \n\n   ```\n   \n   go doc -C /path/to/your/project fmt\n   ```\n\n    `fmt` \n\n`go doc` ****:\n\n- **** Go \n- **** `-src` \n- **** `-C` \n\n**:**\n\n `go doc` \n\n1. ** `fmt` **\n\n   ```\n   \n   go doc fmt\n   ```\n\n   `fmt` \n\n2. ** `fmt.Println` **\n\n   ```\n   \n   go doc fmt.Println\n   ```\n\n   `fmt.Println` \n\n3. ** `http.Client.Get` **\n\n   ```\n   \n   go doc net/http.Client.Get\n   ```\n\n   `http.Client`  `Get` \n\n4. ** `fmt` **\n\n   ```\n   \n   go doc -src fmt\n   ```\n\n   `fmt` \n\n5. ** `fmt` **\n\n   ```\n   \n   go doc -C /path/to/your/project fmt\n   ```\n\n `fmt` \n\n `go doc`  Go  Go \n\n> go'doc\n\n**1.** ****\n\n```go\ngo get golang.org/x/tools/cmd/godoc\n```\n\n**2.** **http:**\n\n```go\ngodoc -http=:6060\n```\n\n**3. **\n\n```sh\nhttp://127.0.0.1:6060/pkg/go-course/entrance_class \n```\n\n![image-20240719102952811](https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202407191029000.png)","source":"_posts/Go.md","raw":"---\ntitle: Go\ndate: 2024-11-10 23:55:54\ntags:\n  - Golang\ncategories: \n  - \n  - \n---\n## 3. Go\n\n### 3.1 Go\n\nGo``Go``\n\nGoGo\n\n\n\n### 3.2 \n\n> 1\n\n```go\nvar name = \"zhangsan\"\n```\n\n> 2\n\n```go\nvar name string = \"zhangsan\"\n```\n\n> 3``\n\na `:=` \n\n``\n\n```go\n := \n```\n\n\n\n```go\nsex := \"\"\n```\n\n> 4\n\n****\n\n```go\nvar   \n```\n\n\n\n```go\npackage main\n\nimport \"fmt\"\n\nfunc main() {\n\tvar a1, a2 int\n\ta1 = 5\n\ta2 = 6\n    fmt.println(a1)\n    fmt.println(a2)\n\tfmt.Println(a1 + a2)\n}\n```\n\n****\n\n```go\nvar (\n\t \n     \n)\n```\n\n\n\n```go\npackage main\n\nimport \"fmt\"\n\nfunc main() {\n\n\tvar (\n\t\tname string\n\t\tage  int\n\t\tsex  string\n\t)\n\tname = \"zhangsan\"\n\tage = 18\n\tsex = \"\"\n\n\tfmt.Printf(\"name=%v,age=%d,sex=%v\", name, age, sex)\n}\n\n```\n\n#### 3.2.1 :warning:\n\n> `Printf`\n\n|  |            |\n| ---------- | -------------- |\n| %T         |      |\n| %v         |        |\n| %d         |      |\n| %f         |      |\n| %c         |      |\n| %s         |  |\n\n\n\n```go\n\tvar (\n\t\tName2 = \"bigdata\"\n\t\tAge2  = 18\n\t\tSex2  = \"\"\n\t)\n\tfmt.Println(Name2, Age2, Sex2)\n\n\t// \n\tfmt.Printf(\":%v,:%v,:%v\\n\", Name2, Age2, Sex2)              // :bigdata,:18,:\n\tfmt.Printf(\"Name:%T Age:%T Sex:%T\\n\", Name2, Age2, Sex2) // Name:string Age:int Sex:string\n```\n\n\n\n> \n\n\n\n```go\npackage main\n\nimport \"fmt\"\n\nfunc main() {\n\t/*\n\t\tGoGo\n\n\t\tGoGo\n\n\t\t\n\t*/\n\t// 1:\n\tvar name = \"zhangsan\"\n\tfmt.Println(name)\n\n\t// 2:\n\tvar name2 string = \"lisi\"\n\tfmt.Println(name2)\n\n\t// 3:``  ``\n\tname3 := \"xiaoming\"\n\tfmt.Println(name3)\n\n\t// 4:\n\t// \n\tvar a1, a2 int\n\ta1 = 5\n\ta2 = 6\n\tfmt.Println(a1)\n\tfmt.Println(a2)\n\tfmt.Println(a1 + a2)\n\n\t//   \n\tvar (\n\t\tName string\n\t\tAge  int\n\t\tSex  string\n\t)\n\tName = \"hj\"\n\tAge = 22\n\tSex = \"\"\n\tfmt.Println(Name, Age, Sex)\n\n\t// \n\tvar (\n\t\tName1 string = \"mjl\"\n\t\tAge1  int    = 20\n\t\tSex1  string = \"\"\n\t)\n\tfmt.Println(Name1, Age1, Sex1)\n\n\t// \n\tvar (\n\t\tName2 = \"bigdata\"\n\t\tAge2  = 18\n\t\tSex2  = \"\"\n\t)\n\tfmt.Println(Name2, Age2, Sex2)\n\n\t// \n\tfmt.Printf(\":%v,:%v,:%v\\n\", Name2, Age2, Sex2)              // :bigdata,:18,:\n\tfmt.Printf(\"Name:%T Age:%T Sex:%T\\n\", Name2, Age2, Sex2) // Name:string Age:int Sex:string\n\n}\n```\n\n### 3.3 \n\n``var`const```\n\n```go\n\t/*\n\t\t``var`const```\n\t*/\n\n\t//\n\tconst pi = 3.141596\n\n\t// \n\tconst (\n\t\tA = \"A\"\n\t\tB = \"B\"\n\t)\n\n\t// const\n\tconst (\n\t\ta = \"A\"\n\t\tb\n\t\tc\n\t)\n\tfmt.Println(a, b, c) // A A A\n```\n\n\n\n### 3.4 Constiota\n\niotagolang \n\niotaconst0constconstiotaiotaconst\n\n> 1. constiota0\n\n```go\npackage main\n\nimport \"fmt\"\n\nfunc main() {\n\n\tconst a = iota\t// a = 0\n\tfmt.Println(a) \n\n\tconst (\n\t\tb = iota // b = 0\n\t\tc\t\t// c = 1\n \t\td\t\t// d = 2\n\t)\n\tfmt.Println(b, c, d)\n\n}\n\n```\n\n> 2. const  iota `_` \n\n```go\n\tconst (\n\t\tb = iota // b = 0\n\t\t_        //  1\n\t\td        // d = 2\n\t)\n\tfmt.Println(b, d)\n```\n\n> 3. iota\n\n```go\n\t// iota\n\tconst (\n\t\tn1 = iota // n1 = 0\n\t\tn2 = 100  // n2 = 100\n\t\tn3 = iota // n3 = 2\n\t\tn4        // n4 = 3\n\t)\n\tfmt.Println(n1, n2, n3, n4) // :0 100 2 3\n```\n\n\n\n> 4. iota\n\n```go\n\t// iota\n\tconst (\n\t\tn1, n2 = iota + 1, iota + 2 // 0+1=1 ,0+2 =2\n\t\tn3, n4                      // 2 , 3\n\t\tn5, n6                      // 3 , 4\n\t)\n\tfmt.Println(n1, n2)\n\tfmt.Println(n3, n4)\n\tfmt.Println(n5, n6)\n```\n\n![image-20240510165431706](https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/image-20240510165431706.png)\n\n### 3.5 Go\n\n1\n2\n3\n\n4ageAge``\n\n5``\n\n6DNS)\n\n\n\n\n\n### 3.6 godoc\n\n> \n\n //  /*  */ \n\n```go\n1.\n// \n2.\n/*\n Author by \n \n */\n3.\n// \n//\n// \n```\n\n> `go doc`  Go  Go  `godoc` `go doc` \n\n`go doc` ****:\n\n1. ****\n\n   ```\n   \n   go doc \n   ```\n\n\n\n```\n   \n   go doc fmt\n```\n\n   `fmt` \n\n2. ****\n\n   ```\n   \n   go doc .\n   ```\n\n\n\n```\n   \n   go doc fmt.Println\n```\n\n   `fmt.Println` \n\n3. ****\n\n   ```\n   \n   go doc ..\n   ```\n\n\n\n```\n   \n   go doc net/http.Client.Get\n```\n\n   `http.Client`  `Get` \n\n4. ****\n\n   ```\n   \n   go doc -src \n   ```\n\n\n\n```\n   \n   go doc -src fmt\n```\n\n   `fmt` \n\n5. ****\n\n   ```\n   \n   go doc -C \n   ```\n\n   \n\n   ```\n   \n   go doc -C /path/to/your/project fmt\n   ```\n\n    `fmt` \n\n`go doc` ****:\n\n- **** Go \n- **** `-src` \n- **** `-C` \n\n**:**\n\n `go doc` \n\n1. ** `fmt` **\n\n   ```\n   \n   go doc fmt\n   ```\n\n   `fmt` \n\n2. ** `fmt.Println` **\n\n   ```\n   \n   go doc fmt.Println\n   ```\n\n   `fmt.Println` \n\n3. ** `http.Client.Get` **\n\n   ```\n   \n   go doc net/http.Client.Get\n   ```\n\n   `http.Client`  `Get` \n\n4. ** `fmt` **\n\n   ```\n   \n   go doc -src fmt\n   ```\n\n   `fmt` \n\n5. ** `fmt` **\n\n   ```\n   \n   go doc -C /path/to/your/project fmt\n   ```\n\n `fmt` \n\n `go doc`  Go  Go \n\n> go'doc\n\n**1.** ****\n\n```go\ngo get golang.org/x/tools/cmd/godoc\n```\n\n**2.** **http:**\n\n```go\ngodoc -http=:6060\n```\n\n**3. **\n\n```sh\nhttp://127.0.0.1:6060/pkg/go-course/entrance_class \n```\n\n![image-20240719102952811](https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202407191029000.png)","slug":"Go","published":1,"updated":"2024-11-10T15:57:31.224Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cm3cx7o5o0009kmmj49mh52xq","content":"<h2 id=\"3-Go\"><a href=\"#3-Go\" class=\"headerlink\" title=\"3. Go\"></a>3. Go</h2><h3 id=\"3-1-Go\"><a href=\"#3-1-Go\" class=\"headerlink\" title=\"3.1 Go\"></a>3.1 Go</h3><p>Go<code></code>Go<code></code></p>\n<p>GoGo</p>\n<p></p>\n<h3 id=\"3-2-\"><a href=\"#3-2-\" class=\"headerlink\" title=\"3.2 \"></a>3.2 </h3><blockquote>\n<p>1</p>\n</blockquote>\n<pre class=\"line-numbers language-go\" data-language=\"go\"><code class=\"language-go\"><span class=\"token keyword\">var</span> name <span class=\"token operator\">=</span> <span class=\"token string\">\"zhangsan\"</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<blockquote>\n<p>2</p>\n</blockquote>\n<pre class=\"line-numbers language-go\" data-language=\"go\"><code class=\"language-go\"><span class=\"token keyword\">var</span> name <span class=\"token builtin\">string</span> <span class=\"token operator\">=</span> <span class=\"token string\">\"zhangsan\"</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<blockquote>\n<p>3<code></code></p>\n</blockquote>\n<p>a <code>:=</code> </p>\n<p><code></code></p>\n<pre class=\"line-numbers language-go\" data-language=\"go\"><code class=\"language-go\"> <span class=\"token operator\">:=</span> <span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p></p>\n<pre class=\"line-numbers language-go\" data-language=\"go\"><code class=\"language-go\">sex <span class=\"token operator\">:=</span> <span class=\"token string\">\"\"</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<blockquote>\n<p>4</p>\n</blockquote>\n<p><strong></strong></p>\n<pre class=\"line-numbers language-go\" data-language=\"go\"><code class=\"language-go\"><span class=\"token keyword\">var</span>   <span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p></p>\n<pre class=\"line-numbers language-go\" data-language=\"go\"><code class=\"language-go\"><span class=\"token keyword\">package</span> main\n\n<span class=\"token keyword\">import</span> <span class=\"token string\">\"fmt\"</span>\n\n<span class=\"token keyword\">func</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n\t<span class=\"token keyword\">var</span> a1<span class=\"token punctuation\">,</span> a2 <span class=\"token builtin\">int</span>\n\ta1 <span class=\"token operator\">=</span> <span class=\"token number\">5</span>\n\ta2 <span class=\"token operator\">=</span> <span class=\"token number\">6</span>\n    fmt<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span>a1<span class=\"token punctuation\">)</span>\n    fmt<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span>a2<span class=\"token punctuation\">)</span>\n\tfmt<span class=\"token punctuation\">.</span><span class=\"token function\">Println</span><span class=\"token punctuation\">(</span>a1 <span class=\"token operator\">+</span> a2<span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">&#125;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p><strong></strong></p>\n<pre class=\"line-numbers language-go\" data-language=\"go\"><code class=\"language-go\"><span class=\"token keyword\">var</span> <span class=\"token punctuation\">(</span>\n\t \n     \n<span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p></p>\n<pre class=\"line-numbers language-go\" data-language=\"go\"><code class=\"language-go\"><span class=\"token keyword\">package</span> main\n\n<span class=\"token keyword\">import</span> <span class=\"token string\">\"fmt\"</span>\n\n<span class=\"token keyword\">func</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n\n\t<span class=\"token keyword\">var</span> <span class=\"token punctuation\">(</span>\n\t\tname <span class=\"token builtin\">string</span>\n\t\tage  <span class=\"token builtin\">int</span>\n\t\tsex  <span class=\"token builtin\">string</span>\n\t<span class=\"token punctuation\">)</span>\n\tname <span class=\"token operator\">=</span> <span class=\"token string\">\"zhangsan\"</span>\n\tage <span class=\"token operator\">=</span> <span class=\"token number\">18</span>\n\tsex <span class=\"token operator\">=</span> <span class=\"token string\">\"\"</span>\n\n\tfmt<span class=\"token punctuation\">.</span><span class=\"token function\">Printf</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"name=%v,age=%d,sex=%v\"</span><span class=\"token punctuation\">,</span> name<span class=\"token punctuation\">,</span> age<span class=\"token punctuation\">,</span> sex<span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">&#125;</span>\n<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h4 id=\"3-2-1--warning-\"><a href=\"#3-2-1--warning-\" class=\"headerlink\" title=\"3.2.1 :warning:\"></a>3.2.1 :warning:</h4><blockquote>\n<p><code>Printf</code></p>\n</blockquote>\n<table>\n<thead>\n<tr>\n<th></th>\n<th></th>\n</tr>\n</thead>\n<tbody><tr>\n<td>%T</td>\n<td></td>\n</tr>\n<tr>\n<td>%v</td>\n<td></td>\n</tr>\n<tr>\n<td>%d</td>\n<td></td>\n</tr>\n<tr>\n<td>%f</td>\n<td></td>\n</tr>\n<tr>\n<td>%c</td>\n<td></td>\n</tr>\n<tr>\n<td>%s</td>\n<td></td>\n</tr>\n</tbody></table>\n<p></p>\n<pre class=\"line-numbers language-go\" data-language=\"go\"><code class=\"language-go\"><span class=\"token keyword\">var</span> <span class=\"token punctuation\">(</span>\n\tName2 <span class=\"token operator\">=</span> <span class=\"token string\">\"bigdata\"</span>\n\tAge2  <span class=\"token operator\">=</span> <span class=\"token number\">18</span>\n\tSex2  <span class=\"token operator\">=</span> <span class=\"token string\">\"\"</span>\n<span class=\"token punctuation\">)</span>\nfmt<span class=\"token punctuation\">.</span><span class=\"token function\">Println</span><span class=\"token punctuation\">(</span>Name2<span class=\"token punctuation\">,</span> Age2<span class=\"token punctuation\">,</span> Sex2<span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\">// </span>\nfmt<span class=\"token punctuation\">.</span><span class=\"token function\">Printf</span><span class=\"token punctuation\">(</span><span class=\"token string\">\":%v,:%v,:%v\\n\"</span><span class=\"token punctuation\">,</span> Name2<span class=\"token punctuation\">,</span> Age2<span class=\"token punctuation\">,</span> Sex2<span class=\"token punctuation\">)</span>              <span class=\"token comment\">// :bigdata,:18,:</span>\nfmt<span class=\"token punctuation\">.</span><span class=\"token function\">Printf</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Name:%T Age:%T Sex:%T\\n\"</span><span class=\"token punctuation\">,</span> Name2<span class=\"token punctuation\">,</span> Age2<span class=\"token punctuation\">,</span> Sex2<span class=\"token punctuation\">)</span> <span class=\"token comment\">// Name:string Age:int Sex:string</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n\n\n<blockquote>\n<p></p>\n</blockquote>\n<p></p>\n<pre class=\"line-numbers language-go\" data-language=\"go\"><code class=\"language-go\"><span class=\"token keyword\">package</span> main\n\n<span class=\"token keyword\">import</span> <span class=\"token string\">\"fmt\"</span>\n\n<span class=\"token keyword\">func</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n\t<span class=\"token comment\">/*\n\t\tGoGo\n\n\t\tGoGo\n\n\t\t\n\t*/</span>\n\t<span class=\"token comment\">// 1:</span>\n\t<span class=\"token keyword\">var</span> name <span class=\"token operator\">=</span> <span class=\"token string\">\"zhangsan\"</span>\n\tfmt<span class=\"token punctuation\">.</span><span class=\"token function\">Println</span><span class=\"token punctuation\">(</span>name<span class=\"token punctuation\">)</span>\n\n\t<span class=\"token comment\">// 2:</span>\n\t<span class=\"token keyword\">var</span> name2 <span class=\"token builtin\">string</span> <span class=\"token operator\">=</span> <span class=\"token string\">\"lisi\"</span>\n\tfmt<span class=\"token punctuation\">.</span><span class=\"token function\">Println</span><span class=\"token punctuation\">(</span>name2<span class=\"token punctuation\">)</span>\n\n\t<span class=\"token comment\">// 3:``  ``</span>\n\tname3 <span class=\"token operator\">:=</span> <span class=\"token string\">\"xiaoming\"</span>\n\tfmt<span class=\"token punctuation\">.</span><span class=\"token function\">Println</span><span class=\"token punctuation\">(</span>name3<span class=\"token punctuation\">)</span>\n\n\t<span class=\"token comment\">// 4:</span>\n\t<span class=\"token comment\">// </span>\n\t<span class=\"token keyword\">var</span> a1<span class=\"token punctuation\">,</span> a2 <span class=\"token builtin\">int</span>\n\ta1 <span class=\"token operator\">=</span> <span class=\"token number\">5</span>\n\ta2 <span class=\"token operator\">=</span> <span class=\"token number\">6</span>\n\tfmt<span class=\"token punctuation\">.</span><span class=\"token function\">Println</span><span class=\"token punctuation\">(</span>a1<span class=\"token punctuation\">)</span>\n\tfmt<span class=\"token punctuation\">.</span><span class=\"token function\">Println</span><span class=\"token punctuation\">(</span>a2<span class=\"token punctuation\">)</span>\n\tfmt<span class=\"token punctuation\">.</span><span class=\"token function\">Println</span><span class=\"token punctuation\">(</span>a1 <span class=\"token operator\">+</span> a2<span class=\"token punctuation\">)</span>\n\n\t<span class=\"token comment\">//   </span>\n\t<span class=\"token keyword\">var</span> <span class=\"token punctuation\">(</span>\n\t\tName <span class=\"token builtin\">string</span>\n\t\tAge  <span class=\"token builtin\">int</span>\n\t\tSex  <span class=\"token builtin\">string</span>\n\t<span class=\"token punctuation\">)</span>\n\tName <span class=\"token operator\">=</span> <span class=\"token string\">\"hj\"</span>\n\tAge <span class=\"token operator\">=</span> <span class=\"token number\">22</span>\n\tSex <span class=\"token operator\">=</span> <span class=\"token string\">\"\"</span>\n\tfmt<span class=\"token punctuation\">.</span><span class=\"token function\">Println</span><span class=\"token punctuation\">(</span>Name<span class=\"token punctuation\">,</span> Age<span class=\"token punctuation\">,</span> Sex<span class=\"token punctuation\">)</span>\n\n\t<span class=\"token comment\">// </span>\n\t<span class=\"token keyword\">var</span> <span class=\"token punctuation\">(</span>\n\t\tName1 <span class=\"token builtin\">string</span> <span class=\"token operator\">=</span> <span class=\"token string\">\"mjl\"</span>\n\t\tAge1  <span class=\"token builtin\">int</span>    <span class=\"token operator\">=</span> <span class=\"token number\">20</span>\n\t\tSex1  <span class=\"token builtin\">string</span> <span class=\"token operator\">=</span> <span class=\"token string\">\"\"</span>\n\t<span class=\"token punctuation\">)</span>\n\tfmt<span class=\"token punctuation\">.</span><span class=\"token function\">Println</span><span class=\"token punctuation\">(</span>Name1<span class=\"token punctuation\">,</span> Age1<span class=\"token punctuation\">,</span> Sex1<span class=\"token punctuation\">)</span>\n\n\t<span class=\"token comment\">// </span>\n\t<span class=\"token keyword\">var</span> <span class=\"token punctuation\">(</span>\n\t\tName2 <span class=\"token operator\">=</span> <span class=\"token string\">\"bigdata\"</span>\n\t\tAge2  <span class=\"token operator\">=</span> <span class=\"token number\">18</span>\n\t\tSex2  <span class=\"token operator\">=</span> <span class=\"token string\">\"\"</span>\n\t<span class=\"token punctuation\">)</span>\n\tfmt<span class=\"token punctuation\">.</span><span class=\"token function\">Println</span><span class=\"token punctuation\">(</span>Name2<span class=\"token punctuation\">,</span> Age2<span class=\"token punctuation\">,</span> Sex2<span class=\"token punctuation\">)</span>\n\n\t<span class=\"token comment\">// </span>\n\tfmt<span class=\"token punctuation\">.</span><span class=\"token function\">Printf</span><span class=\"token punctuation\">(</span><span class=\"token string\">\":%v,:%v,:%v\\n\"</span><span class=\"token punctuation\">,</span> Name2<span class=\"token punctuation\">,</span> Age2<span class=\"token punctuation\">,</span> Sex2<span class=\"token punctuation\">)</span>              <span class=\"token comment\">// :bigdata,:18,:</span>\n\tfmt<span class=\"token punctuation\">.</span><span class=\"token function\">Printf</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Name:%T Age:%T Sex:%T\\n\"</span><span class=\"token punctuation\">,</span> Name2<span class=\"token punctuation\">,</span> Age2<span class=\"token punctuation\">,</span> Sex2<span class=\"token punctuation\">)</span> <span class=\"token comment\">// Name:string Age:int Sex:string</span>\n\n<span class=\"token punctuation\">&#125;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h3 id=\"3-3-\"><a href=\"#3-3-\" class=\"headerlink\" title=\"3.3 \"></a>3.3 </h3><p><code></code>var<code>const</code><code></code></p>\n<pre class=\"line-numbers language-go\" data-language=\"go\"><code class=\"language-go\"><span class=\"token comment\">/*\n\t``var`const```\n*/</span>\n\n<span class=\"token comment\">//</span>\n<span class=\"token keyword\">const</span> pi <span class=\"token operator\">=</span> <span class=\"token number\">3.141596</span>\n\n<span class=\"token comment\">// </span>\n<span class=\"token keyword\">const</span> <span class=\"token punctuation\">(</span>\n\tA <span class=\"token operator\">=</span> <span class=\"token string\">\"A\"</span>\n\tB <span class=\"token operator\">=</span> <span class=\"token string\">\"B\"</span>\n<span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\">// const</span>\n<span class=\"token keyword\">const</span> <span class=\"token punctuation\">(</span>\n\ta <span class=\"token operator\">=</span> <span class=\"token string\">\"A\"</span>\n\tb\n\tc\n<span class=\"token punctuation\">)</span>\nfmt<span class=\"token punctuation\">.</span><span class=\"token function\">Println</span><span class=\"token punctuation\">(</span>a<span class=\"token punctuation\">,</span> b<span class=\"token punctuation\">,</span> c<span class=\"token punctuation\">)</span> <span class=\"token comment\">// A A A</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n\n\n<h3 id=\"3-4-Constiota\"><a href=\"#3-4-Constiota\" class=\"headerlink\" title=\"3.4 Constiota\"></a>3.4 Constiota</h3><p>iotagolang </p>\n<p>iotaconst0constconstiotaiotaconst</p>\n<blockquote>\n<ol>\n<li>constiota0</li>\n</ol>\n</blockquote>\n<pre class=\"line-numbers language-go\" data-language=\"go\"><code class=\"language-go\"><span class=\"token keyword\">package</span> main\n\n<span class=\"token keyword\">import</span> <span class=\"token string\">\"fmt\"</span>\n\n<span class=\"token keyword\">func</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n\n\t<span class=\"token keyword\">const</span> a <span class=\"token operator\">=</span> <span class=\"token boolean\">iota</span>\t<span class=\"token comment\">// a = 0</span>\n\tfmt<span class=\"token punctuation\">.</span><span class=\"token function\">Println</span><span class=\"token punctuation\">(</span>a<span class=\"token punctuation\">)</span> \n\n\t<span class=\"token keyword\">const</span> <span class=\"token punctuation\">(</span>\n\t\tb <span class=\"token operator\">=</span> <span class=\"token boolean\">iota</span> <span class=\"token comment\">// b = 0</span>\n\t\tc\t\t<span class=\"token comment\">// c = 1</span>\n \t\td\t\t<span class=\"token comment\">// d = 2</span>\n\t<span class=\"token punctuation\">)</span>\n\tfmt<span class=\"token punctuation\">.</span><span class=\"token function\">Println</span><span class=\"token punctuation\">(</span>b<span class=\"token punctuation\">,</span> c<span class=\"token punctuation\">,</span> d<span class=\"token punctuation\">)</span>\n\n<span class=\"token punctuation\">&#125;</span>\n<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<blockquote>\n<ol start=\"2\">\n<li>const  iota <code>_</code> </li>\n</ol>\n</blockquote>\n<pre class=\"line-numbers language-go\" data-language=\"go\"><code class=\"language-go\"><span class=\"token keyword\">const</span> <span class=\"token punctuation\">(</span>\n\tb <span class=\"token operator\">=</span> <span class=\"token boolean\">iota</span> <span class=\"token comment\">// b = 0</span>\n\t<span class=\"token boolean\">_</span>        <span class=\"token comment\">//  1</span>\n\td        <span class=\"token comment\">// d = 2</span>\n<span class=\"token punctuation\">)</span>\nfmt<span class=\"token punctuation\">.</span><span class=\"token function\">Println</span><span class=\"token punctuation\">(</span>b<span class=\"token punctuation\">,</span> d<span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<blockquote>\n<ol start=\"3\">\n<li>iota</li>\n</ol>\n</blockquote>\n<pre class=\"line-numbers language-go\" data-language=\"go\"><code class=\"language-go\"><span class=\"token comment\">// iota</span>\n<span class=\"token keyword\">const</span> <span class=\"token punctuation\">(</span>\n\tn1 <span class=\"token operator\">=</span> <span class=\"token boolean\">iota</span> <span class=\"token comment\">// n1 = 0</span>\n\tn2 <span class=\"token operator\">=</span> <span class=\"token number\">100</span>  <span class=\"token comment\">// n2 = 100</span>\n\tn3 <span class=\"token operator\">=</span> <span class=\"token boolean\">iota</span> <span class=\"token comment\">// n3 = 2</span>\n\tn4        <span class=\"token comment\">// n4 = 3</span>\n<span class=\"token punctuation\">)</span>\nfmt<span class=\"token punctuation\">.</span><span class=\"token function\">Println</span><span class=\"token punctuation\">(</span>n1<span class=\"token punctuation\">,</span> n2<span class=\"token punctuation\">,</span> n3<span class=\"token punctuation\">,</span> n4<span class=\"token punctuation\">)</span> <span class=\"token comment\">// :0 100 2 3</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n\n\n<blockquote>\n<ol start=\"4\">\n<li>iota</li>\n</ol>\n</blockquote>\n<pre class=\"line-numbers language-go\" data-language=\"go\"><code class=\"language-go\"><span class=\"token comment\">// iota</span>\n<span class=\"token keyword\">const</span> <span class=\"token punctuation\">(</span>\n\tn1<span class=\"token punctuation\">,</span> n2 <span class=\"token operator\">=</span> <span class=\"token boolean\">iota</span> <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token boolean\">iota</span> <span class=\"token operator\">+</span> <span class=\"token number\">2</span> <span class=\"token comment\">// 0+1=1 ,0+2 =2</span>\n\tn3<span class=\"token punctuation\">,</span> n4                      <span class=\"token comment\">// 2 , 3</span>\n\tn5<span class=\"token punctuation\">,</span> n6                      <span class=\"token comment\">// 3 , 4</span>\n<span class=\"token punctuation\">)</span>\nfmt<span class=\"token punctuation\">.</span><span class=\"token function\">Println</span><span class=\"token punctuation\">(</span>n1<span class=\"token punctuation\">,</span> n2<span class=\"token punctuation\">)</span>\nfmt<span class=\"token punctuation\">.</span><span class=\"token function\">Println</span><span class=\"token punctuation\">(</span>n3<span class=\"token punctuation\">,</span> n4<span class=\"token punctuation\">)</span>\nfmt<span class=\"token punctuation\">.</span><span class=\"token function\">Println</span><span class=\"token punctuation\">(</span>n5<span class=\"token punctuation\">,</span> n6<span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p><img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/image-20240510165431706.png\" alt=\"image-20240510165431706\"></p>\n<h3 id=\"3-5-Go\"><a href=\"#3-5-Go\" class=\"headerlink\" title=\"3.5 Go\"></a>3.5 Go</h3><p>1<br>2<br>3</p>\n<p>4ageAge<code></code></p>\n<p>5<code></code></p>\n<p>6DNS)</p>\n<h3 id=\"3-6-godoc\"><a href=\"#3-6-godoc\" class=\"headerlink\" title=\"3.6 godoc\"></a>3.6 godoc</h3><blockquote>\n<p></p>\n</blockquote>\n<p> &#x2F;&#x2F;  &#x2F;*  *&#x2F; </p>\n<pre class=\"line-numbers language-go\" data-language=\"go\"><code class=\"language-go\"><span class=\"token number\">1.</span>\n<span class=\"token comment\">// </span>\n<span class=\"token number\">2.</span>\n<span class=\"token comment\">/*\n Author by \n \n */</span>\n<span class=\"token number\">3.</span>\n<span class=\"token comment\">// </span>\n<span class=\"token comment\">//</span>\n<span class=\"token comment\">// </span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<blockquote>\n<p><code>go doc</code>  Go  Go  <code>godoc</code> <code>go doc</code> </p>\n</blockquote>\n<p><code>go doc</code> <strong></strong>:</p>\n<ol>\n<li><p><strong></strong></p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">\ngo doc <span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre></li>\n</ol>\n<p></p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">\ngo doc fmt<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n\n<p>   <code>fmt</code> </p>\n<ol start=\"2\">\n<li><p><strong></strong></p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">\ngo doc .<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre></li>\n</ol>\n<p></p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">\ngo doc fmt.Println<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n\n<p>   <code>fmt.Println</code> </p>\n<ol start=\"3\">\n<li><p><strong></strong></p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">\ngo doc ..<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre></li>\n</ol>\n<p></p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">\ngo doc net&#x2F;http.Client.Get<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n\n<p>   <code>http.Client</code>  <code>Get</code> </p>\n<ol start=\"4\">\n<li><p><strong></strong></p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">\ngo doc -src <span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre></li>\n</ol>\n<p></p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">\ngo doc -src fmt<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n\n<p>   <code>fmt</code> </p>\n<ol start=\"5\">\n<li><p><strong></strong></p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">\ngo doc -C <span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n\n<p></p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">\ngo doc -C &#x2F;path&#x2F;to&#x2F;your&#x2F;project fmt<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n\n<p> <code>fmt</code> </p>\n</li>\n</ol>\n<p><code>go doc</code> <strong></strong>:</p>\n<ul>\n<li><strong></strong> Go </li>\n<li><strong></strong> <code>-src</code> </li>\n<li><strong></strong> <code>-C</code> </li>\n</ul>\n<p><strong>:</strong></p>\n<p> <code>go doc</code> </p>\n<ol>\n<li><p><strong> <code>fmt</code> </strong></p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">\ngo doc fmt<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n\n<p><code>fmt</code> </p>\n</li>\n<li><p><strong> <code>fmt.Println</code> </strong></p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">\ngo doc fmt.Println<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n\n<p><code>fmt.Println</code> </p>\n</li>\n<li><p><strong> <code>http.Client.Get</code> </strong></p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">\ngo doc net&#x2F;http.Client.Get<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n\n<p><code>http.Client</code>  <code>Get</code> </p>\n</li>\n<li><p><strong> <code>fmt</code> </strong></p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">\ngo doc -src fmt<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n\n<p><code>fmt</code> </p>\n</li>\n<li><p><strong> <code>fmt</code> </strong></p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">\ngo doc -C &#x2F;path&#x2F;to&#x2F;your&#x2F;project fmt<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre></li>\n</ol>\n<p> <code>fmt</code> </p>\n<p> <code>go doc</code>  Go  Go </p>\n<blockquote>\n<p>godoc</p>\n</blockquote>\n<p><strong>1.</strong> <strong></strong></p>\n<pre class=\"line-numbers language-go\" data-language=\"go\"><code class=\"language-go\"><span class=\"token keyword\">go</span> get golang<span class=\"token punctuation\">.</span>org<span class=\"token operator\">/</span>x<span class=\"token operator\">/</span>tools<span class=\"token operator\">/</span>cmd<span class=\"token operator\">/</span>godoc<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p><strong>2.</strong> <strong>http:</strong></p>\n<pre class=\"line-numbers language-go\" data-language=\"go\"><code class=\"language-go\">godoc <span class=\"token operator\">-</span>http<span class=\"token operator\">=</span><span class=\"token punctuation\">:</span><span class=\"token number\">6060</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p><strong>3. </strong></p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">http://127.0.0.1:6060/pkg/go-course/entrance_class <span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p><img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202407191029000.png\" alt=\"image-20240719102952811\"></p>\n","site":{"data":{"friends":[{"avatar":"https://cdn.jsdelivr.net/gh/wylblog/cdn@master/static/image/sidebar/avatar_wyl.jpg","name":"","introduction":"","url":"https://wylblog.github.io","title":"Read More"},{"avatar":"https://img.picui.cn/free/2024/11/10/67304c2431937.jpg","name":"","introduction":".","url":"https://almost181209.github.io/","title":"Read More"}]}},"excerpt":"","more":"<h2 id=\"3-Go\"><a href=\"#3-Go\" class=\"headerlink\" title=\"3. Go\"></a>3. Go</h2><h3 id=\"3-1-Go\"><a href=\"#3-1-Go\" class=\"headerlink\" title=\"3.1 Go\"></a>3.1 Go</h3><p>Go<code></code>Go<code></code></p>\n<p>GoGo</p>\n<p></p>\n<h3 id=\"3-2-\"><a href=\"#3-2-\" class=\"headerlink\" title=\"3.2 \"></a>3.2 </h3><blockquote>\n<p>1</p>\n</blockquote>\n<pre class=\"line-numbers language-go\" data-language=\"go\"><code class=\"language-go\"><span class=\"token keyword\">var</span> name <span class=\"token operator\">=</span> <span class=\"token string\">\"zhangsan\"</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<blockquote>\n<p>2</p>\n</blockquote>\n<pre class=\"line-numbers language-go\" data-language=\"go\"><code class=\"language-go\"><span class=\"token keyword\">var</span> name <span class=\"token builtin\">string</span> <span class=\"token operator\">=</span> <span class=\"token string\">\"zhangsan\"</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<blockquote>\n<p>3<code></code></p>\n</blockquote>\n<p>a <code>:=</code> </p>\n<p><code></code></p>\n<pre class=\"line-numbers language-go\" data-language=\"go\"><code class=\"language-go\"> <span class=\"token operator\">:=</span> <span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p></p>\n<pre class=\"line-numbers language-go\" data-language=\"go\"><code class=\"language-go\">sex <span class=\"token operator\">:=</span> <span class=\"token string\">\"\"</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<blockquote>\n<p>4</p>\n</blockquote>\n<p><strong></strong></p>\n<pre class=\"line-numbers language-go\" data-language=\"go\"><code class=\"language-go\"><span class=\"token keyword\">var</span>   <span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p></p>\n<pre class=\"line-numbers language-go\" data-language=\"go\"><code class=\"language-go\"><span class=\"token keyword\">package</span> main\n\n<span class=\"token keyword\">import</span> <span class=\"token string\">\"fmt\"</span>\n\n<span class=\"token keyword\">func</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n\t<span class=\"token keyword\">var</span> a1<span class=\"token punctuation\">,</span> a2 <span class=\"token builtin\">int</span>\n\ta1 <span class=\"token operator\">=</span> <span class=\"token number\">5</span>\n\ta2 <span class=\"token operator\">=</span> <span class=\"token number\">6</span>\n    fmt<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span>a1<span class=\"token punctuation\">)</span>\n    fmt<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span>a2<span class=\"token punctuation\">)</span>\n\tfmt<span class=\"token punctuation\">.</span><span class=\"token function\">Println</span><span class=\"token punctuation\">(</span>a1 <span class=\"token operator\">+</span> a2<span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">&#125;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p><strong></strong></p>\n<pre class=\"line-numbers language-go\" data-language=\"go\"><code class=\"language-go\"><span class=\"token keyword\">var</span> <span class=\"token punctuation\">(</span>\n\t \n     \n<span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p></p>\n<pre class=\"line-numbers language-go\" data-language=\"go\"><code class=\"language-go\"><span class=\"token keyword\">package</span> main\n\n<span class=\"token keyword\">import</span> <span class=\"token string\">\"fmt\"</span>\n\n<span class=\"token keyword\">func</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n\n\t<span class=\"token keyword\">var</span> <span class=\"token punctuation\">(</span>\n\t\tname <span class=\"token builtin\">string</span>\n\t\tage  <span class=\"token builtin\">int</span>\n\t\tsex  <span class=\"token builtin\">string</span>\n\t<span class=\"token punctuation\">)</span>\n\tname <span class=\"token operator\">=</span> <span class=\"token string\">\"zhangsan\"</span>\n\tage <span class=\"token operator\">=</span> <span class=\"token number\">18</span>\n\tsex <span class=\"token operator\">=</span> <span class=\"token string\">\"\"</span>\n\n\tfmt<span class=\"token punctuation\">.</span><span class=\"token function\">Printf</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"name=%v,age=%d,sex=%v\"</span><span class=\"token punctuation\">,</span> name<span class=\"token punctuation\">,</span> age<span class=\"token punctuation\">,</span> sex<span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">&#125;</span>\n<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h4 id=\"3-2-1--warning-\"><a href=\"#3-2-1--warning-\" class=\"headerlink\" title=\"3.2.1 :warning:\"></a>3.2.1 :warning:</h4><blockquote>\n<p><code>Printf</code></p>\n</blockquote>\n<table>\n<thead>\n<tr>\n<th></th>\n<th></th>\n</tr>\n</thead>\n<tbody><tr>\n<td>%T</td>\n<td></td>\n</tr>\n<tr>\n<td>%v</td>\n<td></td>\n</tr>\n<tr>\n<td>%d</td>\n<td></td>\n</tr>\n<tr>\n<td>%f</td>\n<td></td>\n</tr>\n<tr>\n<td>%c</td>\n<td></td>\n</tr>\n<tr>\n<td>%s</td>\n<td></td>\n</tr>\n</tbody></table>\n<p></p>\n<pre class=\"line-numbers language-go\" data-language=\"go\"><code class=\"language-go\"><span class=\"token keyword\">var</span> <span class=\"token punctuation\">(</span>\n\tName2 <span class=\"token operator\">=</span> <span class=\"token string\">\"bigdata\"</span>\n\tAge2  <span class=\"token operator\">=</span> <span class=\"token number\">18</span>\n\tSex2  <span class=\"token operator\">=</span> <span class=\"token string\">\"\"</span>\n<span class=\"token punctuation\">)</span>\nfmt<span class=\"token punctuation\">.</span><span class=\"token function\">Println</span><span class=\"token punctuation\">(</span>Name2<span class=\"token punctuation\">,</span> Age2<span class=\"token punctuation\">,</span> Sex2<span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\">// </span>\nfmt<span class=\"token punctuation\">.</span><span class=\"token function\">Printf</span><span class=\"token punctuation\">(</span><span class=\"token string\">\":%v,:%v,:%v\\n\"</span><span class=\"token punctuation\">,</span> Name2<span class=\"token punctuation\">,</span> Age2<span class=\"token punctuation\">,</span> Sex2<span class=\"token punctuation\">)</span>              <span class=\"token comment\">// :bigdata,:18,:</span>\nfmt<span class=\"token punctuation\">.</span><span class=\"token function\">Printf</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Name:%T Age:%T Sex:%T\\n\"</span><span class=\"token punctuation\">,</span> Name2<span class=\"token punctuation\">,</span> Age2<span class=\"token punctuation\">,</span> Sex2<span class=\"token punctuation\">)</span> <span class=\"token comment\">// Name:string Age:int Sex:string</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n\n\n<blockquote>\n<p></p>\n</blockquote>\n<p></p>\n<pre class=\"line-numbers language-go\" data-language=\"go\"><code class=\"language-go\"><span class=\"token keyword\">package</span> main\n\n<span class=\"token keyword\">import</span> <span class=\"token string\">\"fmt\"</span>\n\n<span class=\"token keyword\">func</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n\t<span class=\"token comment\">/*\n\t\tGoGo\n\n\t\tGoGo\n\n\t\t\n\t*/</span>\n\t<span class=\"token comment\">// 1:</span>\n\t<span class=\"token keyword\">var</span> name <span class=\"token operator\">=</span> <span class=\"token string\">\"zhangsan\"</span>\n\tfmt<span class=\"token punctuation\">.</span><span class=\"token function\">Println</span><span class=\"token punctuation\">(</span>name<span class=\"token punctuation\">)</span>\n\n\t<span class=\"token comment\">// 2:</span>\n\t<span class=\"token keyword\">var</span> name2 <span class=\"token builtin\">string</span> <span class=\"token operator\">=</span> <span class=\"token string\">\"lisi\"</span>\n\tfmt<span class=\"token punctuation\">.</span><span class=\"token function\">Println</span><span class=\"token punctuation\">(</span>name2<span class=\"token punctuation\">)</span>\n\n\t<span class=\"token comment\">// 3:``  ``</span>\n\tname3 <span class=\"token operator\">:=</span> <span class=\"token string\">\"xiaoming\"</span>\n\tfmt<span class=\"token punctuation\">.</span><span class=\"token function\">Println</span><span class=\"token punctuation\">(</span>name3<span class=\"token punctuation\">)</span>\n\n\t<span class=\"token comment\">// 4:</span>\n\t<span class=\"token comment\">// </span>\n\t<span class=\"token keyword\">var</span> a1<span class=\"token punctuation\">,</span> a2 <span class=\"token builtin\">int</span>\n\ta1 <span class=\"token operator\">=</span> <span class=\"token number\">5</span>\n\ta2 <span class=\"token operator\">=</span> <span class=\"token number\">6</span>\n\tfmt<span class=\"token punctuation\">.</span><span class=\"token function\">Println</span><span class=\"token punctuation\">(</span>a1<span class=\"token punctuation\">)</span>\n\tfmt<span class=\"token punctuation\">.</span><span class=\"token function\">Println</span><span class=\"token punctuation\">(</span>a2<span class=\"token punctuation\">)</span>\n\tfmt<span class=\"token punctuation\">.</span><span class=\"token function\">Println</span><span class=\"token punctuation\">(</span>a1 <span class=\"token operator\">+</span> a2<span class=\"token punctuation\">)</span>\n\n\t<span class=\"token comment\">//   </span>\n\t<span class=\"token keyword\">var</span> <span class=\"token punctuation\">(</span>\n\t\tName <span class=\"token builtin\">string</span>\n\t\tAge  <span class=\"token builtin\">int</span>\n\t\tSex  <span class=\"token builtin\">string</span>\n\t<span class=\"token punctuation\">)</span>\n\tName <span class=\"token operator\">=</span> <span class=\"token string\">\"hj\"</span>\n\tAge <span class=\"token operator\">=</span> <span class=\"token number\">22</span>\n\tSex <span class=\"token operator\">=</span> <span class=\"token string\">\"\"</span>\n\tfmt<span class=\"token punctuation\">.</span><span class=\"token function\">Println</span><span class=\"token punctuation\">(</span>Name<span class=\"token punctuation\">,</span> Age<span class=\"token punctuation\">,</span> Sex<span class=\"token punctuation\">)</span>\n\n\t<span class=\"token comment\">// </span>\n\t<span class=\"token keyword\">var</span> <span class=\"token punctuation\">(</span>\n\t\tName1 <span class=\"token builtin\">string</span> <span class=\"token operator\">=</span> <span class=\"token string\">\"mjl\"</span>\n\t\tAge1  <span class=\"token builtin\">int</span>    <span class=\"token operator\">=</span> <span class=\"token number\">20</span>\n\t\tSex1  <span class=\"token builtin\">string</span> <span class=\"token operator\">=</span> <span class=\"token string\">\"\"</span>\n\t<span class=\"token punctuation\">)</span>\n\tfmt<span class=\"token punctuation\">.</span><span class=\"token function\">Println</span><span class=\"token punctuation\">(</span>Name1<span class=\"token punctuation\">,</span> Age1<span class=\"token punctuation\">,</span> Sex1<span class=\"token punctuation\">)</span>\n\n\t<span class=\"token comment\">// </span>\n\t<span class=\"token keyword\">var</span> <span class=\"token punctuation\">(</span>\n\t\tName2 <span class=\"token operator\">=</span> <span class=\"token string\">\"bigdata\"</span>\n\t\tAge2  <span class=\"token operator\">=</span> <span class=\"token number\">18</span>\n\t\tSex2  <span class=\"token operator\">=</span> <span class=\"token string\">\"\"</span>\n\t<span class=\"token punctuation\">)</span>\n\tfmt<span class=\"token punctuation\">.</span><span class=\"token function\">Println</span><span class=\"token punctuation\">(</span>Name2<span class=\"token punctuation\">,</span> Age2<span class=\"token punctuation\">,</span> Sex2<span class=\"token punctuation\">)</span>\n\n\t<span class=\"token comment\">// </span>\n\tfmt<span class=\"token punctuation\">.</span><span class=\"token function\">Printf</span><span class=\"token punctuation\">(</span><span class=\"token string\">\":%v,:%v,:%v\\n\"</span><span class=\"token punctuation\">,</span> Name2<span class=\"token punctuation\">,</span> Age2<span class=\"token punctuation\">,</span> Sex2<span class=\"token punctuation\">)</span>              <span class=\"token comment\">// :bigdata,:18,:</span>\n\tfmt<span class=\"token punctuation\">.</span><span class=\"token function\">Printf</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Name:%T Age:%T Sex:%T\\n\"</span><span class=\"token punctuation\">,</span> Name2<span class=\"token punctuation\">,</span> Age2<span class=\"token punctuation\">,</span> Sex2<span class=\"token punctuation\">)</span> <span class=\"token comment\">// Name:string Age:int Sex:string</span>\n\n<span class=\"token punctuation\">&#125;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h3 id=\"3-3-\"><a href=\"#3-3-\" class=\"headerlink\" title=\"3.3 \"></a>3.3 </h3><p><code></code>var<code>const</code><code></code></p>\n<pre class=\"line-numbers language-go\" data-language=\"go\"><code class=\"language-go\"><span class=\"token comment\">/*\n\t``var`const```\n*/</span>\n\n<span class=\"token comment\">//</span>\n<span class=\"token keyword\">const</span> pi <span class=\"token operator\">=</span> <span class=\"token number\">3.141596</span>\n\n<span class=\"token comment\">// </span>\n<span class=\"token keyword\">const</span> <span class=\"token punctuation\">(</span>\n\tA <span class=\"token operator\">=</span> <span class=\"token string\">\"A\"</span>\n\tB <span class=\"token operator\">=</span> <span class=\"token string\">\"B\"</span>\n<span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\">// const</span>\n<span class=\"token keyword\">const</span> <span class=\"token punctuation\">(</span>\n\ta <span class=\"token operator\">=</span> <span class=\"token string\">\"A\"</span>\n\tb\n\tc\n<span class=\"token punctuation\">)</span>\nfmt<span class=\"token punctuation\">.</span><span class=\"token function\">Println</span><span class=\"token punctuation\">(</span>a<span class=\"token punctuation\">,</span> b<span class=\"token punctuation\">,</span> c<span class=\"token punctuation\">)</span> <span class=\"token comment\">// A A A</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n\n\n<h3 id=\"3-4-Constiota\"><a href=\"#3-4-Constiota\" class=\"headerlink\" title=\"3.4 Constiota\"></a>3.4 Constiota</h3><p>iotagolang </p>\n<p>iotaconst0constconstiotaiotaconst</p>\n<blockquote>\n<ol>\n<li>constiota0</li>\n</ol>\n</blockquote>\n<pre class=\"line-numbers language-go\" data-language=\"go\"><code class=\"language-go\"><span class=\"token keyword\">package</span> main\n\n<span class=\"token keyword\">import</span> <span class=\"token string\">\"fmt\"</span>\n\n<span class=\"token keyword\">func</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n\n\t<span class=\"token keyword\">const</span> a <span class=\"token operator\">=</span> <span class=\"token boolean\">iota</span>\t<span class=\"token comment\">// a = 0</span>\n\tfmt<span class=\"token punctuation\">.</span><span class=\"token function\">Println</span><span class=\"token punctuation\">(</span>a<span class=\"token punctuation\">)</span> \n\n\t<span class=\"token keyword\">const</span> <span class=\"token punctuation\">(</span>\n\t\tb <span class=\"token operator\">=</span> <span class=\"token boolean\">iota</span> <span class=\"token comment\">// b = 0</span>\n\t\tc\t\t<span class=\"token comment\">// c = 1</span>\n \t\td\t\t<span class=\"token comment\">// d = 2</span>\n\t<span class=\"token punctuation\">)</span>\n\tfmt<span class=\"token punctuation\">.</span><span class=\"token function\">Println</span><span class=\"token punctuation\">(</span>b<span class=\"token punctuation\">,</span> c<span class=\"token punctuation\">,</span> d<span class=\"token punctuation\">)</span>\n\n<span class=\"token punctuation\">&#125;</span>\n<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<blockquote>\n<ol start=\"2\">\n<li>const  iota <code>_</code> </li>\n</ol>\n</blockquote>\n<pre class=\"line-numbers language-go\" data-language=\"go\"><code class=\"language-go\"><span class=\"token keyword\">const</span> <span class=\"token punctuation\">(</span>\n\tb <span class=\"token operator\">=</span> <span class=\"token boolean\">iota</span> <span class=\"token comment\">// b = 0</span>\n\t<span class=\"token boolean\">_</span>        <span class=\"token comment\">//  1</span>\n\td        <span class=\"token comment\">// d = 2</span>\n<span class=\"token punctuation\">)</span>\nfmt<span class=\"token punctuation\">.</span><span class=\"token function\">Println</span><span class=\"token punctuation\">(</span>b<span class=\"token punctuation\">,</span> d<span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<blockquote>\n<ol start=\"3\">\n<li>iota</li>\n</ol>\n</blockquote>\n<pre class=\"line-numbers language-go\" data-language=\"go\"><code class=\"language-go\"><span class=\"token comment\">// iota</span>\n<span class=\"token keyword\">const</span> <span class=\"token punctuation\">(</span>\n\tn1 <span class=\"token operator\">=</span> <span class=\"token boolean\">iota</span> <span class=\"token comment\">// n1 = 0</span>\n\tn2 <span class=\"token operator\">=</span> <span class=\"token number\">100</span>  <span class=\"token comment\">// n2 = 100</span>\n\tn3 <span class=\"token operator\">=</span> <span class=\"token boolean\">iota</span> <span class=\"token comment\">// n3 = 2</span>\n\tn4        <span class=\"token comment\">// n4 = 3</span>\n<span class=\"token punctuation\">)</span>\nfmt<span class=\"token punctuation\">.</span><span class=\"token function\">Println</span><span class=\"token punctuation\">(</span>n1<span class=\"token punctuation\">,</span> n2<span class=\"token punctuation\">,</span> n3<span class=\"token punctuation\">,</span> n4<span class=\"token punctuation\">)</span> <span class=\"token comment\">// :0 100 2 3</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n\n\n<blockquote>\n<ol start=\"4\">\n<li>iota</li>\n</ol>\n</blockquote>\n<pre class=\"line-numbers language-go\" data-language=\"go\"><code class=\"language-go\"><span class=\"token comment\">// iota</span>\n<span class=\"token keyword\">const</span> <span class=\"token punctuation\">(</span>\n\tn1<span class=\"token punctuation\">,</span> n2 <span class=\"token operator\">=</span> <span class=\"token boolean\">iota</span> <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token boolean\">iota</span> <span class=\"token operator\">+</span> <span class=\"token number\">2</span> <span class=\"token comment\">// 0+1=1 ,0+2 =2</span>\n\tn3<span class=\"token punctuation\">,</span> n4                      <span class=\"token comment\">// 2 , 3</span>\n\tn5<span class=\"token punctuation\">,</span> n6                      <span class=\"token comment\">// 3 , 4</span>\n<span class=\"token punctuation\">)</span>\nfmt<span class=\"token punctuation\">.</span><span class=\"token function\">Println</span><span class=\"token punctuation\">(</span>n1<span class=\"token punctuation\">,</span> n2<span class=\"token punctuation\">)</span>\nfmt<span class=\"token punctuation\">.</span><span class=\"token function\">Println</span><span class=\"token punctuation\">(</span>n3<span class=\"token punctuation\">,</span> n4<span class=\"token punctuation\">)</span>\nfmt<span class=\"token punctuation\">.</span><span class=\"token function\">Println</span><span class=\"token punctuation\">(</span>n5<span class=\"token punctuation\">,</span> n6<span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p><img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/image-20240510165431706.png\" alt=\"image-20240510165431706\"></p>\n<h3 id=\"3-5-Go\"><a href=\"#3-5-Go\" class=\"headerlink\" title=\"3.5 Go\"></a>3.5 Go</h3><p>1<br>2<br>3</p>\n<p>4ageAge<code></code></p>\n<p>5<code></code></p>\n<p>6DNS)</p>\n<h3 id=\"3-6-godoc\"><a href=\"#3-6-godoc\" class=\"headerlink\" title=\"3.6 godoc\"></a>3.6 godoc</h3><blockquote>\n<p></p>\n</blockquote>\n<p> &#x2F;&#x2F;  &#x2F;*  *&#x2F; </p>\n<pre class=\"line-numbers language-go\" data-language=\"go\"><code class=\"language-go\"><span class=\"token number\">1.</span>\n<span class=\"token comment\">// </span>\n<span class=\"token number\">2.</span>\n<span class=\"token comment\">/*\n Author by \n \n */</span>\n<span class=\"token number\">3.</span>\n<span class=\"token comment\">// </span>\n<span class=\"token comment\">//</span>\n<span class=\"token comment\">// </span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<blockquote>\n<p><code>go doc</code>  Go  Go  <code>godoc</code> <code>go doc</code> </p>\n</blockquote>\n<p><code>go doc</code> <strong></strong>:</p>\n<ol>\n<li><p><strong></strong></p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">\ngo doc <span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre></li>\n</ol>\n<p></p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">\ngo doc fmt<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n\n<p>   <code>fmt</code> </p>\n<ol start=\"2\">\n<li><p><strong></strong></p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">\ngo doc .<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre></li>\n</ol>\n<p></p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">\ngo doc fmt.Println<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n\n<p>   <code>fmt.Println</code> </p>\n<ol start=\"3\">\n<li><p><strong></strong></p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">\ngo doc ..<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre></li>\n</ol>\n<p></p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">\ngo doc net&#x2F;http.Client.Get<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n\n<p>   <code>http.Client</code>  <code>Get</code> </p>\n<ol start=\"4\">\n<li><p><strong></strong></p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">\ngo doc -src <span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre></li>\n</ol>\n<p></p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">\ngo doc -src fmt<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n\n<p>   <code>fmt</code> </p>\n<ol start=\"5\">\n<li><p><strong></strong></p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">\ngo doc -C <span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n\n<p></p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">\ngo doc -C &#x2F;path&#x2F;to&#x2F;your&#x2F;project fmt<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n\n<p> <code>fmt</code> </p>\n</li>\n</ol>\n<p><code>go doc</code> <strong></strong>:</p>\n<ul>\n<li><strong></strong> Go </li>\n<li><strong></strong> <code>-src</code> </li>\n<li><strong></strong> <code>-C</code> </li>\n</ul>\n<p><strong>:</strong></p>\n<p> <code>go doc</code> </p>\n<ol>\n<li><p><strong> <code>fmt</code> </strong></p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">\ngo doc fmt<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n\n<p><code>fmt</code> </p>\n</li>\n<li><p><strong> <code>fmt.Println</code> </strong></p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">\ngo doc fmt.Println<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n\n<p><code>fmt.Println</code> </p>\n</li>\n<li><p><strong> <code>http.Client.Get</code> </strong></p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">\ngo doc net&#x2F;http.Client.Get<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n\n<p><code>http.Client</code>  <code>Get</code> </p>\n</li>\n<li><p><strong> <code>fmt</code> </strong></p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">\ngo doc -src fmt<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n\n<p><code>fmt</code> </p>\n</li>\n<li><p><strong> <code>fmt</code> </strong></p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">\ngo doc -C &#x2F;path&#x2F;to&#x2F;your&#x2F;project fmt<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre></li>\n</ol>\n<p> <code>fmt</code> </p>\n<p> <code>go doc</code>  Go  Go </p>\n<blockquote>\n<p>godoc</p>\n</blockquote>\n<p><strong>1.</strong> <strong></strong></p>\n<pre class=\"line-numbers language-go\" data-language=\"go\"><code class=\"language-go\"><span class=\"token keyword\">go</span> get golang<span class=\"token punctuation\">.</span>org<span class=\"token operator\">/</span>x<span class=\"token operator\">/</span>tools<span class=\"token operator\">/</span>cmd<span class=\"token operator\">/</span>godoc<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p><strong>2.</strong> <strong>http:</strong></p>\n<pre class=\"line-numbers language-go\" data-language=\"go\"><code class=\"language-go\">godoc <span class=\"token operator\">-</span>http<span class=\"token operator\">=</span><span class=\"token punctuation\">:</span><span class=\"token number\">6060</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p><strong>3. </strong></p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">http://127.0.0.1:6060/pkg/go-course/entrance_class <span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p><img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202407191029000.png\" alt=\"image-20240719102952811\"></p>\n"},{"title":"Hadoop","date":"2024-11-10T14:32:04.000Z","_content":"# Hadoop\n\n## 1.Hadoop \n\n**1.1 Hadoop **\n\n1HadoopApache<font color=\"red\" size=\"3\"></font> \n\n2<font color=\"red\" size=\"3\"></font><font color=\"red\" size=\"3\"></font> \n\n3Hadoop<font color=\"red\" size=\"3\">Hadoop</font>\n\n\n\n**1.2 Hadoop **\n\n1****HadoopHadoop \n\n2**** \n\n3****MapReduceHadoop \n\n4****\n\n\n\n**1.3 Hadoop **\n\n<img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202312111527570.png\" alt=\"\"> \n\nHadoop1.x HadoopMapReduce Hadoop2.xYarnYarnMapReduce  ==Hadoop3.x==\n\n\n\n**1.3.1 HDFS **\n\nHadoop Distributed File System<font color=\"red\" size=\"3\">HDFS</font>\n\n1`NameNode`nn**********************DataNode** \n\n2`DataNode`(dn)******** \n\n3`Secondary NameNode`(2nn)**NameNode**\n\n\n\n\n\n**1.3.2 YARN **\n\nYet Another Resource Negotiator YARN Hadoop \n\n <img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202312111625192.png\" alt=\"\">\n\n`ResourceManager`(RM)CPU \n\n`NodeManager`(NM) \n\n`ApplicationMaster`(AM) \n\n`Container`**CPU**\n\n\n\n \n\n1 \n\n2ApplicationMaster \n\n3NodeManagerContainer\n\n\n\n**1.3.3 MapReduce **\n\nMapReduce Map Reduce 1Map  2Reduce Map  \n\n<img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202312111527808.png\" alt=\"\">\n\n**1.3.4 HDFSYARNMapReduce **\n\n\n\n <img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202312111527601.png\" alt=\"\">\n\n**1.3.5 **\n\n <img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202312111527584.png\" alt=\"\"> \n\n\n\n1`Sqoop`Sqoop HadoopHive MySQL MySQLOracle Hadoop HDFS HDFS  \n\n2`Flume`Flume Flume  3`Kafka`Kafka  \n\n4`Spark`Spark Hadoop \n\n5`Flink`Flink  \n\n6`Oozie`Oozie Hadoop job \n\n7`Hbase`HBase HBase  \n\n8`Hive`Hive Hadoop SQL SQL MapReduce SQL MapReduce MapReduce  \n\n9`ZooKeeper`\n\n\n\n**1.3.6 **\n\n\n\n <img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202312111527591.png\" alt=\"\">\n\n**1.3.7 **\n\n<img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202312111537682.png\" alt=\"\">\n\n## 2. Hadoop \n\n:\n\n|    | ip       |\n| ------ | ------------ |\n| master | 192.168.1.10 |\n| slave1 | 192.168.1.20 |\n| slave2 | 192.168.1.30 |\n\n### 2.1 \n\n```sh\nhostnamectl set-hostname master && bash\nhostnamectl set-hostname slave1 && bash\nhostnamectl set-hostname slave2 && bash\n```\n\n### 2.2 hosts\n\n> \n\n```sh\n[root@master ~]# cat /etc/hosts\n127.0.0.1\tlocalhost\n::1\tlocalhost ip6-localhost ip6-loopback\nfe00::0\tip6-localnet\nff00::0\tip6-mcastprefix\nff02::1\tip6-allnodes\nff02::2\tip6-allrouters\n192.168.1.10\tmaster\n192.168.1.20\tslave1\n192.168.1.30\tslave2\n```\n\n```sh\nsystemctl stop firewalld\nsystemctl disable firewalld\n```\n\n### 2.3 \n\n#### 2.3.1 \n\n```sh\n[root@master ~]# ssh-keygen -t rsa\t\t#\n\n[root@master ~]# ssh-keygen -f ~/.ssh/id_rsa -P '' #\n```\n\n![image-20230321114300354](https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202312111607877.png)\n\n#### 2.3.2 \n\n```hss\nssh-copy-id master\nssh-copy-id slave1\nssh-copy-id slave2\n```\n\n![image-20230321115337762](https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202312111607997.png)\n\n()\n\n\n\n### 2.4 JDK\n\n\n\n```sh\n[root@master ~]# tar -zxvf /opt/software/jdk-8u162-linux-x64.tar.gz -C /opt/module/\n\n[root@master ~]# cd /opt/module/\t#\n[root@master module]# mv jdk1.8.0_162/ jdk\n```\n\njdk\n\n```sh\n[root@master module]# vi /etc/profile\n```\n\n\n\n```sh\n#JAVA_HOME\nexport JAVA_HOME=/opt/module/jdk\nexport PATH=$PATH:$JAVA_HOME/bin:$JAVA_HOME/jre/bin\n```\n\n\n\n```sh\n[root@master module]# source /etc/profile\n```\n\njdk\n\n```sh\n[root@master module]# java -version\n```\n\n![image-20230321122027954](https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202312111617633.png)\n\nJDK\n\n```sh\n[root@master module]# scp /etc/profile root@slave1:/etc/profile\n[root@master module]# scp /etc/profile root@slave2:/etc/profile\n\n[root@master module]# scp -rq jdk/ root@slave1:/opt/module/\n[root@master module]# scp -rq jdk/ root@slave2:/opt/module/\n```\n\n![image-20230321122308314](https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202312111617652.png)\n\nJAVA\n\nslave1\n\n![image-20230321122633530](https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202312111617692.png)\n\nslave2\n\n![image-20230321122717175](https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202312111617803.png)\n\n\n\n\n\n> jpsall()\n\n```sh\nvi $JAVA_HOME/bin/jpsall\nchmod +x $JAVA_HOME/bin/jpsall\n```\n\n:\n\n```sh\n#!/bin/bash\nfor hostname in master slave1 slave2\ndo\n  echo ===========$hostname==========\n  ssh $hostname \". /etc/profile; jps\"\ndone\n```\n\n### 2.5 Hadoop\n\n> 3jdk\n\n#### 2.5.1 \n\n```sh\n[root@master module]# tar -zxvf /opt/software/hadoop-3.1.3.tar.gz -C /opt/module/\n[root@master module]# mv hadoop-3.1.3/ hadoop\t#\n```\n\n#### 2.5.2 hadoop\n\n```sh\n[root@master module]# vi /etc/profile\n```\n\n\n\n```sh\n#HADOOP\nexport HADOOP_HOME=/opt/module/hadoop\nexport PATH=$PATH:$HADOOP_HOME/bin:$HADOOP_HOME/sbin\nexport HADOOP_CLASSPATH=`$HADOOP_HOME/bin/hadoop classpath`\nexport HDFS_NAMENODE_USER=root\nexport HDFS_DATANODE_USER=root\nexport HDFS_SECONDARYNAMENODE_USER=root\nexport YARN_RESOURCEMANAGER_USER=root\nexport YARN_NODEMANAGER_USER=root\n\n#3.0\n```\n\nwq \n\n```sh\n[root@master module]# source /etc/profile\n```\n\nhadoop \n\n```sh\n[root@master module]# hadoop version\n```\n\n![image-20230321124056646](https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202312111621421.png)\n\n### 2.6 6\n\n- :one: core.site.xml \n- :two: hdfs-site.xml \n- :three: mapred-site.xml \n- :four:yarn-site.xml \n- :five: hadoop-env.sh \n- :six: workers \n\n\n\n====\n\n> :`\\hadoop-3.1.3\\share\\doc\\hadoop`\n\n![image-20240104222735234](https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202401042227312.png)\n\n![image-20240104222630568](https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202401042226052.png)\n\n\n\n:\n\n```sh\nfind ./ -name \"core-de*\" -o -name \"hdfs-de*\" -o -name \"mapred-de*\" -o -name \"yarn-de*\"\n```\n\n![image-20240105152739131](https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202401051527779.png)\n\n()\n\n#### 2.6.1\n\n```SH\n[root@master module]# cd hadoop/etc/hadoop/\n[root@master hadoop]# ll\n```\n\n\n\n![image-20230321124310396](https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202312111630756.png)\n\n6\n\n#### 2.6.2 hadoop-env.sh\n\n```sh\n[root@master hadoop]# vi hadoop-env.sh #hadoop jdk\n```\n\n![image-20230321124524896](https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202312111630692.png)\n\n#### 2.6.3 workers\n\n\n\n```sh\n[root@master hadoop]# vi workers\nmaster\nslave1\nslave2\n```\n\n![image-20230321124806539](https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202312111630688.png)\n\n#### 2.6.4 core.site.xml\n\n![image-20240104222915427](https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202401042229494.png)\n\n```sh\n[root@master hadoop]# vi core-site.xml\n```\n\n```xml\n<configuration>\n<!-- hdfsschame,ip,port-->\n        <property>\n                <name>fs.defaultFS</name>\n                <value>hdfs://master:9000</value>\n        </property>\n<!-- hdfs -->\n        <property>\n                <name>hadoop.tmp.dir</name>\n                <value>/root/hadoopdir/tmp</value>\n        </property>\n</configuration>\n```\n\n#### 2.6.5 hdfs.site.xml:\n\n```sh\n[root@master hadoop]# vi hdfs-site.xml \n```\n\n```xml\n<configuration>\n<!-- namenodefsimage-->\n        <property>\n                <name>dfs.namenode.name.dir</name>\n                <value>/root/hadoopdir/dfs/name</value>\n        </property>\n<!-- DFS-->\n        <property>\n                <name>dfs.datanode.data.dir</name>\n                <value>/root/hadoopdir/dfs/data</value>\n        </property>\n<!-- -->\n        <property>\n                <name>dfs.replication</name>\n                <value>3</value>\n        </property>\n<!-- (128M),-->\n        <property>\n                <name>dfs.blocksize</name>\n                <value>134217728</value>\n        </property>\n<!-- secondarynamenodehttp-->\n        <property>\n                <name>dfs.namenode.secondary.http-address</name>\n                <value>master:9868</value>\n        </property>\n<!-- namenodehttp-->\n        <property>\n                <name>dfs.namenode.http-address</name>\n                <value>master:9870</value>\n        </property>\n<!--HDFSWeb3.09870-->\n        <property>\n\t\t<name>dfs.webhdfs.enabled</name>\n                <value>true</value>\n        </property>\n</configuration>\n```\n\n#### 2.6.6 mapred-site.xml:\n\n```sh\n[root@master hadoop]# vi mapred-site.xml \n```\n\n```xml\n<configuration>\n<!-- mapreduceyarn-->\n        <property>\n                <name>mapreduce.framework.name</name>\n                <value>yarn</value>\n        </property>\n<!-- -->\n        <property>\n                <name>mapreduce.jobhistory.address</name>\n                <value>master:10020</value>\n        </property>\n<!-- http-->\n        <property>\n                <name>mapreduce.jobhistory.webapp.address</name>\n                <value>master:19888</value>\n        </property>\n<!-- MapReduce  Hadoop   hive-->\n        <property>\n       \t\t\t<name>yarn.app.mapreduce.am.env</name>\n        \t\t<value>HADOOP_MAPRED_HOME=${HADOOP_HOME}</value>\n\t\t</property>\n\t\t<property>\n      \t\t  <name>mapreduce.map.env</name>\n      \t\t  <value>HADOOP_MAPRED_HOME=${HADOOP_HOME}</value>\n\t\t</property>\n\t\t<property>\n       \t\t <name>mapreduce.reduce.env</name>\n      \t\t <value>HADOOP_MAPRED_HOME=${HADOOP_HOME}</value>\n\t\t</property>   \n</configuration>\n```\n\n#### 2.6.7 yarn-site.xml:\n\n```sh\n[root@master hadoop]# vi yarn-site.xml\n```\n\n```xml\n<configuration>\n<!-- Site specific YARN configuration properties -->\n\t<!-- NodeManagershuffle -->\n\t<property>\n\t\t<name>yarn.nodemanager.aux-services</name>\n\t\t<value>mapreduce_shuffle</value>\n\t</property>\n\t<!-- YARNResourceManager -->\n\t<property>\n\t\t<name>yarn.resourcemanager.hostname</name>\n\t\t<value>master</value>\n\t</property>\n\t<!-- yarnweb -->\n\t<property>\n\t\t<name>yarn.resourcemanager.webapp.address</name>\n\t\t<value>master:8088</value>\n\t</property>\n\t<property>\n\t\t<name>yarn.resourcemanager.webapp.https.address</name>\n\t\t<value>master:8090</value>\n\t</property>\n\t<!--  -->\n\t<property>\n\t\t<name>yarn.log-aggregation-enable</name>\n\t\t<value>true</value>\n\t</property>\n\t<!-- hdfs -->\n\t<property>\n\t\t<name>yarn.log-aggregation.retain-seconds</name>\n\t\t<value>604800</value>\n\t</property>\n</configuration>\n```\n\nhadoop 2.X webhdfs500703.X9870\n\n#### 2.6.8 \n\n```sh\n[root@master module]# scp /etc/profile root@slave1:/etc/profile\n[root@master module]# scp /etc/profile root@slave2:/etc/profile\n\n[root@master module]# scp -r /opt/module/hadoop root@slave1:/opt/module\n[root@master module]# scp -r /opt/module/hadoop root@slave2:/opt/module\n```\n\n\n\n#### 2.6.9 namenode\n\n```sh\n[root@master ~]# hdfs namenode -format\n```\n\n\n\n![image-20230320183413920](https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202312111630315.png)\n\n#### 2.6.10 \n\n\n\n```sh\n[root@master ~]# start-all.sh \n```\n\n:\n\n```sh\n1:\njps\n2:()\njpsall\n```\n\n\n\n![](https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202312111630752.png)\n\n![image-20240105174003166](https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202401051740271.png)\n\n### 2.7 web\n\nhttp://ip:9870\n\nhttp://ip:8088\n\n![image-20240105153102460](https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202401051531566.png)\n\n![image-20240105153114530](https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202401051531631.png)\n\n\n\n![image-20240105153148000](https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202401051531093.png)\n\n\n\n\n\n## 3. Hadoop HA\n\n### 3.1 zookeeper\n\n#### 3.1.1 \n\n```sh\n[root@master ~]# tar -zxvf /opt/software/zookeeper-3.4.6.tar.gz -C /opt/module/\n[root@master ~]# mv /opt/module/zookeeper-3.4.6/ /opt/module/zookeeper\n```\n\n> \n\n```sh\n#\nmkdir /opt/module/zookeeper/data\n#\nmkdir /opt/module/zookeeper/logs\n```\n\n#### 3.1.2 \n\n> \n\n:\n\n```sh\n#zookeeper\nexport ZK_HOME=/opt/module/zookeeper\nexport PATH=$PATH:$ZK_HOME/bin\n```\n\n```sh\ncat >>/etc/profile<<EOF\n#zookeeper\nexport ZK_HOME=/opt/module/zookeeper\nexport PATH=\\$PATH:\\$ZK_HOME/bin\nEOF\n```\n\n:\n\n```sh\nsource /etc/profile\n```\n\n#### 3.1.3 zoo.cfg\n\n```sh\n\n[root@master ~]# mkdir /opt/module/zookeeper/{data,logs}\n[root@master ~]# cp /opt/module/zookeeper/conf/zoo_sample.cfg /opt/module/zookeeper/conf/zoo.cfg\n[root@master ~]# vi /opt/module/zookeeper/conf/zoo.cfg\n```\n\n> :\n\n```sh\n[root@master conf]# cat zoo.cfg \ntickTime=2000\ninitLimit=10\nsyncLimit=5\ndataDir=/opt/module/zookeeper/data\ndataLogDir=/opt/module/zookeeper/logs\nclientPort=2181\nserver.1=master:2888:3888\nserver.2=slave1:2888:3888\nserver.3=slave2:2888:3888\n```\n\n:\n\n```sh\n[root@kafka1 opt]# grep -Ev \"#|^$\" /usr/local/zookeeper/conf/zoo.cfg \ntickTime=2000\ninitLimit=10\nsyncLimit=5\ndataDir=/opt/module/zookeeper/data\ndataLogDir=/opt/module/zookeeper/logs\nclientPort=2181\nmaxClientCnxns=4096\t#()\nautopurge.snapRetainCount=128   # /opt/zookeeper()\nautopurge.purgeInterval=1   # ()\n# \nserver.1=master:2888:3888\nserver.2=slave1:2888:3888\nserver.3=slave2:2888:3888\n\n\nserver.A=B:C:D\n\nAmyidzookeeperzoo.cfgserver\nB\nCFollowerLeader\nDleaderleader\n```\n\n:![image-20240105162313246](https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images202402201018515.png)\n\n#### 3.1.4 `myid`\n\n```sh\n[root@master zookeeper]# echo 1 > $ZK_HOME/data/myid\n```\n\n#### 3.1.5 myid\n\n> :warning::,\n\n:\n\n```sh\n[root@master ~]# scp -r /opt/module/zookeeper/ root@slave1:/opt/module/\n[root@master ~]# scp -r /opt/module/zookeeper/ root@slave2:/opt/module/\n```\n\nmyid:\n\nslave1:\n\n```sh\n[root@slave1 ~]# echo 2 > /opt/module/zookeeper/data/myid\n[root@slave1 ~]# echo 2 > $ZK_HOME/data/myid\n```\n\nslave2:\n\n```sh\n[root@slave2 ~]# echo 3 > /opt/module/zookeeper/data/myid\n[root@slave2 ~]# echo 3 > $ZK_HOME/data/myid\n```\n\n#### 3.1.6 zk\n\n:\n\n```sh\n/opt/module/zookeeper/bin/zkServer.sh start\n```\n\n:\n\n```sh\n/opt/module/zookeeper/bin/zkServer.sh status\n```\n\n\n\nmaster:![image-20240105165336746](https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images202402201020411.png)\n\nslave1:![image-20240105165353343](https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images202402201020560.png)\n\nslave2:![image-20240105165433958](https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images202402201020484.png)\n\n### 3.2 Hadoop HA\n\n`2.6`\n\n#### 3.2.1 hadoop-env.sh\n\n\n\n```sh\nexport JAVA_HOME=/opt/module/jdk1.8.0_162\nexport HDFS_NAMENODE_USER=root\nexport HDFS_DATANODE_USER=root\nexport HDFS_SECONDARYNAMENODE_USER=root\nexport YARN_RESOURCEMANAGER_USER=root\nexport YARN_NODEMANAGER_USER=root\n#ha\nexport HDFS_JOURNALNODE_USER=root\nexport HDFS_ZKFC_USER=root\n```\n\n\n\n![image-20240220200709576](https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images202402202007642.png)\n\n#### 3.2.2 workers\n\n\n\n```sh\n[root@master hadoop]# cat workers\nmaster\nslave1\nslave2\n```\n\n#### 3.3.3 core-site.xml\n\n```sh\n[root@master hadoop]# vim core-site.xml\n```\n\n\n\n``` xml\n<configuration>\n<!-- hdfsschame,ip,port-->\n        <property>\n                <name>fs.defaultFS</name>\n                <value>hdfs://master:9000</value>\n        </property>\n<!-- hdfs -->\n        <property>\n                <name>hadoop.tmp.dir</name>\n                <value>/root/hadoopdir/tmp</value>\n        </property>\n<!-- ha.zookeeper.quorum zookeeper, -->\n    \t<property>\n\t\t\t\t<name>ha.zookeeper.quorum</name>\n            \t<value>master:2181,slave1:2181,slave2:2181</value>\n    \t</property>\n</configuration>\n```\n\n#### 3.3.4 hdfs-site.xml:star:\n\n```sh\n[root@master hadoop]# vim hdfs-site.xml\n```\n\n\n\n```xml\n<configuration>\n<!-- namenodenamenode-->\n        <property>\n                <name>dfs.nameservices</name>\n                <value>mycluster</value>\n        </property>\n<!-- namenode-->\n        <property>\n                <name>dfs.ha.namenodes.mycluster</name>\n                <value>nn1,nn2</value>\n        </property>\n<!-- 1 rpc -->\n        <property>\n                <name>dfs.namenode.rpc-address.mycluster.nn1</name>\n                <value>master:9000</value>\n        </property>\n<!-- 2 rpc -->\n        <property>\n                <name>dfs.namenode.rpc-address.mycluster.nn2</name>\n                <value>slave1:9000</value>\n        </property>\n<!-- Namenode 1 -->\n        <property>\n                <name>dfs.namenode.http-address.mycluster.nn1</name>\n                <value>master:9870</value>\n        </property>   \n<!-- Namenode 2 -->\n        <property>\n                <name>dfs.namenode.http-address.mycluster.nn2</name>\n                <value>slave1:9870</value>\n        </property> \n<!--JournalNode -->\n        <property>\n                <name>dfs.namenode.shared.edits.dir</name>\n                <value>qjournal://master:8485;slave1:8485;slave2:8485/mycluster</value>\n        </property>\n<!-- namenodefsimage-->\n        <property>\n                <name>dfs.namenode.name.dir</name>\n                <value>/root/hadoopdir/dfs/name</value>\n        </property>\n<!-- DFS-->\n        <property>\n                <name>dfs.datanode.data.dir</name>\n                <value>/root/hadoopdir/dfs/data</value>\n        </property>\n<!--JournalNode -->\n        <property>\n                <name>dfs.journalnode.edits.dir</name>\n                <value>/root/hadoopdir/journal</value>\n        </property>\n<!--Failover -->\n        <property>\n                <name>dfs.client.failover.proxy.provider.mycluster</name>\n                <value>org.apache.hadoop.hdfs.server.namenode.ha.ConfiguredFailoverProxyProvider</value>\n        </property>\n<!--sshfence  ssh -->\n        <property>\n                <name>dfs.ha.fencing.methods</name>\n               <!-- <value>sshfence</value>-->\n               <!--sshfencesshfencefalsefence-->\n                <value>shell(true)</value>\n        </property>\n<!--ssh -->\n        <property>\n                <name>dfs.ha.fencing.ssh.private-key-files</name>\n                <value>/root/.ssh/id_rsa</value>\n        </property>\n<!--truefalse-->\n        <property>\n                <name>dfs.ha.automatic-failover.enabled</name>\n                <value>true</value>\n        </property>\n<!---->\n        <property>\n                <name>dfs.replication</name>\n                <value>3</value>\n        </property>   \n</configuration>\n```\n\n#### 3.3.5 mapred-site.xml\n\n```xml\n<configuration>\n\n<!-- mapreduceyarn-->\n        <property>\n                <name>mapreduce.framework.name</name>\n                <value>yarn</value>\n        </property>\n<!-- -->\n        <property>\n                <name>mapreduce.jobhistory.address</name>\n                <value>master:10020</value>\n        </property>\n<!-- http-->\n        <property>\n                <name>mapreduce.jobhistory.webapp.address</name>\n                <value>master:19888</value>\n        </property>\n<!-- MapReduce  Hadoop   hive-->\n        <property>\n       \t\t<name>yarn.app.mapreduce.am.env</name>\n        \t<value>HADOOP_MAPRED_HOME=${HADOOP_HOME}</value>\n\t</property>\n\n\t<property>\n      \t\t<name>mapreduce.map.env</name>\n      \t\t<value>HADOOP_MAPRED_HOME=${HADOOP_HOME}</value>\n\t</property>\n\n\t<property>\n       \t\t<name>mapreduce.reduce.env</name>\n      \t\t<value>HADOOP_MAPRED_HOME=${HADOOP_HOME}</value>\n\t</property>    \n\n</configuration>\n```\n\n#### 3.3.6 yarn-site.xml:star:\n\n```xml\n<configuration>\n<!-- NodeManagershuffle -->\n\t<property>\n\t\t<name>yarn.nodemanager.aux-services</name>\n\t\t<value>mapreduce_shuffle</value>\n\t</property>\n<!--HA -->\n    <property>\n\t\t<name>yarn.resourcemanager.ha.enabled</name>\n\t\t<value>true</value>\n\t</property>\n<!--  -->\n\t<property>\n\t\t<name>yarn.resourcemanager.recovery.enable</name>\n\t\t<value>true</value>\n\t</property>\n<!--  -->\n\t<property>\n\t\t<name>yarn.resourcemanager.store.class</name>\n\t\t<value>org.apache.hadoop.yarn.server.resourcemanager.recovery.ZKRMStateStore</value>\n\t</property>\n<!--zookeeper-->\n\t<property>\n\t\t<name>yarn.resourcemanager.zk-address</name>\n\t\t<value>master:2181,slave1:2181,slave2:2181</value>\n\t</property>\n<!-- ID-->\n\t<property>\n\t\t<name>yarn.resourcemanager.cluster-id</name>\n\t\t<value>yarn-ha</value>\n\t</property>\n<!-- resourcemanager -->\n\t<property>\n\t\t<name>yarn.resourcemanager.ha.rm-ids</name>\n\t\t<value>rm1,rm2</value>\n\t</property>  \n<!--1 -->\n\t<property>\n\t\t<name>yarn.resourcemanager.hostname.rm1</name>\n\t\t<value>master</value>\n\t</property>   \n<!--2 -->\n\t<property>\n\t\t<name>yarn.resourcemanager.hostname.rm2</name>\n\t\t<value>slave1</value>\n\t</property>         \n<!--  ()-->\n\t<property>\n\t\t<name>yarn.log-aggregation-enable</name>\n\t\t<value>true</value>\n\t</property>\n<!-- hdfs -->\n\t<property>\n\t\t<name>yarn.log-aggregation.retain-seconds</name>\n\t\t<value>604800</value>\n\t</property>\n</configuration>\n```\n\n> ,:warning:\n\n\n\n### 3.3 \n\n#### 3.3.1 journalnode\n\n> ``journalnode\n\n```sh\nhadoop-daemon.sh start journalnode\n```\n\n#### 3.3.2 namenode\n\n> master(`nn1`)namenode\n\n```sh\nhdfs namenode -format\n```\n\n\n![image-20240220195039832](https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images202402201950935.png)\n\n\n> `nn2`slave1\n\n:one: 1: (`nn1`)(`nn2`)\n\n```sh\nscp -r hadoopdir/dfs/ root@slave1:/root/hadoopdir\n```\n\n![](https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images202402201951392.png)\n\n:two: 2:(`nn2`)\n\n(`nn1`)namenode,(`nn2`),\n\n`master`namenode,:\n\n![image-20241006232852729](https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202410062328858.png)\n\n`Connection refused`NameNodeNameNode192.168.10.11:9000\n\n**:**\n\n1.master(nn1)namenode:\n\n```sh\n[root@master ~]# hdfs --daemon start namenode\n```\n\n2.slave1(nn2)\n\n```sh\n[root@slave1 ~]# hdfs namenode -bootstrapStandby\n```\n\n![image-20241006232636095](https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202410062326234.png)\n\n,`/root/hadoopdir`,:\n\n![image-20241006233249156](https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202410062332270.png)\n\n(21,scpovO...)\n\n#### 3.3.3 masterzk\n\n```sh\nhdfs zkfc -formatZK\n```\n\n\n![image-20241006235656731](https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202410062356870.png)\n\n#### 3.3.4 \n\nmaster\n\n```sh\nstart-all.sh\n```\n\n():\n\n```sh\nhadoop-daemon.sh start journalnode\n```\n\n\n\n![image-20240220195417889](https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images202402201954941.png)\n\n### 3.4 nn2rm2\n\n```sh\n[root@master ~]# hdfs haadmin -getServiceState nn2\nactive\n```\n\n![image-20240314125738637](https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images202403141257798.png)\n\n```sh\n[root@master ~]# yarn rmadmin -getServiceState rm2\nactive\n```\n\n![image-20240314125900240](https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images202403141259321.png)\n\n\n\n```sh\n[root@master ~]# yarn rmadmin -getServiceState rm1\nstandby\n[root@master ~]# yarn rmadmin -getServiceState rm2\nactive\n[root@master ~]# hdfs haadmin -getServiceState nn1\nstandby\n[root@master ~]# hdfs haadmin -getServiceState nn2\nactive\n```\n\n![image-20240314130004169](https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images202403141300299.png)\n\n### 3.5 HA\n\n\n\n```sh\nhdfs --daemon start namenode\n```\n\n> 192.168.10.10:9870 / master:9870  ``\n\n![image-20240220195746352](https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images202402201957420.png)\n\n> 192.168.10.20:9870 / slave1:9870\t``\n\n![image-20240220195931025](https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images202402201959110.png)\n\n> kill masternamenodeslave1web\n\n![image-20240220200123248](https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images202402202001326.png)\n\nmasterweb\n\n![image-20240220200224797](https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images202402202002860.png)\n\nmasternamenodenamenode\n\n```sh\n[root@master ~]# hdfs --daemon start namenode\n```\n\n![image-20240220200436908](https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images202402202004994.png)\n\n\n\nHadoop HA\n\n\n\n## 4. HDFS \n\n:\n\n|                                 |                                                          |\n| ----------------------------------- | ------------------------------------------------------------ |\n| hdfs dfs -cat                       |                    |\n| hdfs dfs -chmod -R                  |                              |\n| hdfs dfs -copyFromLocal -f -l -p    |  HDFS                                |\n| hdfs dfs -copyToLocal -p -ignoreCrc |                      |\n| hdfs dfs -put (-f -p -l)            | HDFS                 |\n| Hdfs dfs -find                      |                          |\n| hdfs dfs -help                      |  |\n| hdfs dfs -mv                        |                              |\n| hdfs dfs -moveFromLocal             | HDFS   |\n| hdfs dfs -moveToLocal               | HDFS |\n| hdfs dfs -mkdir -p                  | HDFS                           |\n| hdfs dfs -rm -f -r                  |                              |\n| hdfs dfs -rmdir                     | /          |\n\n:\n\n```powershell\n1hdfs dfs -cat \n2hdfs dfs -checksumMD5\n3hdfs dfs -chmod -R\n4Hdfs dfs -copyFromLocal -f -l -p HDFS \n5Hdfs dfs -copyToLocal -p -ignoreCrc \n6Hdfs dfs -count -q -h\n7dfs dfs -count -q -h\n8Hdfs dfs -cp -f -pwindwos HDFS  HDFS \n9Hdfs dfs -createSnapshot \n10Hdfs dfs -deleteSnapshot\n11Hdfs dfs -df -h\n12Hdfs dfs -du -s -h\n13Hdfs dfs -expunge\n14Hdfs dfs -find\n15Hdfs dfs -get -p -crc -ignoreCrc\n16hdfs dfs -getfacl -R ACL\n17hdfs dfs -getfatter -R\n18hdfs dfs -getmerge -nl\n19hdfs dfs -help\n20hdfs dfs -ls -d -h -R \n21hdfs dfs -mkdir -pHDFS\n22hdfs dfs -moveFromLocalHDFS\n23hdfs dfs -moveToLocalHDFS\n24hdfs dfs -mv\n25hdfs dfs -put (-f -p -l)HDFS\n26hdfs dfs -renameSnapshot\n27hdfs dfs -rm -f -r\n28hdfs dfs -rmdir /\n29hdfs dfs -setfacl -R ACL\n30hdfs dfs -setfattr -n\n31hdfs dfs -setrep -R HDFS \n32hdfs dfs -stat\n33hdfs dfs -tail -f\n34hdfs dfs -test\n35hdfs dfs -text\n```","source":"_posts/Hadoop.md","raw":"---\ntitle: Hadoop\ndate: 2024-11-10 22:32:04\ntags: Bigdata\ncategories: \n  - \n---\n# Hadoop\n\n## 1.Hadoop \n\n**1.1 Hadoop **\n\n1HadoopApache<font color=\"red\" size=\"3\"></font> \n\n2<font color=\"red\" size=\"3\"></font><font color=\"red\" size=\"3\"></font> \n\n3Hadoop<font color=\"red\" size=\"3\">Hadoop</font>\n\n\n\n**1.2 Hadoop **\n\n1****HadoopHadoop \n\n2**** \n\n3****MapReduceHadoop \n\n4****\n\n\n\n**1.3 Hadoop **\n\n<img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202312111527570.png\" alt=\"\"> \n\nHadoop1.x HadoopMapReduce Hadoop2.xYarnYarnMapReduce  ==Hadoop3.x==\n\n\n\n**1.3.1 HDFS **\n\nHadoop Distributed File System<font color=\"red\" size=\"3\">HDFS</font>\n\n1`NameNode`nn**********************DataNode** \n\n2`DataNode`(dn)******** \n\n3`Secondary NameNode`(2nn)**NameNode**\n\n\n\n\n\n**1.3.2 YARN **\n\nYet Another Resource Negotiator YARN Hadoop \n\n <img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202312111625192.png\" alt=\"\">\n\n`ResourceManager`(RM)CPU \n\n`NodeManager`(NM) \n\n`ApplicationMaster`(AM) \n\n`Container`**CPU**\n\n\n\n \n\n1 \n\n2ApplicationMaster \n\n3NodeManagerContainer\n\n\n\n**1.3.3 MapReduce **\n\nMapReduce Map Reduce 1Map  2Reduce Map  \n\n<img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202312111527808.png\" alt=\"\">\n\n**1.3.4 HDFSYARNMapReduce **\n\n\n\n <img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202312111527601.png\" alt=\"\">\n\n**1.3.5 **\n\n <img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202312111527584.png\" alt=\"\"> \n\n\n\n1`Sqoop`Sqoop HadoopHive MySQL MySQLOracle Hadoop HDFS HDFS  \n\n2`Flume`Flume Flume  3`Kafka`Kafka  \n\n4`Spark`Spark Hadoop \n\n5`Flink`Flink  \n\n6`Oozie`Oozie Hadoop job \n\n7`Hbase`HBase HBase  \n\n8`Hive`Hive Hadoop SQL SQL MapReduce SQL MapReduce MapReduce  \n\n9`ZooKeeper`\n\n\n\n**1.3.6 **\n\n\n\n <img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202312111527591.png\" alt=\"\">\n\n**1.3.7 **\n\n<img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202312111537682.png\" alt=\"\">\n\n## 2. Hadoop \n\n:\n\n|    | ip       |\n| ------ | ------------ |\n| master | 192.168.1.10 |\n| slave1 | 192.168.1.20 |\n| slave2 | 192.168.1.30 |\n\n### 2.1 \n\n```sh\nhostnamectl set-hostname master && bash\nhostnamectl set-hostname slave1 && bash\nhostnamectl set-hostname slave2 && bash\n```\n\n### 2.2 hosts\n\n> \n\n```sh\n[root@master ~]# cat /etc/hosts\n127.0.0.1\tlocalhost\n::1\tlocalhost ip6-localhost ip6-loopback\nfe00::0\tip6-localnet\nff00::0\tip6-mcastprefix\nff02::1\tip6-allnodes\nff02::2\tip6-allrouters\n192.168.1.10\tmaster\n192.168.1.20\tslave1\n192.168.1.30\tslave2\n```\n\n```sh\nsystemctl stop firewalld\nsystemctl disable firewalld\n```\n\n### 2.3 \n\n#### 2.3.1 \n\n```sh\n[root@master ~]# ssh-keygen -t rsa\t\t#\n\n[root@master ~]# ssh-keygen -f ~/.ssh/id_rsa -P '' #\n```\n\n![image-20230321114300354](https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202312111607877.png)\n\n#### 2.3.2 \n\n```hss\nssh-copy-id master\nssh-copy-id slave1\nssh-copy-id slave2\n```\n\n![image-20230321115337762](https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202312111607997.png)\n\n()\n\n\n\n### 2.4 JDK\n\n\n\n```sh\n[root@master ~]# tar -zxvf /opt/software/jdk-8u162-linux-x64.tar.gz -C /opt/module/\n\n[root@master ~]# cd /opt/module/\t#\n[root@master module]# mv jdk1.8.0_162/ jdk\n```\n\njdk\n\n```sh\n[root@master module]# vi /etc/profile\n```\n\n\n\n```sh\n#JAVA_HOME\nexport JAVA_HOME=/opt/module/jdk\nexport PATH=$PATH:$JAVA_HOME/bin:$JAVA_HOME/jre/bin\n```\n\n\n\n```sh\n[root@master module]# source /etc/profile\n```\n\njdk\n\n```sh\n[root@master module]# java -version\n```\n\n![image-20230321122027954](https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202312111617633.png)\n\nJDK\n\n```sh\n[root@master module]# scp /etc/profile root@slave1:/etc/profile\n[root@master module]# scp /etc/profile root@slave2:/etc/profile\n\n[root@master module]# scp -rq jdk/ root@slave1:/opt/module/\n[root@master module]# scp -rq jdk/ root@slave2:/opt/module/\n```\n\n![image-20230321122308314](https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202312111617652.png)\n\nJAVA\n\nslave1\n\n![image-20230321122633530](https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202312111617692.png)\n\nslave2\n\n![image-20230321122717175](https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202312111617803.png)\n\n\n\n\n\n> jpsall()\n\n```sh\nvi $JAVA_HOME/bin/jpsall\nchmod +x $JAVA_HOME/bin/jpsall\n```\n\n:\n\n```sh\n#!/bin/bash\nfor hostname in master slave1 slave2\ndo\n  echo ===========$hostname==========\n  ssh $hostname \". /etc/profile; jps\"\ndone\n```\n\n### 2.5 Hadoop\n\n> 3jdk\n\n#### 2.5.1 \n\n```sh\n[root@master module]# tar -zxvf /opt/software/hadoop-3.1.3.tar.gz -C /opt/module/\n[root@master module]# mv hadoop-3.1.3/ hadoop\t#\n```\n\n#### 2.5.2 hadoop\n\n```sh\n[root@master module]# vi /etc/profile\n```\n\n\n\n```sh\n#HADOOP\nexport HADOOP_HOME=/opt/module/hadoop\nexport PATH=$PATH:$HADOOP_HOME/bin:$HADOOP_HOME/sbin\nexport HADOOP_CLASSPATH=`$HADOOP_HOME/bin/hadoop classpath`\nexport HDFS_NAMENODE_USER=root\nexport HDFS_DATANODE_USER=root\nexport HDFS_SECONDARYNAMENODE_USER=root\nexport YARN_RESOURCEMANAGER_USER=root\nexport YARN_NODEMANAGER_USER=root\n\n#3.0\n```\n\nwq \n\n```sh\n[root@master module]# source /etc/profile\n```\n\nhadoop \n\n```sh\n[root@master module]# hadoop version\n```\n\n![image-20230321124056646](https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202312111621421.png)\n\n### 2.6 6\n\n- :one: core.site.xml \n- :two: hdfs-site.xml \n- :three: mapred-site.xml \n- :four:yarn-site.xml \n- :five: hadoop-env.sh \n- :six: workers \n\n\n\n====\n\n> :`\\hadoop-3.1.3\\share\\doc\\hadoop`\n\n![image-20240104222735234](https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202401042227312.png)\n\n![image-20240104222630568](https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202401042226052.png)\n\n\n\n:\n\n```sh\nfind ./ -name \"core-de*\" -o -name \"hdfs-de*\" -o -name \"mapred-de*\" -o -name \"yarn-de*\"\n```\n\n![image-20240105152739131](https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202401051527779.png)\n\n()\n\n#### 2.6.1\n\n```SH\n[root@master module]# cd hadoop/etc/hadoop/\n[root@master hadoop]# ll\n```\n\n\n\n![image-20230321124310396](https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202312111630756.png)\n\n6\n\n#### 2.6.2 hadoop-env.sh\n\n```sh\n[root@master hadoop]# vi hadoop-env.sh #hadoop jdk\n```\n\n![image-20230321124524896](https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202312111630692.png)\n\n#### 2.6.3 workers\n\n\n\n```sh\n[root@master hadoop]# vi workers\nmaster\nslave1\nslave2\n```\n\n![image-20230321124806539](https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202312111630688.png)\n\n#### 2.6.4 core.site.xml\n\n![image-20240104222915427](https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202401042229494.png)\n\n```sh\n[root@master hadoop]# vi core-site.xml\n```\n\n```xml\n<configuration>\n<!-- hdfsschame,ip,port-->\n        <property>\n                <name>fs.defaultFS</name>\n                <value>hdfs://master:9000</value>\n        </property>\n<!-- hdfs -->\n        <property>\n                <name>hadoop.tmp.dir</name>\n                <value>/root/hadoopdir/tmp</value>\n        </property>\n</configuration>\n```\n\n#### 2.6.5 hdfs.site.xml:\n\n```sh\n[root@master hadoop]# vi hdfs-site.xml \n```\n\n```xml\n<configuration>\n<!-- namenodefsimage-->\n        <property>\n                <name>dfs.namenode.name.dir</name>\n                <value>/root/hadoopdir/dfs/name</value>\n        </property>\n<!-- DFS-->\n        <property>\n                <name>dfs.datanode.data.dir</name>\n                <value>/root/hadoopdir/dfs/data</value>\n        </property>\n<!-- -->\n        <property>\n                <name>dfs.replication</name>\n                <value>3</value>\n        </property>\n<!-- (128M),-->\n        <property>\n                <name>dfs.blocksize</name>\n                <value>134217728</value>\n        </property>\n<!-- secondarynamenodehttp-->\n        <property>\n                <name>dfs.namenode.secondary.http-address</name>\n                <value>master:9868</value>\n        </property>\n<!-- namenodehttp-->\n        <property>\n                <name>dfs.namenode.http-address</name>\n                <value>master:9870</value>\n        </property>\n<!--HDFSWeb3.09870-->\n        <property>\n\t\t<name>dfs.webhdfs.enabled</name>\n                <value>true</value>\n        </property>\n</configuration>\n```\n\n#### 2.6.6 mapred-site.xml:\n\n```sh\n[root@master hadoop]# vi mapred-site.xml \n```\n\n```xml\n<configuration>\n<!-- mapreduceyarn-->\n        <property>\n                <name>mapreduce.framework.name</name>\n                <value>yarn</value>\n        </property>\n<!-- -->\n        <property>\n                <name>mapreduce.jobhistory.address</name>\n                <value>master:10020</value>\n        </property>\n<!-- http-->\n        <property>\n                <name>mapreduce.jobhistory.webapp.address</name>\n                <value>master:19888</value>\n        </property>\n<!-- MapReduce  Hadoop   hive-->\n        <property>\n       \t\t\t<name>yarn.app.mapreduce.am.env</name>\n        \t\t<value>HADOOP_MAPRED_HOME=${HADOOP_HOME}</value>\n\t\t</property>\n\t\t<property>\n      \t\t  <name>mapreduce.map.env</name>\n      \t\t  <value>HADOOP_MAPRED_HOME=${HADOOP_HOME}</value>\n\t\t</property>\n\t\t<property>\n       \t\t <name>mapreduce.reduce.env</name>\n      \t\t <value>HADOOP_MAPRED_HOME=${HADOOP_HOME}</value>\n\t\t</property>   \n</configuration>\n```\n\n#### 2.6.7 yarn-site.xml:\n\n```sh\n[root@master hadoop]# vi yarn-site.xml\n```\n\n```xml\n<configuration>\n<!-- Site specific YARN configuration properties -->\n\t<!-- NodeManagershuffle -->\n\t<property>\n\t\t<name>yarn.nodemanager.aux-services</name>\n\t\t<value>mapreduce_shuffle</value>\n\t</property>\n\t<!-- YARNResourceManager -->\n\t<property>\n\t\t<name>yarn.resourcemanager.hostname</name>\n\t\t<value>master</value>\n\t</property>\n\t<!-- yarnweb -->\n\t<property>\n\t\t<name>yarn.resourcemanager.webapp.address</name>\n\t\t<value>master:8088</value>\n\t</property>\n\t<property>\n\t\t<name>yarn.resourcemanager.webapp.https.address</name>\n\t\t<value>master:8090</value>\n\t</property>\n\t<!--  -->\n\t<property>\n\t\t<name>yarn.log-aggregation-enable</name>\n\t\t<value>true</value>\n\t</property>\n\t<!-- hdfs -->\n\t<property>\n\t\t<name>yarn.log-aggregation.retain-seconds</name>\n\t\t<value>604800</value>\n\t</property>\n</configuration>\n```\n\nhadoop 2.X webhdfs500703.X9870\n\n#### 2.6.8 \n\n```sh\n[root@master module]# scp /etc/profile root@slave1:/etc/profile\n[root@master module]# scp /etc/profile root@slave2:/etc/profile\n\n[root@master module]# scp -r /opt/module/hadoop root@slave1:/opt/module\n[root@master module]# scp -r /opt/module/hadoop root@slave2:/opt/module\n```\n\n\n\n#### 2.6.9 namenode\n\n```sh\n[root@master ~]# hdfs namenode -format\n```\n\n\n\n![image-20230320183413920](https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202312111630315.png)\n\n#### 2.6.10 \n\n\n\n```sh\n[root@master ~]# start-all.sh \n```\n\n:\n\n```sh\n1:\njps\n2:()\njpsall\n```\n\n\n\n![](https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202312111630752.png)\n\n![image-20240105174003166](https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202401051740271.png)\n\n### 2.7 web\n\nhttp://ip:9870\n\nhttp://ip:8088\n\n![image-20240105153102460](https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202401051531566.png)\n\n![image-20240105153114530](https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202401051531631.png)\n\n\n\n![image-20240105153148000](https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202401051531093.png)\n\n\n\n\n\n## 3. Hadoop HA\n\n### 3.1 zookeeper\n\n#### 3.1.1 \n\n```sh\n[root@master ~]# tar -zxvf /opt/software/zookeeper-3.4.6.tar.gz -C /opt/module/\n[root@master ~]# mv /opt/module/zookeeper-3.4.6/ /opt/module/zookeeper\n```\n\n> \n\n```sh\n#\nmkdir /opt/module/zookeeper/data\n#\nmkdir /opt/module/zookeeper/logs\n```\n\n#### 3.1.2 \n\n> \n\n:\n\n```sh\n#zookeeper\nexport ZK_HOME=/opt/module/zookeeper\nexport PATH=$PATH:$ZK_HOME/bin\n```\n\n```sh\ncat >>/etc/profile<<EOF\n#zookeeper\nexport ZK_HOME=/opt/module/zookeeper\nexport PATH=\\$PATH:\\$ZK_HOME/bin\nEOF\n```\n\n:\n\n```sh\nsource /etc/profile\n```\n\n#### 3.1.3 zoo.cfg\n\n```sh\n\n[root@master ~]# mkdir /opt/module/zookeeper/{data,logs}\n[root@master ~]# cp /opt/module/zookeeper/conf/zoo_sample.cfg /opt/module/zookeeper/conf/zoo.cfg\n[root@master ~]# vi /opt/module/zookeeper/conf/zoo.cfg\n```\n\n> :\n\n```sh\n[root@master conf]# cat zoo.cfg \ntickTime=2000\ninitLimit=10\nsyncLimit=5\ndataDir=/opt/module/zookeeper/data\ndataLogDir=/opt/module/zookeeper/logs\nclientPort=2181\nserver.1=master:2888:3888\nserver.2=slave1:2888:3888\nserver.3=slave2:2888:3888\n```\n\n:\n\n```sh\n[root@kafka1 opt]# grep -Ev \"#|^$\" /usr/local/zookeeper/conf/zoo.cfg \ntickTime=2000\ninitLimit=10\nsyncLimit=5\ndataDir=/opt/module/zookeeper/data\ndataLogDir=/opt/module/zookeeper/logs\nclientPort=2181\nmaxClientCnxns=4096\t#()\nautopurge.snapRetainCount=128   # /opt/zookeeper()\nautopurge.purgeInterval=1   # ()\n# \nserver.1=master:2888:3888\nserver.2=slave1:2888:3888\nserver.3=slave2:2888:3888\n\n\nserver.A=B:C:D\n\nAmyidzookeeperzoo.cfgserver\nB\nCFollowerLeader\nDleaderleader\n```\n\n:![image-20240105162313246](https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images202402201018515.png)\n\n#### 3.1.4 `myid`\n\n```sh\n[root@master zookeeper]# echo 1 > $ZK_HOME/data/myid\n```\n\n#### 3.1.5 myid\n\n> :warning::,\n\n:\n\n```sh\n[root@master ~]# scp -r /opt/module/zookeeper/ root@slave1:/opt/module/\n[root@master ~]# scp -r /opt/module/zookeeper/ root@slave2:/opt/module/\n```\n\nmyid:\n\nslave1:\n\n```sh\n[root@slave1 ~]# echo 2 > /opt/module/zookeeper/data/myid\n[root@slave1 ~]# echo 2 > $ZK_HOME/data/myid\n```\n\nslave2:\n\n```sh\n[root@slave2 ~]# echo 3 > /opt/module/zookeeper/data/myid\n[root@slave2 ~]# echo 3 > $ZK_HOME/data/myid\n```\n\n#### 3.1.6 zk\n\n:\n\n```sh\n/opt/module/zookeeper/bin/zkServer.sh start\n```\n\n:\n\n```sh\n/opt/module/zookeeper/bin/zkServer.sh status\n```\n\n\n\nmaster:![image-20240105165336746](https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images202402201020411.png)\n\nslave1:![image-20240105165353343](https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images202402201020560.png)\n\nslave2:![image-20240105165433958](https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images202402201020484.png)\n\n### 3.2 Hadoop HA\n\n`2.6`\n\n#### 3.2.1 hadoop-env.sh\n\n\n\n```sh\nexport JAVA_HOME=/opt/module/jdk1.8.0_162\nexport HDFS_NAMENODE_USER=root\nexport HDFS_DATANODE_USER=root\nexport HDFS_SECONDARYNAMENODE_USER=root\nexport YARN_RESOURCEMANAGER_USER=root\nexport YARN_NODEMANAGER_USER=root\n#ha\nexport HDFS_JOURNALNODE_USER=root\nexport HDFS_ZKFC_USER=root\n```\n\n\n\n![image-20240220200709576](https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images202402202007642.png)\n\n#### 3.2.2 workers\n\n\n\n```sh\n[root@master hadoop]# cat workers\nmaster\nslave1\nslave2\n```\n\n#### 3.3.3 core-site.xml\n\n```sh\n[root@master hadoop]# vim core-site.xml\n```\n\n\n\n``` xml\n<configuration>\n<!-- hdfsschame,ip,port-->\n        <property>\n                <name>fs.defaultFS</name>\n                <value>hdfs://master:9000</value>\n        </property>\n<!-- hdfs -->\n        <property>\n                <name>hadoop.tmp.dir</name>\n                <value>/root/hadoopdir/tmp</value>\n        </property>\n<!-- ha.zookeeper.quorum zookeeper, -->\n    \t<property>\n\t\t\t\t<name>ha.zookeeper.quorum</name>\n            \t<value>master:2181,slave1:2181,slave2:2181</value>\n    \t</property>\n</configuration>\n```\n\n#### 3.3.4 hdfs-site.xml:star:\n\n```sh\n[root@master hadoop]# vim hdfs-site.xml\n```\n\n\n\n```xml\n<configuration>\n<!-- namenodenamenode-->\n        <property>\n                <name>dfs.nameservices</name>\n                <value>mycluster</value>\n        </property>\n<!-- namenode-->\n        <property>\n                <name>dfs.ha.namenodes.mycluster</name>\n                <value>nn1,nn2</value>\n        </property>\n<!-- 1 rpc -->\n        <property>\n                <name>dfs.namenode.rpc-address.mycluster.nn1</name>\n                <value>master:9000</value>\n        </property>\n<!-- 2 rpc -->\n        <property>\n                <name>dfs.namenode.rpc-address.mycluster.nn2</name>\n                <value>slave1:9000</value>\n        </property>\n<!-- Namenode 1 -->\n        <property>\n                <name>dfs.namenode.http-address.mycluster.nn1</name>\n                <value>master:9870</value>\n        </property>   \n<!-- Namenode 2 -->\n        <property>\n                <name>dfs.namenode.http-address.mycluster.nn2</name>\n                <value>slave1:9870</value>\n        </property> \n<!--JournalNode -->\n        <property>\n                <name>dfs.namenode.shared.edits.dir</name>\n                <value>qjournal://master:8485;slave1:8485;slave2:8485/mycluster</value>\n        </property>\n<!-- namenodefsimage-->\n        <property>\n                <name>dfs.namenode.name.dir</name>\n                <value>/root/hadoopdir/dfs/name</value>\n        </property>\n<!-- DFS-->\n        <property>\n                <name>dfs.datanode.data.dir</name>\n                <value>/root/hadoopdir/dfs/data</value>\n        </property>\n<!--JournalNode -->\n        <property>\n                <name>dfs.journalnode.edits.dir</name>\n                <value>/root/hadoopdir/journal</value>\n        </property>\n<!--Failover -->\n        <property>\n                <name>dfs.client.failover.proxy.provider.mycluster</name>\n                <value>org.apache.hadoop.hdfs.server.namenode.ha.ConfiguredFailoverProxyProvider</value>\n        </property>\n<!--sshfence  ssh -->\n        <property>\n                <name>dfs.ha.fencing.methods</name>\n               <!-- <value>sshfence</value>-->\n               <!--sshfencesshfencefalsefence-->\n                <value>shell(true)</value>\n        </property>\n<!--ssh -->\n        <property>\n                <name>dfs.ha.fencing.ssh.private-key-files</name>\n                <value>/root/.ssh/id_rsa</value>\n        </property>\n<!--truefalse-->\n        <property>\n                <name>dfs.ha.automatic-failover.enabled</name>\n                <value>true</value>\n        </property>\n<!---->\n        <property>\n                <name>dfs.replication</name>\n                <value>3</value>\n        </property>   \n</configuration>\n```\n\n#### 3.3.5 mapred-site.xml\n\n```xml\n<configuration>\n\n<!-- mapreduceyarn-->\n        <property>\n                <name>mapreduce.framework.name</name>\n                <value>yarn</value>\n        </property>\n<!-- -->\n        <property>\n                <name>mapreduce.jobhistory.address</name>\n                <value>master:10020</value>\n        </property>\n<!-- http-->\n        <property>\n                <name>mapreduce.jobhistory.webapp.address</name>\n                <value>master:19888</value>\n        </property>\n<!-- MapReduce  Hadoop   hive-->\n        <property>\n       \t\t<name>yarn.app.mapreduce.am.env</name>\n        \t<value>HADOOP_MAPRED_HOME=${HADOOP_HOME}</value>\n\t</property>\n\n\t<property>\n      \t\t<name>mapreduce.map.env</name>\n      \t\t<value>HADOOP_MAPRED_HOME=${HADOOP_HOME}</value>\n\t</property>\n\n\t<property>\n       \t\t<name>mapreduce.reduce.env</name>\n      \t\t<value>HADOOP_MAPRED_HOME=${HADOOP_HOME}</value>\n\t</property>    \n\n</configuration>\n```\n\n#### 3.3.6 yarn-site.xml:star:\n\n```xml\n<configuration>\n<!-- NodeManagershuffle -->\n\t<property>\n\t\t<name>yarn.nodemanager.aux-services</name>\n\t\t<value>mapreduce_shuffle</value>\n\t</property>\n<!--HA -->\n    <property>\n\t\t<name>yarn.resourcemanager.ha.enabled</name>\n\t\t<value>true</value>\n\t</property>\n<!--  -->\n\t<property>\n\t\t<name>yarn.resourcemanager.recovery.enable</name>\n\t\t<value>true</value>\n\t</property>\n<!--  -->\n\t<property>\n\t\t<name>yarn.resourcemanager.store.class</name>\n\t\t<value>org.apache.hadoop.yarn.server.resourcemanager.recovery.ZKRMStateStore</value>\n\t</property>\n<!--zookeeper-->\n\t<property>\n\t\t<name>yarn.resourcemanager.zk-address</name>\n\t\t<value>master:2181,slave1:2181,slave2:2181</value>\n\t</property>\n<!-- ID-->\n\t<property>\n\t\t<name>yarn.resourcemanager.cluster-id</name>\n\t\t<value>yarn-ha</value>\n\t</property>\n<!-- resourcemanager -->\n\t<property>\n\t\t<name>yarn.resourcemanager.ha.rm-ids</name>\n\t\t<value>rm1,rm2</value>\n\t</property>  \n<!--1 -->\n\t<property>\n\t\t<name>yarn.resourcemanager.hostname.rm1</name>\n\t\t<value>master</value>\n\t</property>   \n<!--2 -->\n\t<property>\n\t\t<name>yarn.resourcemanager.hostname.rm2</name>\n\t\t<value>slave1</value>\n\t</property>         \n<!--  ()-->\n\t<property>\n\t\t<name>yarn.log-aggregation-enable</name>\n\t\t<value>true</value>\n\t</property>\n<!-- hdfs -->\n\t<property>\n\t\t<name>yarn.log-aggregation.retain-seconds</name>\n\t\t<value>604800</value>\n\t</property>\n</configuration>\n```\n\n> ,:warning:\n\n\n\n### 3.3 \n\n#### 3.3.1 journalnode\n\n> ``journalnode\n\n```sh\nhadoop-daemon.sh start journalnode\n```\n\n#### 3.3.2 namenode\n\n> master(`nn1`)namenode\n\n```sh\nhdfs namenode -format\n```\n\n\n![image-20240220195039832](https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images202402201950935.png)\n\n\n> `nn2`slave1\n\n:one: 1: (`nn1`)(`nn2`)\n\n```sh\nscp -r hadoopdir/dfs/ root@slave1:/root/hadoopdir\n```\n\n![](https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images202402201951392.png)\n\n:two: 2:(`nn2`)\n\n(`nn1`)namenode,(`nn2`),\n\n`master`namenode,:\n\n![image-20241006232852729](https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202410062328858.png)\n\n`Connection refused`NameNodeNameNode192.168.10.11:9000\n\n**:**\n\n1.master(nn1)namenode:\n\n```sh\n[root@master ~]# hdfs --daemon start namenode\n```\n\n2.slave1(nn2)\n\n```sh\n[root@slave1 ~]# hdfs namenode -bootstrapStandby\n```\n\n![image-20241006232636095](https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202410062326234.png)\n\n,`/root/hadoopdir`,:\n\n![image-20241006233249156](https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202410062332270.png)\n\n(21,scpovO...)\n\n#### 3.3.3 masterzk\n\n```sh\nhdfs zkfc -formatZK\n```\n\n\n![image-20241006235656731](https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202410062356870.png)\n\n#### 3.3.4 \n\nmaster\n\n```sh\nstart-all.sh\n```\n\n():\n\n```sh\nhadoop-daemon.sh start journalnode\n```\n\n\n\n![image-20240220195417889](https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images202402201954941.png)\n\n### 3.4 nn2rm2\n\n```sh\n[root@master ~]# hdfs haadmin -getServiceState nn2\nactive\n```\n\n![image-20240314125738637](https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images202403141257798.png)\n\n```sh\n[root@master ~]# yarn rmadmin -getServiceState rm2\nactive\n```\n\n![image-20240314125900240](https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images202403141259321.png)\n\n\n\n```sh\n[root@master ~]# yarn rmadmin -getServiceState rm1\nstandby\n[root@master ~]# yarn rmadmin -getServiceState rm2\nactive\n[root@master ~]# hdfs haadmin -getServiceState nn1\nstandby\n[root@master ~]# hdfs haadmin -getServiceState nn2\nactive\n```\n\n![image-20240314130004169](https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images202403141300299.png)\n\n### 3.5 HA\n\n\n\n```sh\nhdfs --daemon start namenode\n```\n\n> 192.168.10.10:9870 / master:9870  ``\n\n![image-20240220195746352](https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images202402201957420.png)\n\n> 192.168.10.20:9870 / slave1:9870\t``\n\n![image-20240220195931025](https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images202402201959110.png)\n\n> kill masternamenodeslave1web\n\n![image-20240220200123248](https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images202402202001326.png)\n\nmasterweb\n\n![image-20240220200224797](https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images202402202002860.png)\n\nmasternamenodenamenode\n\n```sh\n[root@master ~]# hdfs --daemon start namenode\n```\n\n![image-20240220200436908](https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images202402202004994.png)\n\n\n\nHadoop HA\n\n\n\n## 4. HDFS \n\n:\n\n|                                 |                                                          |\n| ----------------------------------- | ------------------------------------------------------------ |\n| hdfs dfs -cat                       |                    |\n| hdfs dfs -chmod -R                  |                              |\n| hdfs dfs -copyFromLocal -f -l -p    |  HDFS                                |\n| hdfs dfs -copyToLocal -p -ignoreCrc |                      |\n| hdfs dfs -put (-f -p -l)            | HDFS                 |\n| Hdfs dfs -find                      |                          |\n| hdfs dfs -help                      |  |\n| hdfs dfs -mv                        |                              |\n| hdfs dfs -moveFromLocal             | HDFS   |\n| hdfs dfs -moveToLocal               | HDFS |\n| hdfs dfs -mkdir -p                  | HDFS                           |\n| hdfs dfs -rm -f -r                  |                              |\n| hdfs dfs -rmdir                     | /          |\n\n:\n\n```powershell\n1hdfs dfs -cat \n2hdfs dfs -checksumMD5\n3hdfs dfs -chmod -R\n4Hdfs dfs -copyFromLocal -f -l -p HDFS \n5Hdfs dfs -copyToLocal -p -ignoreCrc \n6Hdfs dfs -count -q -h\n7dfs dfs -count -q -h\n8Hdfs dfs -cp -f -pwindwos HDFS  HDFS \n9Hdfs dfs -createSnapshot \n10Hdfs dfs -deleteSnapshot\n11Hdfs dfs -df -h\n12Hdfs dfs -du -s -h\n13Hdfs dfs -expunge\n14Hdfs dfs -find\n15Hdfs dfs -get -p -crc -ignoreCrc\n16hdfs dfs -getfacl -R ACL\n17hdfs dfs -getfatter -R\n18hdfs dfs -getmerge -nl\n19hdfs dfs -help\n20hdfs dfs -ls -d -h -R \n21hdfs dfs -mkdir -pHDFS\n22hdfs dfs -moveFromLocalHDFS\n23hdfs dfs -moveToLocalHDFS\n24hdfs dfs -mv\n25hdfs dfs -put (-f -p -l)HDFS\n26hdfs dfs -renameSnapshot\n27hdfs dfs -rm -f -r\n28hdfs dfs -rmdir /\n29hdfs dfs -setfacl -R ACL\n30hdfs dfs -setfattr -n\n31hdfs dfs -setrep -R HDFS \n32hdfs dfs -stat\n33hdfs dfs -tail -f\n34hdfs dfs -test\n35hdfs dfs -text\n```","slug":"Hadoop","published":1,"updated":"2024-11-10T14:33:26.169Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cm3cx7o5o000akmmj5cmwamqi","content":"<h1 id=\"Hadoop\"><a href=\"#Hadoop\" class=\"headerlink\" title=\"Hadoop\"></a>Hadoop</h1><h2 id=\"1-Hadoop-\"><a href=\"#1-Hadoop-\" class=\"headerlink\" title=\"1.Hadoop \"></a>1.Hadoop </h2><p><strong>1.1 Hadoop </strong></p>\n<p>1HadoopApache<font color=\"red\" size=\"3\"></font> </p>\n<p>2<font color=\"red\" size=\"3\"></font><font color=\"red\" size=\"3\"></font> </p>\n<p>3Hadoop<font color=\"red\" size=\"3\">Hadoop</font></p>\n<p><strong>1.2 Hadoop </strong></p>\n<p>1<strong></strong>HadoopHadoop </p>\n<p>2<strong></strong> </p>\n<p>3<strong></strong>MapReduceHadoop </p>\n<p>4<strong></strong></p>\n<p><strong>1.3 Hadoop </strong></p>\n<img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202312111527570.png\" alt=\"\"> \n\n<p>Hadoop1.x HadoopMapReduce Hadoop2.xYarnYarnMapReduce  &#x3D;&#x3D;Hadoop3.x&#x3D;&#x3D;</p>\n<p><strong>1.3.1 HDFS </strong></p>\n<p>Hadoop Distributed File System<font color=\"red\" size=\"3\">HDFS</font></p>\n<p>1<code>NameNode</code>nn<strong></strong><strong></strong><strong></strong><strong></strong><strong></strong><strong>DataNode</strong> </p>\n<p>2<code>DataNode</code>(dn)<strong></strong><strong></strong> </p>\n<p>3<code>Secondary NameNode</code>(2nn)<strong>NameNode</strong></p>\n<p><strong>1.3.2 YARN </strong></p>\n<p>Yet Another Resource Negotiator YARN Hadoop </p>\n <img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202312111625192.png\" alt=\"\">\n\n<p><code>ResourceManager</code>(RM)CPU </p>\n<p><code>NodeManager</code>(NM) </p>\n<p><code>ApplicationMaster</code>(AM) </p>\n<p><code>Container</code><strong>CPU</strong></p>\n<p> </p>\n<p>1 </p>\n<p>2ApplicationMaster </p>\n<p>3NodeManagerContainer</p>\n<p><strong>1.3.3 MapReduce </strong></p>\n<p>MapReduce Map Reduce 1Map  2Reduce Map  </p>\n<img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202312111527808.png\" alt=\"\">\n\n<p><strong>1.3.4 HDFSYARNMapReduce </strong></p>\n<p></p>\n <img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202312111527601.png\" alt=\"\">\n\n<p><strong>1.3.5 </strong></p>\n<p> <img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202312111527584.png\" alt=\"\"> </p>\n<p></p>\n<p>1<code>Sqoop</code>Sqoop HadoopHive MySQL MySQLOracle Hadoop HDFS HDFS  </p>\n<p>2<code>Flume</code>Flume Flume  3<code>Kafka</code>Kafka  </p>\n<p>4<code>Spark</code>Spark Hadoop </p>\n<p>5<code>Flink</code>Flink  </p>\n<p>6<code>Oozie</code>Oozie Hadoop job </p>\n<p>7<code>Hbase</code>HBase HBase  </p>\n<p>8<code>Hive</code>Hive Hadoop SQL SQL MapReduce SQL MapReduce MapReduce  </p>\n<p>9<code>ZooKeeper</code></p>\n<p><strong>1.3.6 </strong></p>\n<p></p>\n <img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202312111527591.png\" alt=\"\">\n\n<p><strong>1.3.7 </strong></p>\n<img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202312111537682.png\" alt=\"\">\n\n<h2 id=\"2-Hadoop-\"><a href=\"#2-Hadoop-\" class=\"headerlink\" title=\"2. Hadoop \"></a>2. Hadoop </h2><p>:</p>\n<table>\n<thead>\n<tr>\n<th></th>\n<th>ip</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>master</td>\n<td>192.168.1.10</td>\n</tr>\n<tr>\n<td>slave1</td>\n<td>192.168.1.20</td>\n</tr>\n<tr>\n<td>slave2</td>\n<td>192.168.1.30</td>\n</tr>\n</tbody></table>\n<h3 id=\"2-1-\"><a href=\"#2-1-\" class=\"headerlink\" title=\"2.1 \"></a>2.1 </h3><pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">hostnamectl set-hostname master <span class=\"token operator\">&amp;&amp;</span> <span class=\"token function\">bash</span>\nhostnamectl set-hostname slave1 <span class=\"token operator\">&amp;&amp;</span> <span class=\"token function\">bash</span>\nhostnamectl set-hostname slave2 <span class=\"token operator\">&amp;&amp;</span> <span class=\"token function\">bash</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n\n<h3 id=\"2-2-hosts\"><a href=\"#2-2-hosts\" class=\"headerlink\" title=\"2.2 hosts\"></a>2.2 hosts</h3><blockquote>\n<p></p>\n</blockquote>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token punctuation\">[</span>root@master ~<span class=\"token punctuation\">]</span><span class=\"token comment\"># cat /etc/hosts</span>\n<span class=\"token number\">127.0</span>.0.1\tlocalhost\n::1\tlocalhost ip6-localhost ip6-loopback\nfe00::0\tip6-localnet\nff00::0\tip6-mcastprefix\nff02::1\tip6-allnodes\nff02::2\tip6-allrouters\n<span class=\"token number\">192.168</span>.1.10\tmaster\n<span class=\"token number\">192.168</span>.1.20\tslave1\n<span class=\"token number\">192.168</span>.1.30\tslave2<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">systemctl stop firewalld\nsystemctl disable firewalld<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n\n<h3 id=\"2-3-\"><a href=\"#2-3-\" class=\"headerlink\" title=\"2.3 \"></a>2.3 </h3><h4 id=\"2-3-1-\"><a href=\"#2-3-1-\" class=\"headerlink\" title=\"2.3.1 \"></a>2.3.1 </h4><pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token punctuation\">[</span>root@master ~<span class=\"token punctuation\">]</span><span class=\"token comment\"># ssh-keygen -t rsa\t\t#</span>\n\n<span class=\"token punctuation\">[</span>root@master ~<span class=\"token punctuation\">]</span><span class=\"token comment\"># ssh-keygen -f ~/.ssh/id_rsa -P '' #</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n\n<p><img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202312111607877.png\" alt=\"image-20230321114300354\"></p>\n<h4 id=\"2-3-2-\"><a href=\"#2-3-2-\" class=\"headerlink\" title=\"2.3.2 \"></a>2.3.2 </h4><pre class=\"line-numbers language-hss\" data-language=\"hss\"><code class=\"language-hss\">ssh-copy-id master\nssh-copy-id slave1\nssh-copy-id slave2<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n\n<p><img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202312111607997.png\" alt=\"image-20230321115337762\"></p>\n<p>()</p>\n<h3 id=\"2-4-JDK\"><a href=\"#2-4-JDK\" class=\"headerlink\" title=\"2.4 JDK\"></a>2.4 JDK</h3><p></p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token punctuation\">[</span>root@master ~<span class=\"token punctuation\">]</span><span class=\"token comment\"># tar -zxvf /opt/software/jdk-8u162-linux-x64.tar.gz -C /opt/module/</span>\n\n<span class=\"token punctuation\">[</span>root@master ~<span class=\"token punctuation\">]</span><span class=\"token comment\"># cd /opt/module/\t#</span>\n<span class=\"token punctuation\">[</span>root@master module<span class=\"token punctuation\">]</span><span class=\"token comment\"># mv jdk1.8.0_162/ jdk</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>jdk</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token punctuation\">[</span>root@master module<span class=\"token punctuation\">]</span><span class=\"token comment\"># vi /etc/profile</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p></p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token comment\">#JAVA_HOME</span>\n<span class=\"token builtin class-name\">export</span> <span class=\"token assign-left variable\">JAVA_HOME</span><span class=\"token operator\">=</span>/opt/module/jdk\n<span class=\"token builtin class-name\">export</span> <span class=\"token assign-left variable\"><span class=\"token environment constant\">PATH</span></span><span class=\"token operator\">=</span><span class=\"token environment constant\">$PATH</span><span class=\"token builtin class-name\">:</span><span class=\"token variable\">$JAVA_HOME</span>/bin:<span class=\"token variable\">$JAVA_HOME</span>/jre/bin<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n\n<p></p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token punctuation\">[</span>root@master module<span class=\"token punctuation\">]</span><span class=\"token comment\"># source /etc/profile</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p>jdk</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token punctuation\">[</span>root@master module<span class=\"token punctuation\">]</span><span class=\"token comment\"># java -version</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p><img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202312111617633.png\" alt=\"image-20230321122027954\"></p>\n<p>JDK</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token punctuation\">[</span>root@master module<span class=\"token punctuation\">]</span><span class=\"token comment\"># scp /etc/profile root@slave1:/etc/profile</span>\n<span class=\"token punctuation\">[</span>root@master module<span class=\"token punctuation\">]</span><span class=\"token comment\"># scp /etc/profile root@slave2:/etc/profile</span>\n\n<span class=\"token punctuation\">[</span>root@master module<span class=\"token punctuation\">]</span><span class=\"token comment\"># scp -rq jdk/ root@slave1:/opt/module/</span>\n<span class=\"token punctuation\">[</span>root@master module<span class=\"token punctuation\">]</span><span class=\"token comment\"># scp -rq jdk/ root@slave2:/opt/module/</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p><img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202312111617652.png\" alt=\"image-20230321122308314\"></p>\n<p>JAVA</p>\n<p>slave1</p>\n<p><img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202312111617692.png\" alt=\"image-20230321122633530\"></p>\n<p>slave2</p>\n<p><img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202312111617803.png\" alt=\"image-20230321122717175\"></p>\n<p></p>\n<blockquote>\n<p>jpsall()</p>\n</blockquote>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">vi</span> <span class=\"token variable\">$JAVA_HOME</span>/bin/jpsall\n<span class=\"token function\">chmod</span> +x <span class=\"token variable\">$JAVA_HOME</span>/bin/jpsall<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n\n<p>:</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token shebang important\">#!/bin/bash</span>\n<span class=\"token keyword\">for</span> <span class=\"token for-or-select variable\">hostname</span> <span class=\"token keyword\">in</span> master slave1 slave2\n<span class=\"token keyword\">do</span>\n  <span class=\"token builtin class-name\">echo</span> <span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">=</span><span class=\"token variable\">$hostname</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span>\n  <span class=\"token function\">ssh</span> <span class=\"token variable\">$hostname</span> <span class=\"token string\">\". /etc/profile; jps\"</span>\n<span class=\"token keyword\">done</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h3 id=\"2-5-Hadoop\"><a href=\"#2-5-Hadoop\" class=\"headerlink\" title=\"2.5 Hadoop\"></a>2.5 Hadoop</h3><blockquote>\n<p>3jdk</p>\n</blockquote>\n<h4 id=\"2-5-1-\"><a href=\"#2-5-1-\" class=\"headerlink\" title=\"2.5.1 \"></a>2.5.1 </h4><pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token punctuation\">[</span>root@master module<span class=\"token punctuation\">]</span><span class=\"token comment\"># tar -zxvf /opt/software/hadoop-3.1.3.tar.gz -C /opt/module/</span>\n<span class=\"token punctuation\">[</span>root@master module<span class=\"token punctuation\">]</span><span class=\"token comment\"># mv hadoop-3.1.3/ hadoop\t#</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n\n<h4 id=\"2-5-2-hadoop\"><a href=\"#2-5-2-hadoop\" class=\"headerlink\" title=\"2.5.2 hadoop\"></a>2.5.2 hadoop</h4><pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token punctuation\">[</span>root@master module<span class=\"token punctuation\">]</span><span class=\"token comment\"># vi /etc/profile</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p></p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token comment\">#HADOOP</span>\n<span class=\"token builtin class-name\">export</span> <span class=\"token assign-left variable\">HADOOP_HOME</span><span class=\"token operator\">=</span>/opt/module/hadoop\n<span class=\"token builtin class-name\">export</span> <span class=\"token assign-left variable\"><span class=\"token environment constant\">PATH</span></span><span class=\"token operator\">=</span><span class=\"token environment constant\">$PATH</span><span class=\"token builtin class-name\">:</span><span class=\"token variable\">$HADOOP_HOME</span>/bin:<span class=\"token variable\">$HADOOP_HOME</span>/sbin\n<span class=\"token builtin class-name\">export</span> <span class=\"token assign-left variable\">HADOOP_CLASSPATH</span><span class=\"token operator\">=</span><span class=\"token variable\"><span class=\"token variable\">`</span>$HADOOP_HOME/bin/hadoop classpath<span class=\"token variable\">`</span></span>\n<span class=\"token builtin class-name\">export</span> <span class=\"token assign-left variable\">HDFS_NAMENODE_USER</span><span class=\"token operator\">=</span>root\n<span class=\"token builtin class-name\">export</span> <span class=\"token assign-left variable\">HDFS_DATANODE_USER</span><span class=\"token operator\">=</span>root\n<span class=\"token builtin class-name\">export</span> <span class=\"token assign-left variable\">HDFS_SECONDARYNAMENODE_USER</span><span class=\"token operator\">=</span>root\n<span class=\"token builtin class-name\">export</span> <span class=\"token assign-left variable\">YARN_RESOURCEMANAGER_USER</span><span class=\"token operator\">=</span>root\n<span class=\"token builtin class-name\">export</span> <span class=\"token assign-left variable\">YARN_NODEMANAGER_USER</span><span class=\"token operator\">=</span>root\n\n<span class=\"token comment\">#3.0</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>wq </p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token punctuation\">[</span>root@master module<span class=\"token punctuation\">]</span><span class=\"token comment\"># source /etc/profile</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p>hadoop </p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token punctuation\">[</span>root@master module<span class=\"token punctuation\">]</span><span class=\"token comment\"># hadoop version</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p><img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202312111621421.png\" alt=\"image-20230321124056646\"></p>\n<h3 id=\"2-6-6\"><a href=\"#2-6-6\" class=\"headerlink\" title=\"2.6 6\"></a>2.6 6</h3><ul>\n<li>:one: core.site.xml </li>\n<li>:two: hdfs-site.xml </li>\n<li>:three: mapred-site.xml </li>\n<li>:four:yarn-site.xml </li>\n<li>:five: hadoop-env.sh </li>\n<li>:six: workers</li>\n</ul>\n<p>&#x3D;&#x3D;&#x3D;&#x3D;</p>\n<blockquote>\n<p>:<code>\\hadoop-3.1.3\\share\\doc\\hadoop</code></p>\n</blockquote>\n<p><img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202401042227312.png\" alt=\"image-20240104222735234\"></p>\n<p><img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202401042226052.png\" alt=\"image-20240104222630568\"></p>\n<p>:</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">find</span> ./ <span class=\"token parameter variable\">-name</span> <span class=\"token string\">\"core-de*\"</span> <span class=\"token parameter variable\">-o</span> <span class=\"token parameter variable\">-name</span> <span class=\"token string\">\"hdfs-de*\"</span> <span class=\"token parameter variable\">-o</span> <span class=\"token parameter variable\">-name</span> <span class=\"token string\">\"mapred-de*\"</span> <span class=\"token parameter variable\">-o</span> <span class=\"token parameter variable\">-name</span> <span class=\"token string\">\"yarn-de*\"</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p><img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202401051527779.png\" alt=\"image-20240105152739131\"></p>\n<p>()</p>\n<h4 id=\"2-6-1\"><a href=\"#2-6-1\" class=\"headerlink\" title=\"2.6.1\"></a>2.6.1</h4><pre class=\"line-numbers language-SH\" data-language=\"SH\"><code class=\"language-SH\">[root@master module]# cd hadoop&#x2F;etc&#x2F;hadoop&#x2F;\n[root@master hadoop]# ll<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n\n<p></p>\n<p><img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202312111630756.png\" alt=\"image-20230321124310396\"></p>\n<p>6</p>\n<h4 id=\"2-6-2-hadoop-env-sh\"><a href=\"#2-6-2-hadoop-env-sh\" class=\"headerlink\" title=\"2.6.2 hadoop-env.sh\"></a>2.6.2 hadoop-env.sh</h4><pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token punctuation\">[</span>root@master hadoop<span class=\"token punctuation\">]</span><span class=\"token comment\"># vi hadoop-env.sh #hadoop jdk</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p><img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202312111630692.png\" alt=\"image-20230321124524896\"></p>\n<h4 id=\"2-6-3-workers\"><a href=\"#2-6-3-workers\" class=\"headerlink\" title=\"2.6.3 workers\"></a>2.6.3 workers</h4><p></p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token punctuation\">[</span>root@master hadoop<span class=\"token punctuation\">]</span><span class=\"token comment\"># vi workers</span>\nmaster\nslave1\nslave2<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p><img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202312111630688.png\" alt=\"image-20230321124806539\"></p>\n<h4 id=\"2-6-4-core-site-xml\"><a href=\"#2-6-4-core-site-xml\" class=\"headerlink\" title=\"2.6.4 core.site.xml\"></a>2.6.4 core.site.xml</h4><p><img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202401042229494.png\" alt=\"image-20240104222915427\"></p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token punctuation\">[</span>root@master hadoop<span class=\"token punctuation\">]</span><span class=\"token comment\"># vi core-site.xml</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<pre class=\"line-numbers language-markup\" data-language=\"markup\"><code class=\"language-markup\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>configuration</span><span class=\"token punctuation\">></span></span>\n<span class=\"token comment\">&lt;!-- hdfsschame,ip,port--></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>property</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>name</span><span class=\"token punctuation\">></span></span>fs.defaultFS<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>name</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>value</span><span class=\"token punctuation\">></span></span>hdfs://master:9000<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>value</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>property</span><span class=\"token punctuation\">></span></span>\n<span class=\"token comment\">&lt;!-- hdfs --></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>property</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>name</span><span class=\"token punctuation\">></span></span>hadoop.tmp.dir<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>name</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>value</span><span class=\"token punctuation\">></span></span>/root/hadoopdir/tmp<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>value</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>property</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>configuration</span><span class=\"token punctuation\">></span></span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h4 id=\"2-6-5-hdfs-site-xml\"><a href=\"#2-6-5-hdfs-site-xml\" class=\"headerlink\" title=\"2.6.5 hdfs.site.xml:\"></a>2.6.5 hdfs.site.xml:</h4><pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token punctuation\">[</span>root@master hadoop<span class=\"token punctuation\">]</span><span class=\"token comment\"># vi hdfs-site.xml </span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<pre class=\"line-numbers language-markup\" data-language=\"markup\"><code class=\"language-markup\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>configuration</span><span class=\"token punctuation\">></span></span>\n<span class=\"token comment\">&lt;!-- namenodefsimage--></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>property</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>name</span><span class=\"token punctuation\">></span></span>dfs.namenode.name.dir<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>name</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>value</span><span class=\"token punctuation\">></span></span>/root/hadoopdir/dfs/name<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>value</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>property</span><span class=\"token punctuation\">></span></span>\n<span class=\"token comment\">&lt;!-- DFS--></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>property</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>name</span><span class=\"token punctuation\">></span></span>dfs.datanode.data.dir<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>name</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>value</span><span class=\"token punctuation\">></span></span>/root/hadoopdir/dfs/data<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>value</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>property</span><span class=\"token punctuation\">></span></span>\n<span class=\"token comment\">&lt;!-- --></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>property</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>name</span><span class=\"token punctuation\">></span></span>dfs.replication<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>name</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>value</span><span class=\"token punctuation\">></span></span>3<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>value</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>property</span><span class=\"token punctuation\">></span></span>\n<span class=\"token comment\">&lt;!-- (128M),--></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>property</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>name</span><span class=\"token punctuation\">></span></span>dfs.blocksize<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>name</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>value</span><span class=\"token punctuation\">></span></span>134217728<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>value</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>property</span><span class=\"token punctuation\">></span></span>\n<span class=\"token comment\">&lt;!-- secondarynamenodehttp--></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>property</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>name</span><span class=\"token punctuation\">></span></span>dfs.namenode.secondary.http-address<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>name</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>value</span><span class=\"token punctuation\">></span></span>master:9868<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>value</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>property</span><span class=\"token punctuation\">></span></span>\n<span class=\"token comment\">&lt;!-- namenodehttp--></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>property</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>name</span><span class=\"token punctuation\">></span></span>dfs.namenode.http-address<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>name</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>value</span><span class=\"token punctuation\">></span></span>master:9870<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>value</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>property</span><span class=\"token punctuation\">></span></span>\n<span class=\"token comment\">&lt;!--HDFSWeb3.09870--></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>property</span><span class=\"token punctuation\">></span></span>\n\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>name</span><span class=\"token punctuation\">></span></span>dfs.webhdfs.enabled<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>name</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>value</span><span class=\"token punctuation\">></span></span>true<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>value</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>property</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>configuration</span><span class=\"token punctuation\">></span></span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h4 id=\"2-6-6-mapred-site-xml\"><a href=\"#2-6-6-mapred-site-xml\" class=\"headerlink\" title=\"2.6.6 mapred-site.xml:\"></a>2.6.6 mapred-site.xml:</h4><pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token punctuation\">[</span>root@master hadoop<span class=\"token punctuation\">]</span><span class=\"token comment\"># vi mapred-site.xml </span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<pre class=\"line-numbers language-markup\" data-language=\"markup\"><code class=\"language-markup\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>configuration</span><span class=\"token punctuation\">></span></span>\n<span class=\"token comment\">&lt;!-- mapreduceyarn--></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>property</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>name</span><span class=\"token punctuation\">></span></span>mapreduce.framework.name<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>name</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>value</span><span class=\"token punctuation\">></span></span>yarn<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>value</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>property</span><span class=\"token punctuation\">></span></span>\n<span class=\"token comment\">&lt;!-- --></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>property</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>name</span><span class=\"token punctuation\">></span></span>mapreduce.jobhistory.address<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>name</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>value</span><span class=\"token punctuation\">></span></span>master:10020<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>value</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>property</span><span class=\"token punctuation\">></span></span>\n<span class=\"token comment\">&lt;!-- http--></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>property</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>name</span><span class=\"token punctuation\">></span></span>mapreduce.jobhistory.webapp.address<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>name</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>value</span><span class=\"token punctuation\">></span></span>master:19888<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>value</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>property</span><span class=\"token punctuation\">></span></span>\n<span class=\"token comment\">&lt;!-- MapReduce  Hadoop   hive--></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>property</span><span class=\"token punctuation\">></span></span>\n       \t\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>name</span><span class=\"token punctuation\">></span></span>yarn.app.mapreduce.am.env<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>name</span><span class=\"token punctuation\">></span></span>\n        \t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>value</span><span class=\"token punctuation\">></span></span>HADOOP_MAPRED_HOME=$&#123;HADOOP_HOME&#125;<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>value</span><span class=\"token punctuation\">></span></span>\n\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>property</span><span class=\"token punctuation\">></span></span>\n\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>property</span><span class=\"token punctuation\">></span></span>\n      \t\t  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>name</span><span class=\"token punctuation\">></span></span>mapreduce.map.env<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>name</span><span class=\"token punctuation\">></span></span>\n      \t\t  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>value</span><span class=\"token punctuation\">></span></span>HADOOP_MAPRED_HOME=$&#123;HADOOP_HOME&#125;<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>value</span><span class=\"token punctuation\">></span></span>\n\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>property</span><span class=\"token punctuation\">></span></span>\n\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>property</span><span class=\"token punctuation\">></span></span>\n       \t\t <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>name</span><span class=\"token punctuation\">></span></span>mapreduce.reduce.env<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>name</span><span class=\"token punctuation\">></span></span>\n      \t\t <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>value</span><span class=\"token punctuation\">></span></span>HADOOP_MAPRED_HOME=$&#123;HADOOP_HOME&#125;<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>value</span><span class=\"token punctuation\">></span></span>\n\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>property</span><span class=\"token punctuation\">></span></span>   \n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>configuration</span><span class=\"token punctuation\">></span></span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h4 id=\"2-6-7-yarn-site-xml\"><a href=\"#2-6-7-yarn-site-xml\" class=\"headerlink\" title=\"2.6.7 yarn-site.xml:\"></a>2.6.7 yarn-site.xml:</h4><pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token punctuation\">[</span>root@master hadoop<span class=\"token punctuation\">]</span><span class=\"token comment\"># vi yarn-site.xml</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<pre class=\"line-numbers language-markup\" data-language=\"markup\"><code class=\"language-markup\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>configuration</span><span class=\"token punctuation\">></span></span>\n<span class=\"token comment\">&lt;!-- Site specific YARN configuration properties --></span>\n\t<span class=\"token comment\">&lt;!-- NodeManagershuffle --></span>\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>property</span><span class=\"token punctuation\">></span></span>\n\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>name</span><span class=\"token punctuation\">></span></span>yarn.nodemanager.aux-services<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>name</span><span class=\"token punctuation\">></span></span>\n\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>value</span><span class=\"token punctuation\">></span></span>mapreduce_shuffle<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>value</span><span class=\"token punctuation\">></span></span>\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>property</span><span class=\"token punctuation\">></span></span>\n\t<span class=\"token comment\">&lt;!-- YARNResourceManager --></span>\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>property</span><span class=\"token punctuation\">></span></span>\n\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>name</span><span class=\"token punctuation\">></span></span>yarn.resourcemanager.hostname<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>name</span><span class=\"token punctuation\">></span></span>\n\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>value</span><span class=\"token punctuation\">></span></span>master<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>value</span><span class=\"token punctuation\">></span></span>\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>property</span><span class=\"token punctuation\">></span></span>\n\t<span class=\"token comment\">&lt;!-- yarnweb --></span>\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>property</span><span class=\"token punctuation\">></span></span>\n\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>name</span><span class=\"token punctuation\">></span></span>yarn.resourcemanager.webapp.address<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>name</span><span class=\"token punctuation\">></span></span>\n\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>value</span><span class=\"token punctuation\">></span></span>master:8088<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>value</span><span class=\"token punctuation\">></span></span>\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>property</span><span class=\"token punctuation\">></span></span>\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>property</span><span class=\"token punctuation\">></span></span>\n\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>name</span><span class=\"token punctuation\">></span></span>yarn.resourcemanager.webapp.https.address<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>name</span><span class=\"token punctuation\">></span></span>\n\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>value</span><span class=\"token punctuation\">></span></span>master:8090<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>value</span><span class=\"token punctuation\">></span></span>\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>property</span><span class=\"token punctuation\">></span></span>\n\t<span class=\"token comment\">&lt;!--  --></span>\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>property</span><span class=\"token punctuation\">></span></span>\n\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>name</span><span class=\"token punctuation\">></span></span>yarn.log-aggregation-enable<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>name</span><span class=\"token punctuation\">></span></span>\n\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>value</span><span class=\"token punctuation\">></span></span>true<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>value</span><span class=\"token punctuation\">></span></span>\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>property</span><span class=\"token punctuation\">></span></span>\n\t<span class=\"token comment\">&lt;!-- hdfs --></span>\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>property</span><span class=\"token punctuation\">></span></span>\n\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>name</span><span class=\"token punctuation\">></span></span>yarn.log-aggregation.retain-seconds<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>name</span><span class=\"token punctuation\">></span></span>\n\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>value</span><span class=\"token punctuation\">></span></span>604800<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>value</span><span class=\"token punctuation\">></span></span>\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>property</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>configuration</span><span class=\"token punctuation\">></span></span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>hadoop 2.X webhdfs500703.X9870</p>\n<h4 id=\"2-6-8-\"><a href=\"#2-6-8-\" class=\"headerlink\" title=\"2.6.8 \"></a>2.6.8 </h4><pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token punctuation\">[</span>root@master module<span class=\"token punctuation\">]</span><span class=\"token comment\"># scp /etc/profile root@slave1:/etc/profile</span>\n<span class=\"token punctuation\">[</span>root@master module<span class=\"token punctuation\">]</span><span class=\"token comment\"># scp /etc/profile root@slave2:/etc/profile</span>\n\n<span class=\"token punctuation\">[</span>root@master module<span class=\"token punctuation\">]</span><span class=\"token comment\"># scp -r /opt/module/hadoop root@slave1:/opt/module</span>\n<span class=\"token punctuation\">[</span>root@master module<span class=\"token punctuation\">]</span><span class=\"token comment\"># scp -r /opt/module/hadoop root@slave2:/opt/module</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p></p>\n<h4 id=\"2-6-9-namenode\"><a href=\"#2-6-9-namenode\" class=\"headerlink\" title=\"2.6.9 namenode\"></a>2.6.9 namenode</h4><pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token punctuation\">[</span>root@master ~<span class=\"token punctuation\">]</span><span class=\"token comment\"># hdfs namenode -format</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p></p>\n<p><img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202312111630315.png\" alt=\"image-20230320183413920\"></p>\n<h4 id=\"2-6-10-\"><a href=\"#2-6-10-\" class=\"headerlink\" title=\"2.6.10 \"></a>2.6.10 </h4><p></p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token punctuation\">[</span>root@master ~<span class=\"token punctuation\">]</span><span class=\"token comment\"># start-all.sh </span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p>:</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">1:\njps\n2:<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\njpsall<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p></p>\n<p><img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202312111630752.png\"></p>\n<p><img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202401051740271.png\" alt=\"image-20240105174003166\"></p>\n<h3 id=\"2-7-web\"><a href=\"#2-7-web\" class=\"headerlink\" title=\"2.7 web\"></a>2.7 web</h3><p><a href=\"http://ip:9870/\">http://ip:9870</a></p>\n<p><a href=\"http://ip:8088/\">http://ip:8088</a></p>\n<p><img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202401051531566.png\" alt=\"image-20240105153102460\"></p>\n<p><img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202401051531631.png\" alt=\"image-20240105153114530\"></p>\n<p><img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202401051531093.png\" alt=\"image-20240105153148000\"></p>\n<p></p>\n<h2 id=\"3-Hadoop-HA\"><a href=\"#3-Hadoop-HA\" class=\"headerlink\" title=\"3. Hadoop HA\"></a>3. Hadoop HA</h2><h3 id=\"3-1-zookeeper\"><a href=\"#3-1-zookeeper\" class=\"headerlink\" title=\"3.1 zookeeper\"></a>3.1 zookeeper</h3><h4 id=\"3-1-1-\"><a href=\"#3-1-1-\" class=\"headerlink\" title=\"3.1.1 \"></a>3.1.1 </h4><pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token punctuation\">[</span>root@master ~<span class=\"token punctuation\">]</span><span class=\"token comment\"># tar -zxvf /opt/software/zookeeper-3.4.6.tar.gz -C /opt/module/</span>\n<span class=\"token punctuation\">[</span>root@master ~<span class=\"token punctuation\">]</span><span class=\"token comment\"># mv /opt/module/zookeeper-3.4.6/ /opt/module/zookeeper</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n\n<blockquote>\n<p></p>\n</blockquote>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token comment\">#</span>\n<span class=\"token function\">mkdir</span> /opt/module/zookeeper/data\n<span class=\"token comment\">#</span>\n<span class=\"token function\">mkdir</span> /opt/module/zookeeper/logs<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h4 id=\"3-1-2-\"><a href=\"#3-1-2-\" class=\"headerlink\" title=\"3.1.2 \"></a>3.1.2 </h4><blockquote>\n<p></p>\n</blockquote>\n<p>:</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token comment\">#zookeeper</span>\n<span class=\"token builtin class-name\">export</span> <span class=\"token assign-left variable\">ZK_HOME</span><span class=\"token operator\">=</span>/opt/module/zookeeper\n<span class=\"token builtin class-name\">export</span> <span class=\"token assign-left variable\"><span class=\"token environment constant\">PATH</span></span><span class=\"token operator\">=</span><span class=\"token environment constant\">$PATH</span><span class=\"token builtin class-name\">:</span><span class=\"token variable\">$ZK_HOME</span>/bin<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">cat</span> <span class=\"token operator\">>></span>/etc/profile<span class=\"token operator\">&lt;&lt;</span><span class=\"token string\">EOF\n#zookeeper\nexport ZK_HOME=/opt/module/zookeeper\nexport PATH=\\<span class=\"token environment constant\">$PATH</span>:\\<span class=\"token variable\">$ZK_HOME</span>/bin\nEOF</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>:</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token builtin class-name\">source</span> /etc/profile<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<h4 id=\"3-1-3-zoo-cfg\"><a href=\"#3-1-3-zoo-cfg\" class=\"headerlink\" title=\"3.1.3 zoo.cfg\"></a>3.1.3 zoo.cfg</h4><pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">\n<span class=\"token punctuation\">[</span>root@master ~<span class=\"token punctuation\">]</span><span class=\"token comment\"># mkdir /opt/module/zookeeper/&#123;data,logs&#125;</span>\n<span class=\"token punctuation\">[</span>root@master ~<span class=\"token punctuation\">]</span><span class=\"token comment\"># cp /opt/module/zookeeper/conf/zoo_sample.cfg /opt/module/zookeeper/conf/zoo.cfg</span>\n<span class=\"token punctuation\">[</span>root@master ~<span class=\"token punctuation\">]</span><span class=\"token comment\"># vi /opt/module/zookeeper/conf/zoo.cfg</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n\n<blockquote>\n<p>:</p>\n</blockquote>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token punctuation\">[</span>root@master conf<span class=\"token punctuation\">]</span><span class=\"token comment\"># cat zoo.cfg </span>\n<span class=\"token assign-left variable\">tickTime</span><span class=\"token operator\">=</span><span class=\"token number\">2000</span>\n<span class=\"token assign-left variable\">initLimit</span><span class=\"token operator\">=</span><span class=\"token number\">10</span>\n<span class=\"token assign-left variable\">syncLimit</span><span class=\"token operator\">=</span><span class=\"token number\">5</span>\n<span class=\"token assign-left variable\">dataDir</span><span class=\"token operator\">=</span>/opt/module/zookeeper/data\n<span class=\"token assign-left variable\">dataLogDir</span><span class=\"token operator\">=</span>/opt/module/zookeeper/logs\n<span class=\"token assign-left variable\">clientPort</span><span class=\"token operator\">=</span><span class=\"token number\">2181</span>\n<span class=\"token assign-left variable\">server.1</span><span class=\"token operator\">=</span>master:2888:3888\n<span class=\"token assign-left variable\">server.2</span><span class=\"token operator\">=</span>slave1:2888:3888\n<span class=\"token assign-left variable\">server.3</span><span class=\"token operator\">=</span>slave2:2888:3888<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>:</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token punctuation\">[</span>root@kafka1 opt<span class=\"token punctuation\">]</span><span class=\"token comment\"># grep -Ev \"#|^$\" /usr/local/zookeeper/conf/zoo.cfg </span>\n<span class=\"token assign-left variable\">tickTime</span><span class=\"token operator\">=</span><span class=\"token number\">2000</span>\n<span class=\"token assign-left variable\">initLimit</span><span class=\"token operator\">=</span><span class=\"token number\">10</span>\n<span class=\"token assign-left variable\">syncLimit</span><span class=\"token operator\">=</span><span class=\"token number\">5</span>\n<span class=\"token assign-left variable\">dataDir</span><span class=\"token operator\">=</span>/opt/module/zookeeper/data\n<span class=\"token assign-left variable\">dataLogDir</span><span class=\"token operator\">=</span>/opt/module/zookeeper/logs\n<span class=\"token assign-left variable\">clientPort</span><span class=\"token operator\">=</span><span class=\"token number\">2181</span>\n<span class=\"token assign-left variable\">maxClientCnxns</span><span class=\"token operator\">=</span><span class=\"token number\">4096</span>\t<span class=\"token comment\">#()</span>\n<span class=\"token assign-left variable\">autopurge.snapRetainCount</span><span class=\"token operator\">=</span><span class=\"token number\">128</span>   <span class=\"token comment\"># /opt/zookeeper()</span>\n<span class=\"token assign-left variable\">autopurge.purgeInterval</span><span class=\"token operator\">=</span><span class=\"token number\">1</span>   <span class=\"token comment\"># ()</span>\n<span class=\"token comment\"># </span>\n<span class=\"token assign-left variable\">server.1</span><span class=\"token operator\">=</span>master:2888:3888\n<span class=\"token assign-left variable\">server.2</span><span class=\"token operator\">=</span>slave1:2888:3888\n<span class=\"token assign-left variable\">server.3</span><span class=\"token operator\">=</span>slave2:2888:3888\n\n\n<span class=\"token assign-left variable\">server.A</span><span class=\"token operator\">=</span>B:C:D\n\nAmyidzookeeperzoo.cfgserver\nB\nCFollowerLeader\nDleaderleader<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>:<img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images202402201018515.png\" alt=\"image-20240105162313246\"></p>\n<h4 id=\"3-1-4-myid\"><a href=\"#3-1-4-myid\" class=\"headerlink\" title=\"3.1.4 myid\"></a>3.1.4 <code>myid</code></h4><pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token punctuation\">[</span>root@master zookeeper<span class=\"token punctuation\">]</span><span class=\"token comment\"># echo 1 > $ZK_HOME/data/myid</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<h4 id=\"3-1-5-myid\"><a href=\"#3-1-5-myid\" class=\"headerlink\" title=\"3.1.5 myid\"></a>3.1.5 myid</h4><blockquote>\n<p>:warning::,</p>\n</blockquote>\n<p>:</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token punctuation\">[</span>root@master ~<span class=\"token punctuation\">]</span><span class=\"token comment\"># scp -r /opt/module/zookeeper/ root@slave1:/opt/module/</span>\n<span class=\"token punctuation\">[</span>root@master ~<span class=\"token punctuation\">]</span><span class=\"token comment\"># scp -r /opt/module/zookeeper/ root@slave2:/opt/module/</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n\n<p>myid:</p>\n<p>slave1:</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token punctuation\">[</span>root@slave1 ~<span class=\"token punctuation\">]</span><span class=\"token comment\"># echo 2 > /opt/module/zookeeper/data/myid</span>\n<span class=\"token punctuation\">[</span>root@slave1 ~<span class=\"token punctuation\">]</span><span class=\"token comment\"># echo 2 > $ZK_HOME/data/myid</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n\n<p>slave2:</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token punctuation\">[</span>root@slave2 ~<span class=\"token punctuation\">]</span><span class=\"token comment\"># echo 3 > /opt/module/zookeeper/data/myid</span>\n<span class=\"token punctuation\">[</span>root@slave2 ~<span class=\"token punctuation\">]</span><span class=\"token comment\"># echo 3 > $ZK_HOME/data/myid</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n\n<h4 id=\"3-1-6-zk\"><a href=\"#3-1-6-zk\" class=\"headerlink\" title=\"3.1.6 zk\"></a>3.1.6 zk</h4><p>:</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">/opt/module/zookeeper/bin/zkServer.sh start<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p>:</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">/opt/module/zookeeper/bin/zkServer.sh status<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n\n\n<p>master:<img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images202402201020411.png\" alt=\"image-20240105165336746\"></p>\n<p>slave1:<img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images202402201020560.png\" alt=\"image-20240105165353343\"></p>\n<p>slave2:<img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images202402201020484.png\" alt=\"image-20240105165433958\"></p>\n<h3 id=\"3-2-Hadoop-HA\"><a href=\"#3-2-Hadoop-HA\" class=\"headerlink\" title=\"3.2 Hadoop HA\"></a>3.2 Hadoop HA</h3><p><code>2.6</code></p>\n<h4 id=\"3-2-1-hadoop-env-sh\"><a href=\"#3-2-1-hadoop-env-sh\" class=\"headerlink\" title=\"3.2.1 hadoop-env.sh\"></a>3.2.1 hadoop-env.sh</h4><p></p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token builtin class-name\">export</span> <span class=\"token assign-left variable\">JAVA_HOME</span><span class=\"token operator\">=</span>/opt/module/jdk1.8.0_162\n<span class=\"token builtin class-name\">export</span> <span class=\"token assign-left variable\">HDFS_NAMENODE_USER</span><span class=\"token operator\">=</span>root\n<span class=\"token builtin class-name\">export</span> <span class=\"token assign-left variable\">HDFS_DATANODE_USER</span><span class=\"token operator\">=</span>root\n<span class=\"token builtin class-name\">export</span> <span class=\"token assign-left variable\">HDFS_SECONDARYNAMENODE_USER</span><span class=\"token operator\">=</span>root\n<span class=\"token builtin class-name\">export</span> <span class=\"token assign-left variable\">YARN_RESOURCEMANAGER_USER</span><span class=\"token operator\">=</span>root\n<span class=\"token builtin class-name\">export</span> <span class=\"token assign-left variable\">YARN_NODEMANAGER_USER</span><span class=\"token operator\">=</span>root\n<span class=\"token comment\">#ha</span>\n<span class=\"token builtin class-name\">export</span> <span class=\"token assign-left variable\">HDFS_JOURNALNODE_USER</span><span class=\"token operator\">=</span>root\n<span class=\"token builtin class-name\">export</span> <span class=\"token assign-left variable\">HDFS_ZKFC_USER</span><span class=\"token operator\">=</span>root<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p></p>\n<p><img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images202402202007642.png\" alt=\"image-20240220200709576\"></p>\n<h4 id=\"3-2-2-workers\"><a href=\"#3-2-2-workers\" class=\"headerlink\" title=\"3.2.2 workers\"></a>3.2.2 workers</h4><p></p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token punctuation\">[</span>root@master hadoop<span class=\"token punctuation\">]</span><span class=\"token comment\"># cat workers</span>\nmaster\nslave1\nslave2<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h4 id=\"3-3-3-core-site-xml\"><a href=\"#3-3-3-core-site-xml\" class=\"headerlink\" title=\"3.3.3 core-site.xml\"></a>3.3.3 core-site.xml</h4><pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token punctuation\">[</span>root@master hadoop<span class=\"token punctuation\">]</span><span class=\"token comment\"># vim core-site.xml</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p></p>\n<pre class=\"line-numbers language-markup\" data-language=\"markup\"><code class=\"language-markup\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>configuration</span><span class=\"token punctuation\">></span></span>\n<span class=\"token comment\">&lt;!-- hdfsschame,ip,port--></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>property</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>name</span><span class=\"token punctuation\">></span></span>fs.defaultFS<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>name</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>value</span><span class=\"token punctuation\">></span></span>hdfs://master:9000<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>value</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>property</span><span class=\"token punctuation\">></span></span>\n<span class=\"token comment\">&lt;!-- hdfs --></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>property</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>name</span><span class=\"token punctuation\">></span></span>hadoop.tmp.dir<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>name</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>value</span><span class=\"token punctuation\">></span></span>/root/hadoopdir/tmp<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>value</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>property</span><span class=\"token punctuation\">></span></span>\n<span class=\"token comment\">&lt;!-- ha.zookeeper.quorum zookeeper, --></span>\n    \t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>property</span><span class=\"token punctuation\">></span></span>\n\t\t\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>name</span><span class=\"token punctuation\">></span></span>ha.zookeeper.quorum<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>name</span><span class=\"token punctuation\">></span></span>\n            \t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>value</span><span class=\"token punctuation\">></span></span>master:2181,slave1:2181,slave2:2181<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>value</span><span class=\"token punctuation\">></span></span>\n    \t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>property</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>configuration</span><span class=\"token punctuation\">></span></span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h4 id=\"3-3-4-hdfs-site-xml-star\"><a href=\"#3-3-4-hdfs-site-xml-star\" class=\"headerlink\" title=\"3.3.4 hdfs-site.xml:star:\"></a>3.3.4 hdfs-site.xml:star:</h4><pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token punctuation\">[</span>root@master hadoop<span class=\"token punctuation\">]</span><span class=\"token comment\"># vim hdfs-site.xml</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p></p>\n<pre class=\"line-numbers language-markup\" data-language=\"markup\"><code class=\"language-markup\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>configuration</span><span class=\"token punctuation\">></span></span>\n<span class=\"token comment\">&lt;!-- namenodenamenode--></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>property</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>name</span><span class=\"token punctuation\">></span></span>dfs.nameservices<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>name</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>value</span><span class=\"token punctuation\">></span></span>mycluster<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>value</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>property</span><span class=\"token punctuation\">></span></span>\n<span class=\"token comment\">&lt;!-- namenode--></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>property</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>name</span><span class=\"token punctuation\">></span></span>dfs.ha.namenodes.mycluster<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>name</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>value</span><span class=\"token punctuation\">></span></span>nn1,nn2<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>value</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>property</span><span class=\"token punctuation\">></span></span>\n<span class=\"token comment\">&lt;!-- 1 rpc --></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>property</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>name</span><span class=\"token punctuation\">></span></span>dfs.namenode.rpc-address.mycluster.nn1<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>name</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>value</span><span class=\"token punctuation\">></span></span>master:9000<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>value</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>property</span><span class=\"token punctuation\">></span></span>\n<span class=\"token comment\">&lt;!-- 2 rpc --></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>property</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>name</span><span class=\"token punctuation\">></span></span>dfs.namenode.rpc-address.mycluster.nn2<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>name</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>value</span><span class=\"token punctuation\">></span></span>slave1:9000<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>value</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>property</span><span class=\"token punctuation\">></span></span>\n<span class=\"token comment\">&lt;!-- Namenode 1 --></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>property</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>name</span><span class=\"token punctuation\">></span></span>dfs.namenode.http-address.mycluster.nn1<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>name</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>value</span><span class=\"token punctuation\">></span></span>master:9870<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>value</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>property</span><span class=\"token punctuation\">></span></span>   \n<span class=\"token comment\">&lt;!-- Namenode 2 --></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>property</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>name</span><span class=\"token punctuation\">></span></span>dfs.namenode.http-address.mycluster.nn2<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>name</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>value</span><span class=\"token punctuation\">></span></span>slave1:9870<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>value</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>property</span><span class=\"token punctuation\">></span></span> \n<span class=\"token comment\">&lt;!--JournalNode --></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>property</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>name</span><span class=\"token punctuation\">></span></span>dfs.namenode.shared.edits.dir<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>name</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>value</span><span class=\"token punctuation\">></span></span>qjournal://master:8485;slave1:8485;slave2:8485/mycluster<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>value</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>property</span><span class=\"token punctuation\">></span></span>\n<span class=\"token comment\">&lt;!-- namenodefsimage--></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>property</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>name</span><span class=\"token punctuation\">></span></span>dfs.namenode.name.dir<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>name</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>value</span><span class=\"token punctuation\">></span></span>/root/hadoopdir/dfs/name<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>value</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>property</span><span class=\"token punctuation\">></span></span>\n<span class=\"token comment\">&lt;!-- DFS--></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>property</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>name</span><span class=\"token punctuation\">></span></span>dfs.datanode.data.dir<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>name</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>value</span><span class=\"token punctuation\">></span></span>/root/hadoopdir/dfs/data<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>value</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>property</span><span class=\"token punctuation\">></span></span>\n<span class=\"token comment\">&lt;!--JournalNode --></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>property</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>name</span><span class=\"token punctuation\">></span></span>dfs.journalnode.edits.dir<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>name</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>value</span><span class=\"token punctuation\">></span></span>/root/hadoopdir/journal<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>value</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>property</span><span class=\"token punctuation\">></span></span>\n<span class=\"token comment\">&lt;!--Failover --></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>property</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>name</span><span class=\"token punctuation\">></span></span>dfs.client.failover.proxy.provider.mycluster<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>name</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>value</span><span class=\"token punctuation\">></span></span>org.apache.hadoop.hdfs.server.namenode.ha.ConfiguredFailoverProxyProvider<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>value</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>property</span><span class=\"token punctuation\">></span></span>\n<span class=\"token comment\">&lt;!--sshfence  ssh --></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>property</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>name</span><span class=\"token punctuation\">></span></span>dfs.ha.fencing.methods<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>name</span><span class=\"token punctuation\">></span></span>\n               <span class=\"token comment\">&lt;!-- &lt;value>sshfence&lt;/value>--></span>\n               <span class=\"token comment\">&lt;!--sshfencesshfencefalsefence--></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>value</span><span class=\"token punctuation\">></span></span>shell(true)<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>value</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>property</span><span class=\"token punctuation\">></span></span>\n<span class=\"token comment\">&lt;!--ssh --></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>property</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>name</span><span class=\"token punctuation\">></span></span>dfs.ha.fencing.ssh.private-key-files<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>name</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>value</span><span class=\"token punctuation\">></span></span>/root/.ssh/id_rsa<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>value</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>property</span><span class=\"token punctuation\">></span></span>\n<span class=\"token comment\">&lt;!--truefalse--></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>property</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>name</span><span class=\"token punctuation\">></span></span>dfs.ha.automatic-failover.enabled<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>name</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>value</span><span class=\"token punctuation\">></span></span>true<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>value</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>property</span><span class=\"token punctuation\">></span></span>\n<span class=\"token comment\">&lt;!----></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>property</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>name</span><span class=\"token punctuation\">></span></span>dfs.replication<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>name</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>value</span><span class=\"token punctuation\">></span></span>3<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>value</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>property</span><span class=\"token punctuation\">></span></span>   \n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>configuration</span><span class=\"token punctuation\">></span></span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h4 id=\"3-3-5-mapred-site-xml\"><a href=\"#3-3-5-mapred-site-xml\" class=\"headerlink\" title=\"3.3.5 mapred-site.xml\"></a>3.3.5 mapred-site.xml</h4><pre class=\"line-numbers language-markup\" data-language=\"markup\"><code class=\"language-markup\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>configuration</span><span class=\"token punctuation\">></span></span>\n\n<span class=\"token comment\">&lt;!-- mapreduceyarn--></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>property</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>name</span><span class=\"token punctuation\">></span></span>mapreduce.framework.name<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>name</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>value</span><span class=\"token punctuation\">></span></span>yarn<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>value</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>property</span><span class=\"token punctuation\">></span></span>\n<span class=\"token comment\">&lt;!-- --></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>property</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>name</span><span class=\"token punctuation\">></span></span>mapreduce.jobhistory.address<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>name</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>value</span><span class=\"token punctuation\">></span></span>master:10020<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>value</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>property</span><span class=\"token punctuation\">></span></span>\n<span class=\"token comment\">&lt;!-- http--></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>property</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>name</span><span class=\"token punctuation\">></span></span>mapreduce.jobhistory.webapp.address<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>name</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>value</span><span class=\"token punctuation\">></span></span>master:19888<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>value</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>property</span><span class=\"token punctuation\">></span></span>\n<span class=\"token comment\">&lt;!-- MapReduce  Hadoop   hive--></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>property</span><span class=\"token punctuation\">></span></span>\n       \t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>name</span><span class=\"token punctuation\">></span></span>yarn.app.mapreduce.am.env<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>name</span><span class=\"token punctuation\">></span></span>\n        \t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>value</span><span class=\"token punctuation\">></span></span>HADOOP_MAPRED_HOME=$&#123;HADOOP_HOME&#125;<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>value</span><span class=\"token punctuation\">></span></span>\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>property</span><span class=\"token punctuation\">></span></span>\n\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>property</span><span class=\"token punctuation\">></span></span>\n      \t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>name</span><span class=\"token punctuation\">></span></span>mapreduce.map.env<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>name</span><span class=\"token punctuation\">></span></span>\n      \t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>value</span><span class=\"token punctuation\">></span></span>HADOOP_MAPRED_HOME=$&#123;HADOOP_HOME&#125;<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>value</span><span class=\"token punctuation\">></span></span>\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>property</span><span class=\"token punctuation\">></span></span>\n\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>property</span><span class=\"token punctuation\">></span></span>\n       \t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>name</span><span class=\"token punctuation\">></span></span>mapreduce.reduce.env<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>name</span><span class=\"token punctuation\">></span></span>\n      \t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>value</span><span class=\"token punctuation\">></span></span>HADOOP_MAPRED_HOME=$&#123;HADOOP_HOME&#125;<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>value</span><span class=\"token punctuation\">></span></span>\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>property</span><span class=\"token punctuation\">></span></span>    \n\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>configuration</span><span class=\"token punctuation\">></span></span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h4 id=\"3-3-6-yarn-site-xml-star\"><a href=\"#3-3-6-yarn-site-xml-star\" class=\"headerlink\" title=\"3.3.6 yarn-site.xml:star:\"></a>3.3.6 yarn-site.xml:star:</h4><pre class=\"line-numbers language-markup\" data-language=\"markup\"><code class=\"language-markup\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>configuration</span><span class=\"token punctuation\">></span></span>\n<span class=\"token comment\">&lt;!-- NodeManagershuffle --></span>\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>property</span><span class=\"token punctuation\">></span></span>\n\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>name</span><span class=\"token punctuation\">></span></span>yarn.nodemanager.aux-services<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>name</span><span class=\"token punctuation\">></span></span>\n\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>value</span><span class=\"token punctuation\">></span></span>mapreduce_shuffle<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>value</span><span class=\"token punctuation\">></span></span>\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>property</span><span class=\"token punctuation\">></span></span>\n<span class=\"token comment\">&lt;!--HA --></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>property</span><span class=\"token punctuation\">></span></span>\n\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>name</span><span class=\"token punctuation\">></span></span>yarn.resourcemanager.ha.enabled<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>name</span><span class=\"token punctuation\">></span></span>\n\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>value</span><span class=\"token punctuation\">></span></span>true<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>value</span><span class=\"token punctuation\">></span></span>\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>property</span><span class=\"token punctuation\">></span></span>\n<span class=\"token comment\">&lt;!--  --></span>\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>property</span><span class=\"token punctuation\">></span></span>\n\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>name</span><span class=\"token punctuation\">></span></span>yarn.resourcemanager.recovery.enable<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>name</span><span class=\"token punctuation\">></span></span>\n\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>value</span><span class=\"token punctuation\">></span></span>true<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>value</span><span class=\"token punctuation\">></span></span>\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>property</span><span class=\"token punctuation\">></span></span>\n<span class=\"token comment\">&lt;!--  --></span>\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>property</span><span class=\"token punctuation\">></span></span>\n\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>name</span><span class=\"token punctuation\">></span></span>yarn.resourcemanager.store.class<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>name</span><span class=\"token punctuation\">></span></span>\n\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>value</span><span class=\"token punctuation\">></span></span>org.apache.hadoop.yarn.server.resourcemanager.recovery.ZKRMStateStore<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>value</span><span class=\"token punctuation\">></span></span>\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>property</span><span class=\"token punctuation\">></span></span>\n<span class=\"token comment\">&lt;!--zookeeper--></span>\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>property</span><span class=\"token punctuation\">></span></span>\n\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>name</span><span class=\"token punctuation\">></span></span>yarn.resourcemanager.zk-address<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>name</span><span class=\"token punctuation\">></span></span>\n\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>value</span><span class=\"token punctuation\">></span></span>master:2181,slave1:2181,slave2:2181<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>value</span><span class=\"token punctuation\">></span></span>\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>property</span><span class=\"token punctuation\">></span></span>\n<span class=\"token comment\">&lt;!-- ID--></span>\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>property</span><span class=\"token punctuation\">></span></span>\n\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>name</span><span class=\"token punctuation\">></span></span>yarn.resourcemanager.cluster-id<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>name</span><span class=\"token punctuation\">></span></span>\n\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>value</span><span class=\"token punctuation\">></span></span>yarn-ha<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>value</span><span class=\"token punctuation\">></span></span>\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>property</span><span class=\"token punctuation\">></span></span>\n<span class=\"token comment\">&lt;!-- resourcemanager --></span>\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>property</span><span class=\"token punctuation\">></span></span>\n\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>name</span><span class=\"token punctuation\">></span></span>yarn.resourcemanager.ha.rm-ids<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>name</span><span class=\"token punctuation\">></span></span>\n\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>value</span><span class=\"token punctuation\">></span></span>rm1,rm2<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>value</span><span class=\"token punctuation\">></span></span>\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>property</span><span class=\"token punctuation\">></span></span>  \n<span class=\"token comment\">&lt;!--1 --></span>\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>property</span><span class=\"token punctuation\">></span></span>\n\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>name</span><span class=\"token punctuation\">></span></span>yarn.resourcemanager.hostname.rm1<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>name</span><span class=\"token punctuation\">></span></span>\n\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>value</span><span class=\"token punctuation\">></span></span>master<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>value</span><span class=\"token punctuation\">></span></span>\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>property</span><span class=\"token punctuation\">></span></span>   \n<span class=\"token comment\">&lt;!--2 --></span>\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>property</span><span class=\"token punctuation\">></span></span>\n\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>name</span><span class=\"token punctuation\">></span></span>yarn.resourcemanager.hostname.rm2<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>name</span><span class=\"token punctuation\">></span></span>\n\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>value</span><span class=\"token punctuation\">></span></span>slave1<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>value</span><span class=\"token punctuation\">></span></span>\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>property</span><span class=\"token punctuation\">></span></span>         \n<span class=\"token comment\">&lt;!--  ()--></span>\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>property</span><span class=\"token punctuation\">></span></span>\n\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>name</span><span class=\"token punctuation\">></span></span>yarn.log-aggregation-enable<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>name</span><span class=\"token punctuation\">></span></span>\n\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>value</span><span class=\"token punctuation\">></span></span>true<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>value</span><span class=\"token punctuation\">></span></span>\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>property</span><span class=\"token punctuation\">></span></span>\n<span class=\"token comment\">&lt;!-- hdfs --></span>\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>property</span><span class=\"token punctuation\">></span></span>\n\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>name</span><span class=\"token punctuation\">></span></span>yarn.log-aggregation.retain-seconds<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>name</span><span class=\"token punctuation\">></span></span>\n\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>value</span><span class=\"token punctuation\">></span></span>604800<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>value</span><span class=\"token punctuation\">></span></span>\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>property</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>configuration</span><span class=\"token punctuation\">></span></span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<blockquote>\n<p>,:warning:</p>\n</blockquote>\n<h3 id=\"3-3-\"><a href=\"#3-3-\" class=\"headerlink\" title=\"3.3 \"></a>3.3 </h3><h4 id=\"3-3-1-journalnode\"><a href=\"#3-3-1-journalnode\" class=\"headerlink\" title=\"3.3.1 journalnode\"></a>3.3.1 journalnode</h4><blockquote>\n<p><code></code>journalnode</p>\n</blockquote>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">hadoop-daemon.sh start journalnode<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<h4 id=\"3-3-2-namenode\"><a href=\"#3-3-2-namenode\" class=\"headerlink\" title=\"3.3.2 namenode\"></a>3.3.2 namenode</h4><blockquote>\n<p>master(<code>nn1</code>)namenode</p>\n</blockquote>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">hdfs namenode <span class=\"token parameter variable\">-format</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<p></p>\n<p><img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images202402201950935.png\" alt=\"image-20240220195039832\"></p>\n<blockquote>\n<p><code>nn2</code>slave1</p>\n</blockquote>\n<p>:one: 1: (<code>nn1</code>)(<code>nn2</code>)</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">scp</span> <span class=\"token parameter variable\">-r</span> hadoopdir/dfs/ root@slave1:/root/hadoopdir<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p><img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images202402201951392.png\"></p>\n<p>:two: 2:(<code>nn2</code>)</p>\n<p>(<code>nn1</code>)namenode,(<code>nn2</code>),</p>\n<p><code>master</code>namenode,:</p>\n<p><img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202410062328858.png\" alt=\"image-20241006232852729\"></p>\n<p><code>Connection refused</code>NameNodeNameNode192.168.10.11:9000</p>\n<p><strong>:</strong></p>\n<p>1.master(nn1)namenode:</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token punctuation\">[</span>root@master ~<span class=\"token punctuation\">]</span><span class=\"token comment\"># hdfs --daemon start namenode</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p>2.slave1(nn2)</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token punctuation\">[</span>root@slave1 ~<span class=\"token punctuation\">]</span><span class=\"token comment\"># hdfs namenode -bootstrapStandby</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p><img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202410062326234.png\" alt=\"image-20241006232636095\"></p>\n<p>,<code>/root/hadoopdir</code>,:</p>\n<p><img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202410062332270.png\" alt=\"image-20241006233249156\"></p>\n<p>(21,scpovO)</p>\n<h4 id=\"3-3-3-masterzk\"><a href=\"#3-3-3-masterzk\" class=\"headerlink\" title=\"3.3.3 masterzk\"></a>3.3.3 masterzk</h4><pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">hdfs zkfc <span class=\"token parameter variable\">-formatZK</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<p></p>\n<p><img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202410062356870.png\" alt=\"image-20241006235656731\"></p>\n<h4 id=\"3-3-4-\"><a href=\"#3-3-4-\" class=\"headerlink\" title=\"3.3.4 \"></a>3.3.4 </h4><p>master</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">start-all.sh<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p>():</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">hadoop-daemon.sh start journalnode<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p></p>\n<p><img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images202402201954941.png\" alt=\"image-20240220195417889\"></p>\n<h3 id=\"3-4-nn2rm2\"><a href=\"#3-4-nn2rm2\" class=\"headerlink\" title=\"3.4 nn2rm2\"></a>3.4 nn2rm2</h3><pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token punctuation\">[</span>root@master ~<span class=\"token punctuation\">]</span><span class=\"token comment\"># hdfs haadmin -getServiceState nn2</span>\nactive<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n\n<p><img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images202403141257798.png\" alt=\"image-20240314125738637\"></p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token punctuation\">[</span>root@master ~<span class=\"token punctuation\">]</span><span class=\"token comment\"># yarn rmadmin -getServiceState rm2</span>\nactive<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n\n<p><img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images202403141259321.png\" alt=\"image-20240314125900240\"></p>\n<p></p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token punctuation\">[</span>root@master ~<span class=\"token punctuation\">]</span><span class=\"token comment\"># yarn rmadmin -getServiceState rm1</span>\nstandby\n<span class=\"token punctuation\">[</span>root@master ~<span class=\"token punctuation\">]</span><span class=\"token comment\"># yarn rmadmin -getServiceState rm2</span>\nactive\n<span class=\"token punctuation\">[</span>root@master ~<span class=\"token punctuation\">]</span><span class=\"token comment\"># hdfs haadmin -getServiceState nn1</span>\nstandby\n<span class=\"token punctuation\">[</span>root@master ~<span class=\"token punctuation\">]</span><span class=\"token comment\"># hdfs haadmin -getServiceState nn2</span>\nactive<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p><img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images202403141300299.png\" alt=\"image-20240314130004169\"></p>\n<h3 id=\"3-5-HA\"><a href=\"#3-5-HA\" class=\"headerlink\" title=\"3.5 HA\"></a>3.5 HA</h3><p></p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">hdfs <span class=\"token parameter variable\">--daemon</span> start namenode<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<blockquote>\n<p>192.168.10.10:9870 &#x2F; master:9870  <code></code></p>\n</blockquote>\n<p><img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images202402201957420.png\" alt=\"image-20240220195746352\"></p>\n<blockquote>\n<p>192.168.10.20:9870 &#x2F; slave1:9870\t<code></code></p>\n</blockquote>\n<p><img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images202402201959110.png\" alt=\"image-20240220195931025\"></p>\n<blockquote>\n<p>kill masternamenodeslave1web</p>\n</blockquote>\n<p><img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images202402202001326.png\" alt=\"image-20240220200123248\"></p>\n<p>masterweb</p>\n<p><img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images202402202002860.png\" alt=\"image-20240220200224797\"></p>\n<p>masternamenodenamenode</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token punctuation\">[</span>root@master ~<span class=\"token punctuation\">]</span><span class=\"token comment\"># hdfs --daemon start namenode</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p><img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images202402202004994.png\" alt=\"image-20240220200436908\"></p>\n<p>Hadoop HA</p>\n<h2 id=\"4-HDFS-\"><a href=\"#4-HDFS-\" class=\"headerlink\" title=\"4. HDFS \"></a>4. HDFS </h2><p>:</p>\n<table>\n<thead>\n<tr>\n<th></th>\n<th></th>\n</tr>\n</thead>\n<tbody><tr>\n<td>hdfs dfs -cat</td>\n<td></td>\n</tr>\n<tr>\n<td>hdfs dfs -chmod -R</td>\n<td></td>\n</tr>\n<tr>\n<td>hdfs dfs -copyFromLocal -f -l -p</td>\n<td> HDFS </td>\n</tr>\n<tr>\n<td>hdfs dfs -copyToLocal -p -ignoreCrc</td>\n<td></td>\n</tr>\n<tr>\n<td>hdfs dfs -put (-f -p -l)</td>\n<td>HDFS</td>\n</tr>\n<tr>\n<td>Hdfs dfs -find</td>\n<td></td>\n</tr>\n<tr>\n<td>hdfs dfs -help</td>\n<td></td>\n</tr>\n<tr>\n<td>hdfs dfs -mv</td>\n<td></td>\n</tr>\n<tr>\n<td>hdfs dfs -moveFromLocal</td>\n<td>HDFS</td>\n</tr>\n<tr>\n<td>hdfs dfs -moveToLocal</td>\n<td>HDFS</td>\n</tr>\n<tr>\n<td>hdfs dfs -mkdir -p</td>\n<td>HDFS</td>\n</tr>\n<tr>\n<td>hdfs dfs -rm -f -r</td>\n<td></td>\n</tr>\n<tr>\n<td>hdfs dfs -rmdir</td>\n<td>&#x2F;</td>\n</tr>\n</tbody></table>\n<p>:</p>\n<pre class=\"line-numbers language-powershell\" data-language=\"powershell\"><code class=\"language-powershell\">1hdfs dfs <span class=\"token operator\">-</span><span class=\"token function\">cat</span> \n2hdfs dfs <span class=\"token operator\">-</span>checksumMD5\n3hdfs dfs <span class=\"token operator\">-</span>chmod <span class=\"token operator\">-</span>R\n4Hdfs dfs <span class=\"token operator\">-</span>copyFromLocal <span class=\"token operator\">-</span>f <span class=\"token operator\">-</span>l <span class=\"token operator\">-</span>p HDFS \n5Hdfs dfs <span class=\"token operator\">-</span>copyToLocal <span class=\"token operator\">-</span>p <span class=\"token operator\">-</span>ignoreCrc \n6Hdfs dfs <span class=\"token operator\">-</span>count <span class=\"token operator\">-</span>q <span class=\"token operator\">-</span>h\n7dfs dfs <span class=\"token operator\">-</span>count <span class=\"token operator\">-</span>q <span class=\"token operator\">-</span>h\n8Hdfs dfs <span class=\"token operator\">-</span><span class=\"token function\">cp</span> <span class=\"token operator\">-</span>f <span class=\"token operator\">-</span>pwindwos HDFS  HDFS \n9Hdfs dfs <span class=\"token operator\">-</span>createSnapshot \n10Hdfs dfs <span class=\"token operator\">-</span>deleteSnapshot\n11Hdfs dfs <span class=\"token operator\">-</span>df <span class=\"token operator\">-</span>h\n12Hdfs dfs <span class=\"token operator\">-</span>du <span class=\"token operator\">-</span>s <span class=\"token operator\">-</span>h\n13Hdfs dfs <span class=\"token operator\">-</span>expunge\n14Hdfs dfs <span class=\"token operator\">-</span>find\n15Hdfs dfs <span class=\"token operator\">-</span>get <span class=\"token operator\">-</span>p <span class=\"token operator\">-</span>crc <span class=\"token operator\">-</span>ignoreCrc\n16hdfs dfs <span class=\"token operator\">-</span>getfacl <span class=\"token operator\">-</span>R ACL\n17hdfs dfs <span class=\"token operator\">-</span>getfatter <span class=\"token operator\">-</span>R\n18hdfs dfs <span class=\"token operator\">-</span>getmerge <span class=\"token operator\">-</span>nl\n19hdfs dfs <span class=\"token operator\">-</span>help\n20hdfs dfs <span class=\"token operator\">-</span><span class=\"token function\">ls</span> <span class=\"token operator\">-</span>d <span class=\"token operator\">-</span>h <span class=\"token operator\">-</span>R \n21hdfs dfs <span class=\"token operator\">-</span>mkdir <span class=\"token operator\">-</span>pHDFS\n22hdfs dfs <span class=\"token operator\">-</span>moveFromLocalHDFS\n23hdfs dfs <span class=\"token operator\">-</span>moveToLocalHDFS\n24hdfs dfs <span class=\"token operator\">-</span><span class=\"token function\">mv</span>\n25hdfs dfs <span class=\"token operator\">-</span>put <span class=\"token punctuation\">(</span><span class=\"token operator\">-</span>f <span class=\"token operator\">-</span>p <span class=\"token operator\">-</span>l<span class=\"token punctuation\">)</span>HDFS\n26hdfs dfs <span class=\"token operator\">-</span>renameSnapshot\n27hdfs dfs <span class=\"token operator\">-</span><span class=\"token function\">rm</span> <span class=\"token operator\">-</span>f <span class=\"token operator\">-</span>r\n28hdfs dfs <span class=\"token operator\">-</span><span class=\"token function\">rmdir</span> <span class=\"token operator\">/</span>\n29hdfs dfs <span class=\"token operator\">-</span>setfacl <span class=\"token operator\">-</span>R ACL\n30hdfs dfs <span class=\"token operator\">-</span>setfattr <span class=\"token operator\">-</span>n\n31hdfs dfs <span class=\"token operator\">-</span>setrep <span class=\"token operator\">-</span>R HDFS \n32hdfs dfs <span class=\"token operator\">-</span>stat\n33hdfs dfs <span class=\"token operator\">-</span>tail <span class=\"token operator\">-</span>f\n34hdfs dfs <span class=\"token operator\">-</span>test\n35hdfs dfs <span class=\"token operator\">-</span>text<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>","site":{"data":{"friends":[{"avatar":"https://cdn.jsdelivr.net/gh/wylblog/cdn@master/static/image/sidebar/avatar_wyl.jpg","name":"","introduction":"","url":"https://wylblog.github.io","title":"Read More"},{"avatar":"https://img.picui.cn/free/2024/11/10/67304c2431937.jpg","name":"","introduction":".","url":"https://almost181209.github.io/","title":"Read More"}]}},"excerpt":"","more":"<h1 id=\"Hadoop\"><a href=\"#Hadoop\" class=\"headerlink\" title=\"Hadoop\"></a>Hadoop</h1><h2 id=\"1-Hadoop-\"><a href=\"#1-Hadoop-\" class=\"headerlink\" title=\"1.Hadoop \"></a>1.Hadoop </h2><p><strong>1.1 Hadoop </strong></p>\n<p>1HadoopApache<font color=\"red\" size=\"3\"></font> </p>\n<p>2<font color=\"red\" size=\"3\"></font><font color=\"red\" size=\"3\"></font> </p>\n<p>3Hadoop<font color=\"red\" size=\"3\">Hadoop</font></p>\n<p><strong>1.2 Hadoop </strong></p>\n<p>1<strong></strong>HadoopHadoop </p>\n<p>2<strong></strong> </p>\n<p>3<strong></strong>MapReduceHadoop </p>\n<p>4<strong></strong></p>\n<p><strong>1.3 Hadoop </strong></p>\n<img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202312111527570.png\" alt=\"\"> \n\n<p>Hadoop1.x HadoopMapReduce Hadoop2.xYarnYarnMapReduce  &#x3D;&#x3D;Hadoop3.x&#x3D;&#x3D;</p>\n<p><strong>1.3.1 HDFS </strong></p>\n<p>Hadoop Distributed File System<font color=\"red\" size=\"3\">HDFS</font></p>\n<p>1<code>NameNode</code>nn<strong></strong><strong></strong><strong></strong><strong></strong><strong></strong><strong>DataNode</strong> </p>\n<p>2<code>DataNode</code>(dn)<strong></strong><strong></strong> </p>\n<p>3<code>Secondary NameNode</code>(2nn)<strong>NameNode</strong></p>\n<p><strong>1.3.2 YARN </strong></p>\n<p>Yet Another Resource Negotiator YARN Hadoop </p>\n <img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202312111625192.png\" alt=\"\">\n\n<p><code>ResourceManager</code>(RM)CPU </p>\n<p><code>NodeManager</code>(NM) </p>\n<p><code>ApplicationMaster</code>(AM) </p>\n<p><code>Container</code><strong>CPU</strong></p>\n<p> </p>\n<p>1 </p>\n<p>2ApplicationMaster </p>\n<p>3NodeManagerContainer</p>\n<p><strong>1.3.3 MapReduce </strong></p>\n<p>MapReduce Map Reduce 1Map  2Reduce Map  </p>\n<img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202312111527808.png\" alt=\"\">\n\n<p><strong>1.3.4 HDFSYARNMapReduce </strong></p>\n<p></p>\n <img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202312111527601.png\" alt=\"\">\n\n<p><strong>1.3.5 </strong></p>\n<p> <img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202312111527584.png\" alt=\"\"> </p>\n<p></p>\n<p>1<code>Sqoop</code>Sqoop HadoopHive MySQL MySQLOracle Hadoop HDFS HDFS  </p>\n<p>2<code>Flume</code>Flume Flume  3<code>Kafka</code>Kafka  </p>\n<p>4<code>Spark</code>Spark Hadoop </p>\n<p>5<code>Flink</code>Flink  </p>\n<p>6<code>Oozie</code>Oozie Hadoop job </p>\n<p>7<code>Hbase</code>HBase HBase  </p>\n<p>8<code>Hive</code>Hive Hadoop SQL SQL MapReduce SQL MapReduce MapReduce  </p>\n<p>9<code>ZooKeeper</code></p>\n<p><strong>1.3.6 </strong></p>\n<p></p>\n <img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202312111527591.png\" alt=\"\">\n\n<p><strong>1.3.7 </strong></p>\n<img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202312111537682.png\" alt=\"\">\n\n<h2 id=\"2-Hadoop-\"><a href=\"#2-Hadoop-\" class=\"headerlink\" title=\"2. Hadoop \"></a>2. Hadoop </h2><p>:</p>\n<table>\n<thead>\n<tr>\n<th></th>\n<th>ip</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>master</td>\n<td>192.168.1.10</td>\n</tr>\n<tr>\n<td>slave1</td>\n<td>192.168.1.20</td>\n</tr>\n<tr>\n<td>slave2</td>\n<td>192.168.1.30</td>\n</tr>\n</tbody></table>\n<h3 id=\"2-1-\"><a href=\"#2-1-\" class=\"headerlink\" title=\"2.1 \"></a>2.1 </h3><pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">hostnamectl set-hostname master <span class=\"token operator\">&amp;&amp;</span> <span class=\"token function\">bash</span>\nhostnamectl set-hostname slave1 <span class=\"token operator\">&amp;&amp;</span> <span class=\"token function\">bash</span>\nhostnamectl set-hostname slave2 <span class=\"token operator\">&amp;&amp;</span> <span class=\"token function\">bash</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n\n<h3 id=\"2-2-hosts\"><a href=\"#2-2-hosts\" class=\"headerlink\" title=\"2.2 hosts\"></a>2.2 hosts</h3><blockquote>\n<p></p>\n</blockquote>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token punctuation\">[</span>root@master ~<span class=\"token punctuation\">]</span><span class=\"token comment\"># cat /etc/hosts</span>\n<span class=\"token number\">127.0</span>.0.1\tlocalhost\n::1\tlocalhost ip6-localhost ip6-loopback\nfe00::0\tip6-localnet\nff00::0\tip6-mcastprefix\nff02::1\tip6-allnodes\nff02::2\tip6-allrouters\n<span class=\"token number\">192.168</span>.1.10\tmaster\n<span class=\"token number\">192.168</span>.1.20\tslave1\n<span class=\"token number\">192.168</span>.1.30\tslave2<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">systemctl stop firewalld\nsystemctl disable firewalld<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n\n<h3 id=\"2-3-\"><a href=\"#2-3-\" class=\"headerlink\" title=\"2.3 \"></a>2.3 </h3><h4 id=\"2-3-1-\"><a href=\"#2-3-1-\" class=\"headerlink\" title=\"2.3.1 \"></a>2.3.1 </h4><pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token punctuation\">[</span>root@master ~<span class=\"token punctuation\">]</span><span class=\"token comment\"># ssh-keygen -t rsa\t\t#</span>\n\n<span class=\"token punctuation\">[</span>root@master ~<span class=\"token punctuation\">]</span><span class=\"token comment\"># ssh-keygen -f ~/.ssh/id_rsa -P '' #</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n\n<p><img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202312111607877.png\" alt=\"image-20230321114300354\"></p>\n<h4 id=\"2-3-2-\"><a href=\"#2-3-2-\" class=\"headerlink\" title=\"2.3.2 \"></a>2.3.2 </h4><pre class=\"line-numbers language-hss\" data-language=\"hss\"><code class=\"language-hss\">ssh-copy-id master\nssh-copy-id slave1\nssh-copy-id slave2<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n\n<p><img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202312111607997.png\" alt=\"image-20230321115337762\"></p>\n<p>()</p>\n<h3 id=\"2-4-JDK\"><a href=\"#2-4-JDK\" class=\"headerlink\" title=\"2.4 JDK\"></a>2.4 JDK</h3><p></p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token punctuation\">[</span>root@master ~<span class=\"token punctuation\">]</span><span class=\"token comment\"># tar -zxvf /opt/software/jdk-8u162-linux-x64.tar.gz -C /opt/module/</span>\n\n<span class=\"token punctuation\">[</span>root@master ~<span class=\"token punctuation\">]</span><span class=\"token comment\"># cd /opt/module/\t#</span>\n<span class=\"token punctuation\">[</span>root@master module<span class=\"token punctuation\">]</span><span class=\"token comment\"># mv jdk1.8.0_162/ jdk</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>jdk</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token punctuation\">[</span>root@master module<span class=\"token punctuation\">]</span><span class=\"token comment\"># vi /etc/profile</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p></p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token comment\">#JAVA_HOME</span>\n<span class=\"token builtin class-name\">export</span> <span class=\"token assign-left variable\">JAVA_HOME</span><span class=\"token operator\">=</span>/opt/module/jdk\n<span class=\"token builtin class-name\">export</span> <span class=\"token assign-left variable\"><span class=\"token environment constant\">PATH</span></span><span class=\"token operator\">=</span><span class=\"token environment constant\">$PATH</span><span class=\"token builtin class-name\">:</span><span class=\"token variable\">$JAVA_HOME</span>/bin:<span class=\"token variable\">$JAVA_HOME</span>/jre/bin<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n\n<p></p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token punctuation\">[</span>root@master module<span class=\"token punctuation\">]</span><span class=\"token comment\"># source /etc/profile</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p>jdk</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token punctuation\">[</span>root@master module<span class=\"token punctuation\">]</span><span class=\"token comment\"># java -version</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p><img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202312111617633.png\" alt=\"image-20230321122027954\"></p>\n<p>JDK</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token punctuation\">[</span>root@master module<span class=\"token punctuation\">]</span><span class=\"token comment\"># scp /etc/profile root@slave1:/etc/profile</span>\n<span class=\"token punctuation\">[</span>root@master module<span class=\"token punctuation\">]</span><span class=\"token comment\"># scp /etc/profile root@slave2:/etc/profile</span>\n\n<span class=\"token punctuation\">[</span>root@master module<span class=\"token punctuation\">]</span><span class=\"token comment\"># scp -rq jdk/ root@slave1:/opt/module/</span>\n<span class=\"token punctuation\">[</span>root@master module<span class=\"token punctuation\">]</span><span class=\"token comment\"># scp -rq jdk/ root@slave2:/opt/module/</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p><img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202312111617652.png\" alt=\"image-20230321122308314\"></p>\n<p>JAVA</p>\n<p>slave1</p>\n<p><img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202312111617692.png\" alt=\"image-20230321122633530\"></p>\n<p>slave2</p>\n<p><img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202312111617803.png\" alt=\"image-20230321122717175\"></p>\n<p></p>\n<blockquote>\n<p>jpsall()</p>\n</blockquote>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">vi</span> <span class=\"token variable\">$JAVA_HOME</span>/bin/jpsall\n<span class=\"token function\">chmod</span> +x <span class=\"token variable\">$JAVA_HOME</span>/bin/jpsall<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n\n<p>:</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token shebang important\">#!/bin/bash</span>\n<span class=\"token keyword\">for</span> <span class=\"token for-or-select variable\">hostname</span> <span class=\"token keyword\">in</span> master slave1 slave2\n<span class=\"token keyword\">do</span>\n  <span class=\"token builtin class-name\">echo</span> <span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">=</span><span class=\"token variable\">$hostname</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span>\n  <span class=\"token function\">ssh</span> <span class=\"token variable\">$hostname</span> <span class=\"token string\">\". /etc/profile; jps\"</span>\n<span class=\"token keyword\">done</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h3 id=\"2-5-Hadoop\"><a href=\"#2-5-Hadoop\" class=\"headerlink\" title=\"2.5 Hadoop\"></a>2.5 Hadoop</h3><blockquote>\n<p>3jdk</p>\n</blockquote>\n<h4 id=\"2-5-1-\"><a href=\"#2-5-1-\" class=\"headerlink\" title=\"2.5.1 \"></a>2.5.1 </h4><pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token punctuation\">[</span>root@master module<span class=\"token punctuation\">]</span><span class=\"token comment\"># tar -zxvf /opt/software/hadoop-3.1.3.tar.gz -C /opt/module/</span>\n<span class=\"token punctuation\">[</span>root@master module<span class=\"token punctuation\">]</span><span class=\"token comment\"># mv hadoop-3.1.3/ hadoop\t#</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n\n<h4 id=\"2-5-2-hadoop\"><a href=\"#2-5-2-hadoop\" class=\"headerlink\" title=\"2.5.2 hadoop\"></a>2.5.2 hadoop</h4><pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token punctuation\">[</span>root@master module<span class=\"token punctuation\">]</span><span class=\"token comment\"># vi /etc/profile</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p></p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token comment\">#HADOOP</span>\n<span class=\"token builtin class-name\">export</span> <span class=\"token assign-left variable\">HADOOP_HOME</span><span class=\"token operator\">=</span>/opt/module/hadoop\n<span class=\"token builtin class-name\">export</span> <span class=\"token assign-left variable\"><span class=\"token environment constant\">PATH</span></span><span class=\"token operator\">=</span><span class=\"token environment constant\">$PATH</span><span class=\"token builtin class-name\">:</span><span class=\"token variable\">$HADOOP_HOME</span>/bin:<span class=\"token variable\">$HADOOP_HOME</span>/sbin\n<span class=\"token builtin class-name\">export</span> <span class=\"token assign-left variable\">HADOOP_CLASSPATH</span><span class=\"token operator\">=</span><span class=\"token variable\"><span class=\"token variable\">`</span>$HADOOP_HOME/bin/hadoop classpath<span class=\"token variable\">`</span></span>\n<span class=\"token builtin class-name\">export</span> <span class=\"token assign-left variable\">HDFS_NAMENODE_USER</span><span class=\"token operator\">=</span>root\n<span class=\"token builtin class-name\">export</span> <span class=\"token assign-left variable\">HDFS_DATANODE_USER</span><span class=\"token operator\">=</span>root\n<span class=\"token builtin class-name\">export</span> <span class=\"token assign-left variable\">HDFS_SECONDARYNAMENODE_USER</span><span class=\"token operator\">=</span>root\n<span class=\"token builtin class-name\">export</span> <span class=\"token assign-left variable\">YARN_RESOURCEMANAGER_USER</span><span class=\"token operator\">=</span>root\n<span class=\"token builtin class-name\">export</span> <span class=\"token assign-left variable\">YARN_NODEMANAGER_USER</span><span class=\"token operator\">=</span>root\n\n<span class=\"token comment\">#3.0</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>wq </p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token punctuation\">[</span>root@master module<span class=\"token punctuation\">]</span><span class=\"token comment\"># source /etc/profile</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p>hadoop </p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token punctuation\">[</span>root@master module<span class=\"token punctuation\">]</span><span class=\"token comment\"># hadoop version</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p><img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202312111621421.png\" alt=\"image-20230321124056646\"></p>\n<h3 id=\"2-6-6\"><a href=\"#2-6-6\" class=\"headerlink\" title=\"2.6 6\"></a>2.6 6</h3><ul>\n<li>:one: core.site.xml </li>\n<li>:two: hdfs-site.xml </li>\n<li>:three: mapred-site.xml </li>\n<li>:four:yarn-site.xml </li>\n<li>:five: hadoop-env.sh </li>\n<li>:six: workers</li>\n</ul>\n<p>&#x3D;&#x3D;&#x3D;&#x3D;</p>\n<blockquote>\n<p>:<code>\\hadoop-3.1.3\\share\\doc\\hadoop</code></p>\n</blockquote>\n<p><img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202401042227312.png\" alt=\"image-20240104222735234\"></p>\n<p><img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202401042226052.png\" alt=\"image-20240104222630568\"></p>\n<p>:</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">find</span> ./ <span class=\"token parameter variable\">-name</span> <span class=\"token string\">\"core-de*\"</span> <span class=\"token parameter variable\">-o</span> <span class=\"token parameter variable\">-name</span> <span class=\"token string\">\"hdfs-de*\"</span> <span class=\"token parameter variable\">-o</span> <span class=\"token parameter variable\">-name</span> <span class=\"token string\">\"mapred-de*\"</span> <span class=\"token parameter variable\">-o</span> <span class=\"token parameter variable\">-name</span> <span class=\"token string\">\"yarn-de*\"</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p><img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202401051527779.png\" alt=\"image-20240105152739131\"></p>\n<p>()</p>\n<h4 id=\"2-6-1\"><a href=\"#2-6-1\" class=\"headerlink\" title=\"2.6.1\"></a>2.6.1</h4><pre class=\"line-numbers language-SH\" data-language=\"SH\"><code class=\"language-SH\">[root@master module]# cd hadoop&#x2F;etc&#x2F;hadoop&#x2F;\n[root@master hadoop]# ll<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n\n<p></p>\n<p><img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202312111630756.png\" alt=\"image-20230321124310396\"></p>\n<p>6</p>\n<h4 id=\"2-6-2-hadoop-env-sh\"><a href=\"#2-6-2-hadoop-env-sh\" class=\"headerlink\" title=\"2.6.2 hadoop-env.sh\"></a>2.6.2 hadoop-env.sh</h4><pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token punctuation\">[</span>root@master hadoop<span class=\"token punctuation\">]</span><span class=\"token comment\"># vi hadoop-env.sh #hadoop jdk</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p><img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202312111630692.png\" alt=\"image-20230321124524896\"></p>\n<h4 id=\"2-6-3-workers\"><a href=\"#2-6-3-workers\" class=\"headerlink\" title=\"2.6.3 workers\"></a>2.6.3 workers</h4><p></p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token punctuation\">[</span>root@master hadoop<span class=\"token punctuation\">]</span><span class=\"token comment\"># vi workers</span>\nmaster\nslave1\nslave2<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p><img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202312111630688.png\" alt=\"image-20230321124806539\"></p>\n<h4 id=\"2-6-4-core-site-xml\"><a href=\"#2-6-4-core-site-xml\" class=\"headerlink\" title=\"2.6.4 core.site.xml\"></a>2.6.4 core.site.xml</h4><p><img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202401042229494.png\" alt=\"image-20240104222915427\"></p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token punctuation\">[</span>root@master hadoop<span class=\"token punctuation\">]</span><span class=\"token comment\"># vi core-site.xml</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<pre class=\"line-numbers language-markup\" data-language=\"markup\"><code class=\"language-markup\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>configuration</span><span class=\"token punctuation\">></span></span>\n<span class=\"token comment\">&lt;!-- hdfsschame,ip,port--></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>property</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>name</span><span class=\"token punctuation\">></span></span>fs.defaultFS<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>name</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>value</span><span class=\"token punctuation\">></span></span>hdfs://master:9000<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>value</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>property</span><span class=\"token punctuation\">></span></span>\n<span class=\"token comment\">&lt;!-- hdfs --></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>property</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>name</span><span class=\"token punctuation\">></span></span>hadoop.tmp.dir<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>name</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>value</span><span class=\"token punctuation\">></span></span>/root/hadoopdir/tmp<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>value</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>property</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>configuration</span><span class=\"token punctuation\">></span></span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h4 id=\"2-6-5-hdfs-site-xml\"><a href=\"#2-6-5-hdfs-site-xml\" class=\"headerlink\" title=\"2.6.5 hdfs.site.xml:\"></a>2.6.5 hdfs.site.xml:</h4><pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token punctuation\">[</span>root@master hadoop<span class=\"token punctuation\">]</span><span class=\"token comment\"># vi hdfs-site.xml </span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<pre class=\"line-numbers language-markup\" data-language=\"markup\"><code class=\"language-markup\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>configuration</span><span class=\"token punctuation\">></span></span>\n<span class=\"token comment\">&lt;!-- namenodefsimage--></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>property</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>name</span><span class=\"token punctuation\">></span></span>dfs.namenode.name.dir<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>name</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>value</span><span class=\"token punctuation\">></span></span>/root/hadoopdir/dfs/name<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>value</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>property</span><span class=\"token punctuation\">></span></span>\n<span class=\"token comment\">&lt;!-- DFS--></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>property</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>name</span><span class=\"token punctuation\">></span></span>dfs.datanode.data.dir<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>name</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>value</span><span class=\"token punctuation\">></span></span>/root/hadoopdir/dfs/data<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>value</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>property</span><span class=\"token punctuation\">></span></span>\n<span class=\"token comment\">&lt;!-- --></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>property</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>name</span><span class=\"token punctuation\">></span></span>dfs.replication<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>name</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>value</span><span class=\"token punctuation\">></span></span>3<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>value</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>property</span><span class=\"token punctuation\">></span></span>\n<span class=\"token comment\">&lt;!-- (128M),--></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>property</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>name</span><span class=\"token punctuation\">></span></span>dfs.blocksize<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>name</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>value</span><span class=\"token punctuation\">></span></span>134217728<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>value</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>property</span><span class=\"token punctuation\">></span></span>\n<span class=\"token comment\">&lt;!-- secondarynamenodehttp--></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>property</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>name</span><span class=\"token punctuation\">></span></span>dfs.namenode.secondary.http-address<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>name</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>value</span><span class=\"token punctuation\">></span></span>master:9868<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>value</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>property</span><span class=\"token punctuation\">></span></span>\n<span class=\"token comment\">&lt;!-- namenodehttp--></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>property</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>name</span><span class=\"token punctuation\">></span></span>dfs.namenode.http-address<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>name</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>value</span><span class=\"token punctuation\">></span></span>master:9870<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>value</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>property</span><span class=\"token punctuation\">></span></span>\n<span class=\"token comment\">&lt;!--HDFSWeb3.09870--></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>property</span><span class=\"token punctuation\">></span></span>\n\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>name</span><span class=\"token punctuation\">></span></span>dfs.webhdfs.enabled<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>name</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>value</span><span class=\"token punctuation\">></span></span>true<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>value</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>property</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>configuration</span><span class=\"token punctuation\">></span></span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h4 id=\"2-6-6-mapred-site-xml\"><a href=\"#2-6-6-mapred-site-xml\" class=\"headerlink\" title=\"2.6.6 mapred-site.xml:\"></a>2.6.6 mapred-site.xml:</h4><pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token punctuation\">[</span>root@master hadoop<span class=\"token punctuation\">]</span><span class=\"token comment\"># vi mapred-site.xml </span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<pre class=\"line-numbers language-markup\" data-language=\"markup\"><code class=\"language-markup\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>configuration</span><span class=\"token punctuation\">></span></span>\n<span class=\"token comment\">&lt;!-- mapreduceyarn--></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>property</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>name</span><span class=\"token punctuation\">></span></span>mapreduce.framework.name<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>name</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>value</span><span class=\"token punctuation\">></span></span>yarn<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>value</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>property</span><span class=\"token punctuation\">></span></span>\n<span class=\"token comment\">&lt;!-- --></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>property</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>name</span><span class=\"token punctuation\">></span></span>mapreduce.jobhistory.address<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>name</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>value</span><span class=\"token punctuation\">></span></span>master:10020<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>value</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>property</span><span class=\"token punctuation\">></span></span>\n<span class=\"token comment\">&lt;!-- http--></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>property</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>name</span><span class=\"token punctuation\">></span></span>mapreduce.jobhistory.webapp.address<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>name</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>value</span><span class=\"token punctuation\">></span></span>master:19888<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>value</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>property</span><span class=\"token punctuation\">></span></span>\n<span class=\"token comment\">&lt;!-- MapReduce  Hadoop   hive--></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>property</span><span class=\"token punctuation\">></span></span>\n       \t\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>name</span><span class=\"token punctuation\">></span></span>yarn.app.mapreduce.am.env<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>name</span><span class=\"token punctuation\">></span></span>\n        \t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>value</span><span class=\"token punctuation\">></span></span>HADOOP_MAPRED_HOME=$&#123;HADOOP_HOME&#125;<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>value</span><span class=\"token punctuation\">></span></span>\n\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>property</span><span class=\"token punctuation\">></span></span>\n\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>property</span><span class=\"token punctuation\">></span></span>\n      \t\t  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>name</span><span class=\"token punctuation\">></span></span>mapreduce.map.env<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>name</span><span class=\"token punctuation\">></span></span>\n      \t\t  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>value</span><span class=\"token punctuation\">></span></span>HADOOP_MAPRED_HOME=$&#123;HADOOP_HOME&#125;<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>value</span><span class=\"token punctuation\">></span></span>\n\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>property</span><span class=\"token punctuation\">></span></span>\n\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>property</span><span class=\"token punctuation\">></span></span>\n       \t\t <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>name</span><span class=\"token punctuation\">></span></span>mapreduce.reduce.env<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>name</span><span class=\"token punctuation\">></span></span>\n      \t\t <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>value</span><span class=\"token punctuation\">></span></span>HADOOP_MAPRED_HOME=$&#123;HADOOP_HOME&#125;<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>value</span><span class=\"token punctuation\">></span></span>\n\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>property</span><span class=\"token punctuation\">></span></span>   \n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>configuration</span><span class=\"token punctuation\">></span></span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h4 id=\"2-6-7-yarn-site-xml\"><a href=\"#2-6-7-yarn-site-xml\" class=\"headerlink\" title=\"2.6.7 yarn-site.xml:\"></a>2.6.7 yarn-site.xml:</h4><pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token punctuation\">[</span>root@master hadoop<span class=\"token punctuation\">]</span><span class=\"token comment\"># vi yarn-site.xml</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<pre class=\"line-numbers language-markup\" data-language=\"markup\"><code class=\"language-markup\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>configuration</span><span class=\"token punctuation\">></span></span>\n<span class=\"token comment\">&lt;!-- Site specific YARN configuration properties --></span>\n\t<span class=\"token comment\">&lt;!-- NodeManagershuffle --></span>\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>property</span><span class=\"token punctuation\">></span></span>\n\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>name</span><span class=\"token punctuation\">></span></span>yarn.nodemanager.aux-services<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>name</span><span class=\"token punctuation\">></span></span>\n\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>value</span><span class=\"token punctuation\">></span></span>mapreduce_shuffle<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>value</span><span class=\"token punctuation\">></span></span>\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>property</span><span class=\"token punctuation\">></span></span>\n\t<span class=\"token comment\">&lt;!-- YARNResourceManager --></span>\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>property</span><span class=\"token punctuation\">></span></span>\n\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>name</span><span class=\"token punctuation\">></span></span>yarn.resourcemanager.hostname<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>name</span><span class=\"token punctuation\">></span></span>\n\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>value</span><span class=\"token punctuation\">></span></span>master<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>value</span><span class=\"token punctuation\">></span></span>\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>property</span><span class=\"token punctuation\">></span></span>\n\t<span class=\"token comment\">&lt;!-- yarnweb --></span>\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>property</span><span class=\"token punctuation\">></span></span>\n\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>name</span><span class=\"token punctuation\">></span></span>yarn.resourcemanager.webapp.address<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>name</span><span class=\"token punctuation\">></span></span>\n\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>value</span><span class=\"token punctuation\">></span></span>master:8088<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>value</span><span class=\"token punctuation\">></span></span>\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>property</span><span class=\"token punctuation\">></span></span>\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>property</span><span class=\"token punctuation\">></span></span>\n\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>name</span><span class=\"token punctuation\">></span></span>yarn.resourcemanager.webapp.https.address<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>name</span><span class=\"token punctuation\">></span></span>\n\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>value</span><span class=\"token punctuation\">></span></span>master:8090<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>value</span><span class=\"token punctuation\">></span></span>\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>property</span><span class=\"token punctuation\">></span></span>\n\t<span class=\"token comment\">&lt;!--  --></span>\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>property</span><span class=\"token punctuation\">></span></span>\n\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>name</span><span class=\"token punctuation\">></span></span>yarn.log-aggregation-enable<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>name</span><span class=\"token punctuation\">></span></span>\n\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>value</span><span class=\"token punctuation\">></span></span>true<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>value</span><span class=\"token punctuation\">></span></span>\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>property</span><span class=\"token punctuation\">></span></span>\n\t<span class=\"token comment\">&lt;!-- hdfs --></span>\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>property</span><span class=\"token punctuation\">></span></span>\n\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>name</span><span class=\"token punctuation\">></span></span>yarn.log-aggregation.retain-seconds<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>name</span><span class=\"token punctuation\">></span></span>\n\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>value</span><span class=\"token punctuation\">></span></span>604800<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>value</span><span class=\"token punctuation\">></span></span>\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>property</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>configuration</span><span class=\"token punctuation\">></span></span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>hadoop 2.X webhdfs500703.X9870</p>\n<h4 id=\"2-6-8-\"><a href=\"#2-6-8-\" class=\"headerlink\" title=\"2.6.8 \"></a>2.6.8 </h4><pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token punctuation\">[</span>root@master module<span class=\"token punctuation\">]</span><span class=\"token comment\"># scp /etc/profile root@slave1:/etc/profile</span>\n<span class=\"token punctuation\">[</span>root@master module<span class=\"token punctuation\">]</span><span class=\"token comment\"># scp /etc/profile root@slave2:/etc/profile</span>\n\n<span class=\"token punctuation\">[</span>root@master module<span class=\"token punctuation\">]</span><span class=\"token comment\"># scp -r /opt/module/hadoop root@slave1:/opt/module</span>\n<span class=\"token punctuation\">[</span>root@master module<span class=\"token punctuation\">]</span><span class=\"token comment\"># scp -r /opt/module/hadoop root@slave2:/opt/module</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p></p>\n<h4 id=\"2-6-9-namenode\"><a href=\"#2-6-9-namenode\" class=\"headerlink\" title=\"2.6.9 namenode\"></a>2.6.9 namenode</h4><pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token punctuation\">[</span>root@master ~<span class=\"token punctuation\">]</span><span class=\"token comment\"># hdfs namenode -format</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p></p>\n<p><img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202312111630315.png\" alt=\"image-20230320183413920\"></p>\n<h4 id=\"2-6-10-\"><a href=\"#2-6-10-\" class=\"headerlink\" title=\"2.6.10 \"></a>2.6.10 </h4><p></p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token punctuation\">[</span>root@master ~<span class=\"token punctuation\">]</span><span class=\"token comment\"># start-all.sh </span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p>:</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">1:\njps\n2:<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\njpsall<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p></p>\n<p><img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202312111630752.png\"></p>\n<p><img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202401051740271.png\" alt=\"image-20240105174003166\"></p>\n<h3 id=\"2-7-web\"><a href=\"#2-7-web\" class=\"headerlink\" title=\"2.7 web\"></a>2.7 web</h3><p><a href=\"http://ip:9870/\">http://ip:9870</a></p>\n<p><a href=\"http://ip:8088/\">http://ip:8088</a></p>\n<p><img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202401051531566.png\" alt=\"image-20240105153102460\"></p>\n<p><img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202401051531631.png\" alt=\"image-20240105153114530\"></p>\n<p><img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202401051531093.png\" alt=\"image-20240105153148000\"></p>\n<p></p>\n<h2 id=\"3-Hadoop-HA\"><a href=\"#3-Hadoop-HA\" class=\"headerlink\" title=\"3. Hadoop HA\"></a>3. Hadoop HA</h2><h3 id=\"3-1-zookeeper\"><a href=\"#3-1-zookeeper\" class=\"headerlink\" title=\"3.1 zookeeper\"></a>3.1 zookeeper</h3><h4 id=\"3-1-1-\"><a href=\"#3-1-1-\" class=\"headerlink\" title=\"3.1.1 \"></a>3.1.1 </h4><pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token punctuation\">[</span>root@master ~<span class=\"token punctuation\">]</span><span class=\"token comment\"># tar -zxvf /opt/software/zookeeper-3.4.6.tar.gz -C /opt/module/</span>\n<span class=\"token punctuation\">[</span>root@master ~<span class=\"token punctuation\">]</span><span class=\"token comment\"># mv /opt/module/zookeeper-3.4.6/ /opt/module/zookeeper</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n\n<blockquote>\n<p></p>\n</blockquote>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token comment\">#</span>\n<span class=\"token function\">mkdir</span> /opt/module/zookeeper/data\n<span class=\"token comment\">#</span>\n<span class=\"token function\">mkdir</span> /opt/module/zookeeper/logs<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h4 id=\"3-1-2-\"><a href=\"#3-1-2-\" class=\"headerlink\" title=\"3.1.2 \"></a>3.1.2 </h4><blockquote>\n<p></p>\n</blockquote>\n<p>:</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token comment\">#zookeeper</span>\n<span class=\"token builtin class-name\">export</span> <span class=\"token assign-left variable\">ZK_HOME</span><span class=\"token operator\">=</span>/opt/module/zookeeper\n<span class=\"token builtin class-name\">export</span> <span class=\"token assign-left variable\"><span class=\"token environment constant\">PATH</span></span><span class=\"token operator\">=</span><span class=\"token environment constant\">$PATH</span><span class=\"token builtin class-name\">:</span><span class=\"token variable\">$ZK_HOME</span>/bin<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">cat</span> <span class=\"token operator\">>></span>/etc/profile<span class=\"token operator\">&lt;&lt;</span><span class=\"token string\">EOF\n#zookeeper\nexport ZK_HOME=/opt/module/zookeeper\nexport PATH=\\<span class=\"token environment constant\">$PATH</span>:\\<span class=\"token variable\">$ZK_HOME</span>/bin\nEOF</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>:</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token builtin class-name\">source</span> /etc/profile<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<h4 id=\"3-1-3-zoo-cfg\"><a href=\"#3-1-3-zoo-cfg\" class=\"headerlink\" title=\"3.1.3 zoo.cfg\"></a>3.1.3 zoo.cfg</h4><pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">\n<span class=\"token punctuation\">[</span>root@master ~<span class=\"token punctuation\">]</span><span class=\"token comment\"># mkdir /opt/module/zookeeper/&#123;data,logs&#125;</span>\n<span class=\"token punctuation\">[</span>root@master ~<span class=\"token punctuation\">]</span><span class=\"token comment\"># cp /opt/module/zookeeper/conf/zoo_sample.cfg /opt/module/zookeeper/conf/zoo.cfg</span>\n<span class=\"token punctuation\">[</span>root@master ~<span class=\"token punctuation\">]</span><span class=\"token comment\"># vi /opt/module/zookeeper/conf/zoo.cfg</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n\n<blockquote>\n<p>:</p>\n</blockquote>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token punctuation\">[</span>root@master conf<span class=\"token punctuation\">]</span><span class=\"token comment\"># cat zoo.cfg </span>\n<span class=\"token assign-left variable\">tickTime</span><span class=\"token operator\">=</span><span class=\"token number\">2000</span>\n<span class=\"token assign-left variable\">initLimit</span><span class=\"token operator\">=</span><span class=\"token number\">10</span>\n<span class=\"token assign-left variable\">syncLimit</span><span class=\"token operator\">=</span><span class=\"token number\">5</span>\n<span class=\"token assign-left variable\">dataDir</span><span class=\"token operator\">=</span>/opt/module/zookeeper/data\n<span class=\"token assign-left variable\">dataLogDir</span><span class=\"token operator\">=</span>/opt/module/zookeeper/logs\n<span class=\"token assign-left variable\">clientPort</span><span class=\"token operator\">=</span><span class=\"token number\">2181</span>\n<span class=\"token assign-left variable\">server.1</span><span class=\"token operator\">=</span>master:2888:3888\n<span class=\"token assign-left variable\">server.2</span><span class=\"token operator\">=</span>slave1:2888:3888\n<span class=\"token assign-left variable\">server.3</span><span class=\"token operator\">=</span>slave2:2888:3888<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>:</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token punctuation\">[</span>root@kafka1 opt<span class=\"token punctuation\">]</span><span class=\"token comment\"># grep -Ev \"#|^$\" /usr/local/zookeeper/conf/zoo.cfg </span>\n<span class=\"token assign-left variable\">tickTime</span><span class=\"token operator\">=</span><span class=\"token number\">2000</span>\n<span class=\"token assign-left variable\">initLimit</span><span class=\"token operator\">=</span><span class=\"token number\">10</span>\n<span class=\"token assign-left variable\">syncLimit</span><span class=\"token operator\">=</span><span class=\"token number\">5</span>\n<span class=\"token assign-left variable\">dataDir</span><span class=\"token operator\">=</span>/opt/module/zookeeper/data\n<span class=\"token assign-left variable\">dataLogDir</span><span class=\"token operator\">=</span>/opt/module/zookeeper/logs\n<span class=\"token assign-left variable\">clientPort</span><span class=\"token operator\">=</span><span class=\"token number\">2181</span>\n<span class=\"token assign-left variable\">maxClientCnxns</span><span class=\"token operator\">=</span><span class=\"token number\">4096</span>\t<span class=\"token comment\">#()</span>\n<span class=\"token assign-left variable\">autopurge.snapRetainCount</span><span class=\"token operator\">=</span><span class=\"token number\">128</span>   <span class=\"token comment\"># /opt/zookeeper()</span>\n<span class=\"token assign-left variable\">autopurge.purgeInterval</span><span class=\"token operator\">=</span><span class=\"token number\">1</span>   <span class=\"token comment\"># ()</span>\n<span class=\"token comment\"># </span>\n<span class=\"token assign-left variable\">server.1</span><span class=\"token operator\">=</span>master:2888:3888\n<span class=\"token assign-left variable\">server.2</span><span class=\"token operator\">=</span>slave1:2888:3888\n<span class=\"token assign-left variable\">server.3</span><span class=\"token operator\">=</span>slave2:2888:3888\n\n\n<span class=\"token assign-left variable\">server.A</span><span class=\"token operator\">=</span>B:C:D\n\nAmyidzookeeperzoo.cfgserver\nB\nCFollowerLeader\nDleaderleader<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>:<img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images202402201018515.png\" alt=\"image-20240105162313246\"></p>\n<h4 id=\"3-1-4-myid\"><a href=\"#3-1-4-myid\" class=\"headerlink\" title=\"3.1.4 myid\"></a>3.1.4 <code>myid</code></h4><pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token punctuation\">[</span>root@master zookeeper<span class=\"token punctuation\">]</span><span class=\"token comment\"># echo 1 > $ZK_HOME/data/myid</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<h4 id=\"3-1-5-myid\"><a href=\"#3-1-5-myid\" class=\"headerlink\" title=\"3.1.5 myid\"></a>3.1.5 myid</h4><blockquote>\n<p>:warning::,</p>\n</blockquote>\n<p>:</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token punctuation\">[</span>root@master ~<span class=\"token punctuation\">]</span><span class=\"token comment\"># scp -r /opt/module/zookeeper/ root@slave1:/opt/module/</span>\n<span class=\"token punctuation\">[</span>root@master ~<span class=\"token punctuation\">]</span><span class=\"token comment\"># scp -r /opt/module/zookeeper/ root@slave2:/opt/module/</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n\n<p>myid:</p>\n<p>slave1:</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token punctuation\">[</span>root@slave1 ~<span class=\"token punctuation\">]</span><span class=\"token comment\"># echo 2 > /opt/module/zookeeper/data/myid</span>\n<span class=\"token punctuation\">[</span>root@slave1 ~<span class=\"token punctuation\">]</span><span class=\"token comment\"># echo 2 > $ZK_HOME/data/myid</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n\n<p>slave2:</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token punctuation\">[</span>root@slave2 ~<span class=\"token punctuation\">]</span><span class=\"token comment\"># echo 3 > /opt/module/zookeeper/data/myid</span>\n<span class=\"token punctuation\">[</span>root@slave2 ~<span class=\"token punctuation\">]</span><span class=\"token comment\"># echo 3 > $ZK_HOME/data/myid</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n\n<h4 id=\"3-1-6-zk\"><a href=\"#3-1-6-zk\" class=\"headerlink\" title=\"3.1.6 zk\"></a>3.1.6 zk</h4><p>:</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">/opt/module/zookeeper/bin/zkServer.sh start<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p>:</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">/opt/module/zookeeper/bin/zkServer.sh status<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n\n\n<p>master:<img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images202402201020411.png\" alt=\"image-20240105165336746\"></p>\n<p>slave1:<img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images202402201020560.png\" alt=\"image-20240105165353343\"></p>\n<p>slave2:<img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images202402201020484.png\" alt=\"image-20240105165433958\"></p>\n<h3 id=\"3-2-Hadoop-HA\"><a href=\"#3-2-Hadoop-HA\" class=\"headerlink\" title=\"3.2 Hadoop HA\"></a>3.2 Hadoop HA</h3><p><code>2.6</code></p>\n<h4 id=\"3-2-1-hadoop-env-sh\"><a href=\"#3-2-1-hadoop-env-sh\" class=\"headerlink\" title=\"3.2.1 hadoop-env.sh\"></a>3.2.1 hadoop-env.sh</h4><p></p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token builtin class-name\">export</span> <span class=\"token assign-left variable\">JAVA_HOME</span><span class=\"token operator\">=</span>/opt/module/jdk1.8.0_162\n<span class=\"token builtin class-name\">export</span> <span class=\"token assign-left variable\">HDFS_NAMENODE_USER</span><span class=\"token operator\">=</span>root\n<span class=\"token builtin class-name\">export</span> <span class=\"token assign-left variable\">HDFS_DATANODE_USER</span><span class=\"token operator\">=</span>root\n<span class=\"token builtin class-name\">export</span> <span class=\"token assign-left variable\">HDFS_SECONDARYNAMENODE_USER</span><span class=\"token operator\">=</span>root\n<span class=\"token builtin class-name\">export</span> <span class=\"token assign-left variable\">YARN_RESOURCEMANAGER_USER</span><span class=\"token operator\">=</span>root\n<span class=\"token builtin class-name\">export</span> <span class=\"token assign-left variable\">YARN_NODEMANAGER_USER</span><span class=\"token operator\">=</span>root\n<span class=\"token comment\">#ha</span>\n<span class=\"token builtin class-name\">export</span> <span class=\"token assign-left variable\">HDFS_JOURNALNODE_USER</span><span class=\"token operator\">=</span>root\n<span class=\"token builtin class-name\">export</span> <span class=\"token assign-left variable\">HDFS_ZKFC_USER</span><span class=\"token operator\">=</span>root<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p></p>\n<p><img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images202402202007642.png\" alt=\"image-20240220200709576\"></p>\n<h4 id=\"3-2-2-workers\"><a href=\"#3-2-2-workers\" class=\"headerlink\" title=\"3.2.2 workers\"></a>3.2.2 workers</h4><p></p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token punctuation\">[</span>root@master hadoop<span class=\"token punctuation\">]</span><span class=\"token comment\"># cat workers</span>\nmaster\nslave1\nslave2<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h4 id=\"3-3-3-core-site-xml\"><a href=\"#3-3-3-core-site-xml\" class=\"headerlink\" title=\"3.3.3 core-site.xml\"></a>3.3.3 core-site.xml</h4><pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token punctuation\">[</span>root@master hadoop<span class=\"token punctuation\">]</span><span class=\"token comment\"># vim core-site.xml</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p></p>\n<pre class=\"line-numbers language-markup\" data-language=\"markup\"><code class=\"language-markup\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>configuration</span><span class=\"token punctuation\">></span></span>\n<span class=\"token comment\">&lt;!-- hdfsschame,ip,port--></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>property</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>name</span><span class=\"token punctuation\">></span></span>fs.defaultFS<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>name</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>value</span><span class=\"token punctuation\">></span></span>hdfs://master:9000<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>value</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>property</span><span class=\"token punctuation\">></span></span>\n<span class=\"token comment\">&lt;!-- hdfs --></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>property</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>name</span><span class=\"token punctuation\">></span></span>hadoop.tmp.dir<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>name</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>value</span><span class=\"token punctuation\">></span></span>/root/hadoopdir/tmp<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>value</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>property</span><span class=\"token punctuation\">></span></span>\n<span class=\"token comment\">&lt;!-- ha.zookeeper.quorum zookeeper, --></span>\n    \t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>property</span><span class=\"token punctuation\">></span></span>\n\t\t\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>name</span><span class=\"token punctuation\">></span></span>ha.zookeeper.quorum<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>name</span><span class=\"token punctuation\">></span></span>\n            \t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>value</span><span class=\"token punctuation\">></span></span>master:2181,slave1:2181,slave2:2181<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>value</span><span class=\"token punctuation\">></span></span>\n    \t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>property</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>configuration</span><span class=\"token punctuation\">></span></span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h4 id=\"3-3-4-hdfs-site-xml-star\"><a href=\"#3-3-4-hdfs-site-xml-star\" class=\"headerlink\" title=\"3.3.4 hdfs-site.xml:star:\"></a>3.3.4 hdfs-site.xml:star:</h4><pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token punctuation\">[</span>root@master hadoop<span class=\"token punctuation\">]</span><span class=\"token comment\"># vim hdfs-site.xml</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p></p>\n<pre class=\"line-numbers language-markup\" data-language=\"markup\"><code class=\"language-markup\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>configuration</span><span class=\"token punctuation\">></span></span>\n<span class=\"token comment\">&lt;!-- namenodenamenode--></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>property</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>name</span><span class=\"token punctuation\">></span></span>dfs.nameservices<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>name</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>value</span><span class=\"token punctuation\">></span></span>mycluster<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>value</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>property</span><span class=\"token punctuation\">></span></span>\n<span class=\"token comment\">&lt;!-- namenode--></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>property</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>name</span><span class=\"token punctuation\">></span></span>dfs.ha.namenodes.mycluster<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>name</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>value</span><span class=\"token punctuation\">></span></span>nn1,nn2<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>value</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>property</span><span class=\"token punctuation\">></span></span>\n<span class=\"token comment\">&lt;!-- 1 rpc --></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>property</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>name</span><span class=\"token punctuation\">></span></span>dfs.namenode.rpc-address.mycluster.nn1<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>name</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>value</span><span class=\"token punctuation\">></span></span>master:9000<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>value</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>property</span><span class=\"token punctuation\">></span></span>\n<span class=\"token comment\">&lt;!-- 2 rpc --></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>property</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>name</span><span class=\"token punctuation\">></span></span>dfs.namenode.rpc-address.mycluster.nn2<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>name</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>value</span><span class=\"token punctuation\">></span></span>slave1:9000<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>value</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>property</span><span class=\"token punctuation\">></span></span>\n<span class=\"token comment\">&lt;!-- Namenode 1 --></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>property</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>name</span><span class=\"token punctuation\">></span></span>dfs.namenode.http-address.mycluster.nn1<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>name</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>value</span><span class=\"token punctuation\">></span></span>master:9870<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>value</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>property</span><span class=\"token punctuation\">></span></span>   \n<span class=\"token comment\">&lt;!-- Namenode 2 --></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>property</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>name</span><span class=\"token punctuation\">></span></span>dfs.namenode.http-address.mycluster.nn2<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>name</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>value</span><span class=\"token punctuation\">></span></span>slave1:9870<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>value</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>property</span><span class=\"token punctuation\">></span></span> \n<span class=\"token comment\">&lt;!--JournalNode --></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>property</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>name</span><span class=\"token punctuation\">></span></span>dfs.namenode.shared.edits.dir<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>name</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>value</span><span class=\"token punctuation\">></span></span>qjournal://master:8485;slave1:8485;slave2:8485/mycluster<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>value</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>property</span><span class=\"token punctuation\">></span></span>\n<span class=\"token comment\">&lt;!-- namenodefsimage--></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>property</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>name</span><span class=\"token punctuation\">></span></span>dfs.namenode.name.dir<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>name</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>value</span><span class=\"token punctuation\">></span></span>/root/hadoopdir/dfs/name<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>value</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>property</span><span class=\"token punctuation\">></span></span>\n<span class=\"token comment\">&lt;!-- DFS--></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>property</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>name</span><span class=\"token punctuation\">></span></span>dfs.datanode.data.dir<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>name</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>value</span><span class=\"token punctuation\">></span></span>/root/hadoopdir/dfs/data<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>value</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>property</span><span class=\"token punctuation\">></span></span>\n<span class=\"token comment\">&lt;!--JournalNode --></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>property</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>name</span><span class=\"token punctuation\">></span></span>dfs.journalnode.edits.dir<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>name</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>value</span><span class=\"token punctuation\">></span></span>/root/hadoopdir/journal<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>value</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>property</span><span class=\"token punctuation\">></span></span>\n<span class=\"token comment\">&lt;!--Failover --></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>property</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>name</span><span class=\"token punctuation\">></span></span>dfs.client.failover.proxy.provider.mycluster<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>name</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>value</span><span class=\"token punctuation\">></span></span>org.apache.hadoop.hdfs.server.namenode.ha.ConfiguredFailoverProxyProvider<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>value</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>property</span><span class=\"token punctuation\">></span></span>\n<span class=\"token comment\">&lt;!--sshfence  ssh --></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>property</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>name</span><span class=\"token punctuation\">></span></span>dfs.ha.fencing.methods<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>name</span><span class=\"token punctuation\">></span></span>\n               <span class=\"token comment\">&lt;!-- &lt;value>sshfence&lt;/value>--></span>\n               <span class=\"token comment\">&lt;!--sshfencesshfencefalsefence--></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>value</span><span class=\"token punctuation\">></span></span>shell(true)<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>value</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>property</span><span class=\"token punctuation\">></span></span>\n<span class=\"token comment\">&lt;!--ssh --></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>property</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>name</span><span class=\"token punctuation\">></span></span>dfs.ha.fencing.ssh.private-key-files<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>name</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>value</span><span class=\"token punctuation\">></span></span>/root/.ssh/id_rsa<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>value</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>property</span><span class=\"token punctuation\">></span></span>\n<span class=\"token comment\">&lt;!--truefalse--></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>property</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>name</span><span class=\"token punctuation\">></span></span>dfs.ha.automatic-failover.enabled<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>name</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>value</span><span class=\"token punctuation\">></span></span>true<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>value</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>property</span><span class=\"token punctuation\">></span></span>\n<span class=\"token comment\">&lt;!----></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>property</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>name</span><span class=\"token punctuation\">></span></span>dfs.replication<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>name</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>value</span><span class=\"token punctuation\">></span></span>3<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>value</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>property</span><span class=\"token punctuation\">></span></span>   \n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>configuration</span><span class=\"token punctuation\">></span></span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h4 id=\"3-3-5-mapred-site-xml\"><a href=\"#3-3-5-mapred-site-xml\" class=\"headerlink\" title=\"3.3.5 mapred-site.xml\"></a>3.3.5 mapred-site.xml</h4><pre class=\"line-numbers language-markup\" data-language=\"markup\"><code class=\"language-markup\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>configuration</span><span class=\"token punctuation\">></span></span>\n\n<span class=\"token comment\">&lt;!-- mapreduceyarn--></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>property</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>name</span><span class=\"token punctuation\">></span></span>mapreduce.framework.name<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>name</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>value</span><span class=\"token punctuation\">></span></span>yarn<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>value</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>property</span><span class=\"token punctuation\">></span></span>\n<span class=\"token comment\">&lt;!-- --></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>property</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>name</span><span class=\"token punctuation\">></span></span>mapreduce.jobhistory.address<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>name</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>value</span><span class=\"token punctuation\">></span></span>master:10020<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>value</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>property</span><span class=\"token punctuation\">></span></span>\n<span class=\"token comment\">&lt;!-- http--></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>property</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>name</span><span class=\"token punctuation\">></span></span>mapreduce.jobhistory.webapp.address<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>name</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>value</span><span class=\"token punctuation\">></span></span>master:19888<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>value</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>property</span><span class=\"token punctuation\">></span></span>\n<span class=\"token comment\">&lt;!-- MapReduce  Hadoop   hive--></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>property</span><span class=\"token punctuation\">></span></span>\n       \t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>name</span><span class=\"token punctuation\">></span></span>yarn.app.mapreduce.am.env<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>name</span><span class=\"token punctuation\">></span></span>\n        \t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>value</span><span class=\"token punctuation\">></span></span>HADOOP_MAPRED_HOME=$&#123;HADOOP_HOME&#125;<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>value</span><span class=\"token punctuation\">></span></span>\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>property</span><span class=\"token punctuation\">></span></span>\n\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>property</span><span class=\"token punctuation\">></span></span>\n      \t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>name</span><span class=\"token punctuation\">></span></span>mapreduce.map.env<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>name</span><span class=\"token punctuation\">></span></span>\n      \t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>value</span><span class=\"token punctuation\">></span></span>HADOOP_MAPRED_HOME=$&#123;HADOOP_HOME&#125;<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>value</span><span class=\"token punctuation\">></span></span>\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>property</span><span class=\"token punctuation\">></span></span>\n\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>property</span><span class=\"token punctuation\">></span></span>\n       \t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>name</span><span class=\"token punctuation\">></span></span>mapreduce.reduce.env<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>name</span><span class=\"token punctuation\">></span></span>\n      \t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>value</span><span class=\"token punctuation\">></span></span>HADOOP_MAPRED_HOME=$&#123;HADOOP_HOME&#125;<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>value</span><span class=\"token punctuation\">></span></span>\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>property</span><span class=\"token punctuation\">></span></span>    \n\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>configuration</span><span class=\"token punctuation\">></span></span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h4 id=\"3-3-6-yarn-site-xml-star\"><a href=\"#3-3-6-yarn-site-xml-star\" class=\"headerlink\" title=\"3.3.6 yarn-site.xml:star:\"></a>3.3.6 yarn-site.xml:star:</h4><pre class=\"line-numbers language-markup\" data-language=\"markup\"><code class=\"language-markup\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>configuration</span><span class=\"token punctuation\">></span></span>\n<span class=\"token comment\">&lt;!-- NodeManagershuffle --></span>\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>property</span><span class=\"token punctuation\">></span></span>\n\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>name</span><span class=\"token punctuation\">></span></span>yarn.nodemanager.aux-services<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>name</span><span class=\"token punctuation\">></span></span>\n\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>value</span><span class=\"token punctuation\">></span></span>mapreduce_shuffle<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>value</span><span class=\"token punctuation\">></span></span>\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>property</span><span class=\"token punctuation\">></span></span>\n<span class=\"token comment\">&lt;!--HA --></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>property</span><span class=\"token punctuation\">></span></span>\n\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>name</span><span class=\"token punctuation\">></span></span>yarn.resourcemanager.ha.enabled<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>name</span><span class=\"token punctuation\">></span></span>\n\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>value</span><span class=\"token punctuation\">></span></span>true<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>value</span><span class=\"token punctuation\">></span></span>\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>property</span><span class=\"token punctuation\">></span></span>\n<span class=\"token comment\">&lt;!--  --></span>\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>property</span><span class=\"token punctuation\">></span></span>\n\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>name</span><span class=\"token punctuation\">></span></span>yarn.resourcemanager.recovery.enable<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>name</span><span class=\"token punctuation\">></span></span>\n\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>value</span><span class=\"token punctuation\">></span></span>true<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>value</span><span class=\"token punctuation\">></span></span>\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>property</span><span class=\"token punctuation\">></span></span>\n<span class=\"token comment\">&lt;!--  --></span>\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>property</span><span class=\"token punctuation\">></span></span>\n\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>name</span><span class=\"token punctuation\">></span></span>yarn.resourcemanager.store.class<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>name</span><span class=\"token punctuation\">></span></span>\n\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>value</span><span class=\"token punctuation\">></span></span>org.apache.hadoop.yarn.server.resourcemanager.recovery.ZKRMStateStore<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>value</span><span class=\"token punctuation\">></span></span>\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>property</span><span class=\"token punctuation\">></span></span>\n<span class=\"token comment\">&lt;!--zookeeper--></span>\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>property</span><span class=\"token punctuation\">></span></span>\n\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>name</span><span class=\"token punctuation\">></span></span>yarn.resourcemanager.zk-address<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>name</span><span class=\"token punctuation\">></span></span>\n\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>value</span><span class=\"token punctuation\">></span></span>master:2181,slave1:2181,slave2:2181<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>value</span><span class=\"token punctuation\">></span></span>\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>property</span><span class=\"token punctuation\">></span></span>\n<span class=\"token comment\">&lt;!-- ID--></span>\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>property</span><span class=\"token punctuation\">></span></span>\n\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>name</span><span class=\"token punctuation\">></span></span>yarn.resourcemanager.cluster-id<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>name</span><span class=\"token punctuation\">></span></span>\n\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>value</span><span class=\"token punctuation\">></span></span>yarn-ha<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>value</span><span class=\"token punctuation\">></span></span>\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>property</span><span class=\"token punctuation\">></span></span>\n<span class=\"token comment\">&lt;!-- resourcemanager --></span>\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>property</span><span class=\"token punctuation\">></span></span>\n\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>name</span><span class=\"token punctuation\">></span></span>yarn.resourcemanager.ha.rm-ids<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>name</span><span class=\"token punctuation\">></span></span>\n\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>value</span><span class=\"token punctuation\">></span></span>rm1,rm2<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>value</span><span class=\"token punctuation\">></span></span>\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>property</span><span class=\"token punctuation\">></span></span>  \n<span class=\"token comment\">&lt;!--1 --></span>\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>property</span><span class=\"token punctuation\">></span></span>\n\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>name</span><span class=\"token punctuation\">></span></span>yarn.resourcemanager.hostname.rm1<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>name</span><span class=\"token punctuation\">></span></span>\n\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>value</span><span class=\"token punctuation\">></span></span>master<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>value</span><span class=\"token punctuation\">></span></span>\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>property</span><span class=\"token punctuation\">></span></span>   \n<span class=\"token comment\">&lt;!--2 --></span>\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>property</span><span class=\"token punctuation\">></span></span>\n\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>name</span><span class=\"token punctuation\">></span></span>yarn.resourcemanager.hostname.rm2<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>name</span><span class=\"token punctuation\">></span></span>\n\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>value</span><span class=\"token punctuation\">></span></span>slave1<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>value</span><span class=\"token punctuation\">></span></span>\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>property</span><span class=\"token punctuation\">></span></span>         \n<span class=\"token comment\">&lt;!--  ()--></span>\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>property</span><span class=\"token punctuation\">></span></span>\n\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>name</span><span class=\"token punctuation\">></span></span>yarn.log-aggregation-enable<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>name</span><span class=\"token punctuation\">></span></span>\n\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>value</span><span class=\"token punctuation\">></span></span>true<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>value</span><span class=\"token punctuation\">></span></span>\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>property</span><span class=\"token punctuation\">></span></span>\n<span class=\"token comment\">&lt;!-- hdfs --></span>\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>property</span><span class=\"token punctuation\">></span></span>\n\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>name</span><span class=\"token punctuation\">></span></span>yarn.log-aggregation.retain-seconds<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>name</span><span class=\"token punctuation\">></span></span>\n\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>value</span><span class=\"token punctuation\">></span></span>604800<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>value</span><span class=\"token punctuation\">></span></span>\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>property</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>configuration</span><span class=\"token punctuation\">></span></span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<blockquote>\n<p>,:warning:</p>\n</blockquote>\n<h3 id=\"3-3-\"><a href=\"#3-3-\" class=\"headerlink\" title=\"3.3 \"></a>3.3 </h3><h4 id=\"3-3-1-journalnode\"><a href=\"#3-3-1-journalnode\" class=\"headerlink\" title=\"3.3.1 journalnode\"></a>3.3.1 journalnode</h4><blockquote>\n<p><code></code>journalnode</p>\n</blockquote>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">hadoop-daemon.sh start journalnode<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<h4 id=\"3-3-2-namenode\"><a href=\"#3-3-2-namenode\" class=\"headerlink\" title=\"3.3.2 namenode\"></a>3.3.2 namenode</h4><blockquote>\n<p>master(<code>nn1</code>)namenode</p>\n</blockquote>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">hdfs namenode <span class=\"token parameter variable\">-format</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<p></p>\n<p><img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images202402201950935.png\" alt=\"image-20240220195039832\"></p>\n<blockquote>\n<p><code>nn2</code>slave1</p>\n</blockquote>\n<p>:one: 1: (<code>nn1</code>)(<code>nn2</code>)</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">scp</span> <span class=\"token parameter variable\">-r</span> hadoopdir/dfs/ root@slave1:/root/hadoopdir<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p><img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images202402201951392.png\"></p>\n<p>:two: 2:(<code>nn2</code>)</p>\n<p>(<code>nn1</code>)namenode,(<code>nn2</code>),</p>\n<p><code>master</code>namenode,:</p>\n<p><img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202410062328858.png\" alt=\"image-20241006232852729\"></p>\n<p><code>Connection refused</code>NameNodeNameNode192.168.10.11:9000</p>\n<p><strong>:</strong></p>\n<p>1.master(nn1)namenode:</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token punctuation\">[</span>root@master ~<span class=\"token punctuation\">]</span><span class=\"token comment\"># hdfs --daemon start namenode</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p>2.slave1(nn2)</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token punctuation\">[</span>root@slave1 ~<span class=\"token punctuation\">]</span><span class=\"token comment\"># hdfs namenode -bootstrapStandby</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p><img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202410062326234.png\" alt=\"image-20241006232636095\"></p>\n<p>,<code>/root/hadoopdir</code>,:</p>\n<p><img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202410062332270.png\" alt=\"image-20241006233249156\"></p>\n<p>(21,scpovO)</p>\n<h4 id=\"3-3-3-masterzk\"><a href=\"#3-3-3-masterzk\" class=\"headerlink\" title=\"3.3.3 masterzk\"></a>3.3.3 masterzk</h4><pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">hdfs zkfc <span class=\"token parameter variable\">-formatZK</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<p></p>\n<p><img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202410062356870.png\" alt=\"image-20241006235656731\"></p>\n<h4 id=\"3-3-4-\"><a href=\"#3-3-4-\" class=\"headerlink\" title=\"3.3.4 \"></a>3.3.4 </h4><p>master</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">start-all.sh<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p>():</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">hadoop-daemon.sh start journalnode<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p></p>\n<p><img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images202402201954941.png\" alt=\"image-20240220195417889\"></p>\n<h3 id=\"3-4-nn2rm2\"><a href=\"#3-4-nn2rm2\" class=\"headerlink\" title=\"3.4 nn2rm2\"></a>3.4 nn2rm2</h3><pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token punctuation\">[</span>root@master ~<span class=\"token punctuation\">]</span><span class=\"token comment\"># hdfs haadmin -getServiceState nn2</span>\nactive<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n\n<p><img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images202403141257798.png\" alt=\"image-20240314125738637\"></p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token punctuation\">[</span>root@master ~<span class=\"token punctuation\">]</span><span class=\"token comment\"># yarn rmadmin -getServiceState rm2</span>\nactive<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n\n<p><img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images202403141259321.png\" alt=\"image-20240314125900240\"></p>\n<p></p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token punctuation\">[</span>root@master ~<span class=\"token punctuation\">]</span><span class=\"token comment\"># yarn rmadmin -getServiceState rm1</span>\nstandby\n<span class=\"token punctuation\">[</span>root@master ~<span class=\"token punctuation\">]</span><span class=\"token comment\"># yarn rmadmin -getServiceState rm2</span>\nactive\n<span class=\"token punctuation\">[</span>root@master ~<span class=\"token punctuation\">]</span><span class=\"token comment\"># hdfs haadmin -getServiceState nn1</span>\nstandby\n<span class=\"token punctuation\">[</span>root@master ~<span class=\"token punctuation\">]</span><span class=\"token comment\"># hdfs haadmin -getServiceState nn2</span>\nactive<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p><img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images202403141300299.png\" alt=\"image-20240314130004169\"></p>\n<h3 id=\"3-5-HA\"><a href=\"#3-5-HA\" class=\"headerlink\" title=\"3.5 HA\"></a>3.5 HA</h3><p></p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">hdfs <span class=\"token parameter variable\">--daemon</span> start namenode<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<blockquote>\n<p>192.168.10.10:9870 &#x2F; master:9870  <code></code></p>\n</blockquote>\n<p><img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images202402201957420.png\" alt=\"image-20240220195746352\"></p>\n<blockquote>\n<p>192.168.10.20:9870 &#x2F; slave1:9870\t<code></code></p>\n</blockquote>\n<p><img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images202402201959110.png\" alt=\"image-20240220195931025\"></p>\n<blockquote>\n<p>kill masternamenodeslave1web</p>\n</blockquote>\n<p><img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images202402202001326.png\" alt=\"image-20240220200123248\"></p>\n<p>masterweb</p>\n<p><img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images202402202002860.png\" alt=\"image-20240220200224797\"></p>\n<p>masternamenodenamenode</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token punctuation\">[</span>root@master ~<span class=\"token punctuation\">]</span><span class=\"token comment\"># hdfs --daemon start namenode</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p><img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images202402202004994.png\" alt=\"image-20240220200436908\"></p>\n<p>Hadoop HA</p>\n<h2 id=\"4-HDFS-\"><a href=\"#4-HDFS-\" class=\"headerlink\" title=\"4. HDFS \"></a>4. HDFS </h2><p>:</p>\n<table>\n<thead>\n<tr>\n<th></th>\n<th></th>\n</tr>\n</thead>\n<tbody><tr>\n<td>hdfs dfs -cat</td>\n<td></td>\n</tr>\n<tr>\n<td>hdfs dfs -chmod -R</td>\n<td></td>\n</tr>\n<tr>\n<td>hdfs dfs -copyFromLocal -f -l -p</td>\n<td> HDFS </td>\n</tr>\n<tr>\n<td>hdfs dfs -copyToLocal -p -ignoreCrc</td>\n<td></td>\n</tr>\n<tr>\n<td>hdfs dfs -put (-f -p -l)</td>\n<td>HDFS</td>\n</tr>\n<tr>\n<td>Hdfs dfs -find</td>\n<td></td>\n</tr>\n<tr>\n<td>hdfs dfs -help</td>\n<td></td>\n</tr>\n<tr>\n<td>hdfs dfs -mv</td>\n<td></td>\n</tr>\n<tr>\n<td>hdfs dfs -moveFromLocal</td>\n<td>HDFS</td>\n</tr>\n<tr>\n<td>hdfs dfs -moveToLocal</td>\n<td>HDFS</td>\n</tr>\n<tr>\n<td>hdfs dfs -mkdir -p</td>\n<td>HDFS</td>\n</tr>\n<tr>\n<td>hdfs dfs -rm -f -r</td>\n<td></td>\n</tr>\n<tr>\n<td>hdfs dfs -rmdir</td>\n<td>&#x2F;</td>\n</tr>\n</tbody></table>\n<p>:</p>\n<pre class=\"line-numbers language-powershell\" data-language=\"powershell\"><code class=\"language-powershell\">1hdfs dfs <span class=\"token operator\">-</span><span class=\"token function\">cat</span> \n2hdfs dfs <span class=\"token operator\">-</span>checksumMD5\n3hdfs dfs <span class=\"token operator\">-</span>chmod <span class=\"token operator\">-</span>R\n4Hdfs dfs <span class=\"token operator\">-</span>copyFromLocal <span class=\"token operator\">-</span>f <span class=\"token operator\">-</span>l <span class=\"token operator\">-</span>p HDFS \n5Hdfs dfs <span class=\"token operator\">-</span>copyToLocal <span class=\"token operator\">-</span>p <span class=\"token operator\">-</span>ignoreCrc \n6Hdfs dfs <span class=\"token operator\">-</span>count <span class=\"token operator\">-</span>q <span class=\"token operator\">-</span>h\n7dfs dfs <span class=\"token operator\">-</span>count <span class=\"token operator\">-</span>q <span class=\"token operator\">-</span>h\n8Hdfs dfs <span class=\"token operator\">-</span><span class=\"token function\">cp</span> <span class=\"token operator\">-</span>f <span class=\"token operator\">-</span>pwindwos HDFS  HDFS \n9Hdfs dfs <span class=\"token operator\">-</span>createSnapshot \n10Hdfs dfs <span class=\"token operator\">-</span>deleteSnapshot\n11Hdfs dfs <span class=\"token operator\">-</span>df <span class=\"token operator\">-</span>h\n12Hdfs dfs <span class=\"token operator\">-</span>du <span class=\"token operator\">-</span>s <span class=\"token operator\">-</span>h\n13Hdfs dfs <span class=\"token operator\">-</span>expunge\n14Hdfs dfs <span class=\"token operator\">-</span>find\n15Hdfs dfs <span class=\"token operator\">-</span>get <span class=\"token operator\">-</span>p <span class=\"token operator\">-</span>crc <span class=\"token operator\">-</span>ignoreCrc\n16hdfs dfs <span class=\"token operator\">-</span>getfacl <span class=\"token operator\">-</span>R ACL\n17hdfs dfs <span class=\"token operator\">-</span>getfatter <span class=\"token operator\">-</span>R\n18hdfs dfs <span class=\"token operator\">-</span>getmerge <span class=\"token operator\">-</span>nl\n19hdfs dfs <span class=\"token operator\">-</span>help\n20hdfs dfs <span class=\"token operator\">-</span><span class=\"token function\">ls</span> <span class=\"token operator\">-</span>d <span class=\"token operator\">-</span>h <span class=\"token operator\">-</span>R \n21hdfs dfs <span class=\"token operator\">-</span>mkdir <span class=\"token operator\">-</span>pHDFS\n22hdfs dfs <span class=\"token operator\">-</span>moveFromLocalHDFS\n23hdfs dfs <span class=\"token operator\">-</span>moveToLocalHDFS\n24hdfs dfs <span class=\"token operator\">-</span><span class=\"token function\">mv</span>\n25hdfs dfs <span class=\"token operator\">-</span>put <span class=\"token punctuation\">(</span><span class=\"token operator\">-</span>f <span class=\"token operator\">-</span>p <span class=\"token operator\">-</span>l<span class=\"token punctuation\">)</span>HDFS\n26hdfs dfs <span class=\"token operator\">-</span>renameSnapshot\n27hdfs dfs <span class=\"token operator\">-</span><span class=\"token function\">rm</span> <span class=\"token operator\">-</span>f <span class=\"token operator\">-</span>r\n28hdfs dfs <span class=\"token operator\">-</span><span class=\"token function\">rmdir</span> <span class=\"token operator\">/</span>\n29hdfs dfs <span class=\"token operator\">-</span>setfacl <span class=\"token operator\">-</span>R ACL\n30hdfs dfs <span class=\"token operator\">-</span>setfattr <span class=\"token operator\">-</span>n\n31hdfs dfs <span class=\"token operator\">-</span>setrep <span class=\"token operator\">-</span>R HDFS \n32hdfs dfs <span class=\"token operator\">-</span>stat\n33hdfs dfs <span class=\"token operator\">-</span>tail <span class=\"token operator\">-</span>f\n34hdfs dfs <span class=\"token operator\">-</span>test\n35hdfs dfs <span class=\"token operator\">-</span>text<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>"},{"title":"HiveHiveserver2 metastore","date":"2024-11-09T14:38:45.000Z","_content":"# Hive\n\n## 1. Hive\n\n### 1.1 Hive\n\nHiveFacebook\n\nHiveHadoop`````SQL`\n\n`HQLMapReduce`\n\n<img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202401071511957.png\" alt=\"image-20200916135459253\">\n\n1HiveHDFS\n\n2HiveMapReduce\n\n3Yarn\n\n### 1.2 Hive\n\n#### 1.2.1 \n\n1.  SQL \n1.  MapReduce \n1.  HiveHive \n1.  HiveHive\n1.  Hive\n\n#### 1.2.2 \n\n1HiveHQL\n\n1\n\n2\n\n\n\n2Hive\n\n1HiveMapReduce\n\n2Hive\n\n### 1.3Hive\n\n<img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202401071511001.png\" alt=\"img\">\n\n**1Client**\n\nCLIhive shellJDBC/ODBC(javahive)WEBUIhive\n\n\n\n**2Metastore**\n\ndefault/\n\n`derbyMySQLMetastore`\n\n\n\n**3Hadoop**\n\nHDFSMapReduce\n\n\n\n**4Driver**\n\n1SQL ParserSQLASTantlrASTSQL\n\n2Physical PlanAST\n\n3Query Optimizer\n\n4ExecutionHiveMR/Spark\n\n<img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202401071511219.png\" alt=\"image-20200916140721644\">\n\nHive(SQL)Driver(MetaStore)MapReduceHadoop\n\n\n\n## 2. Hive\n\n\n\n****:\n\n|  |  | ip       |  |\n| -------- | ---------- | ------------ | ---------- |\n| centos7  | master     | 192.168.1.10 | root       |\n| centos7  | slave1     | 192.168.1.20 | root       |\n| centos7  | slave2     | 192.168.1.30 | root       |\n\n****\n\n|    |   |\n| ------ | ----- |\n| java   | 1.8   |\n| Hadoop | 3.1.3 |\n| Hive   | 3.1.2 |\n| Mysql  | 5.7   |\n\n****\n\n|  |  |    |\n| ------ | ------ | ------ |\n| mysql  | root   | 123456 |\n\n### 2.1 mysql\n\n#### 2.1.1 rpm\n\n>  (1) mysql\n\n![image-20240107152437021](https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202401071524098.png)\n\n```sh\nrpm -Uvh *.rpm --nodeps --force\n```\n\n:![image-20240107152542173](https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202401071525227.png)\n\n> (2) \n\n```sh\nrpm -qa|grep mysql\n```\n\n:![image-20240107152611487](https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202401071526546.png)\n\n> (3) \n\n```sql\nmysqld --initialize --user=mysql\n```\n\n> (4) root\n\n```sh\ngrep 'temporary password' /var/log/mysqld.log\n```\n\n![image-20240107152701968](https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202401071527022.png)\n\n\n\n> (5) Mysql\n\n\n\n:\n\n```sh\n[root@master mysql]# systemctl start mysqld\n[root@master mysql]# systemctl status mysqld\n```\n\n![image-20240107152816325](https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202401071528386.png)\n\n\n\n:\n\n```sh\n[root@master mysql]# mysql -uroot -p'zDfW:um0hgdi'\n```\n\n![image-20240107153027330](https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202401071530387.png)\n\n\n\n\n\n> (6) root\n\n```sql\nmysql> set password =\"123456\";\nQuery OK, 0 rows affected (0.00 sec)\n```\n\n> (7) MySQLuserrootip\n\n\n\n**1:**\n\n```sql\nmysql> grant all privileges on *.* to 'root'@'%' identified by '123456';\nmysql> flush privileges;  #MySQL\n```\n\n**2:**\n\n MySQL :\n\n==()==\n\n```sql\n#root\nmysql> select user,host from mysql.user;\n+---------------+-----------+\n| user          | host      |\n+---------------+-----------+\n| mysql.session | localhost |\n| mysql.sys     | localhost |\n| root          | localhost |\n+---------------+-----------+\n3 rows in set (0.00 sec)\n```\n\nrootip:\n\n```sql\nmysql> UPDATE mysql.user SET host = '%' WHERE user = 'root';\nmysql> flush privileges;\n```\n\n:\n\n```sql\nmysql> select user,host from mysql.user;\n+---------------+-----------+\n| user          | host      |\n+---------------+-----------+\n| root          | %         |\n| mysql.session | localhost |\n| mysql.sys     | localhost |\n+---------------+-----------+\n3 rows in set (0.00 sec)\n```\n\n\n\n\n\n**:**\n\n(docker,)\n\n![image-20240107160016412](https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202401071600539.png)\n\n\n\n\n\n> :warning::warning::warning::\n\n\n\n`1`Mysql\n\n\n\n```sql\nSHOW VARIABLES LIKE 'validate_password%';\n```\n\n\n\n```sql\nset global validate_password_policy=LOW;  \\\\\nset global validate_password_length=6;   \\\\\nmysql> flush privileges;  #MySQL\n```\n\n\n\n```sql\nmysql> grant all privileges on *.* to 'root'@'%' identified by '123456';\nmysql> flush privileges;  #MySQL\n```\n\n\n\n`2`: mysql\n\nMySQL\n\n```sh\nyum remove mysql* -y\n```\n\nMySQL\n\n```sh\nfind / -name \"mysql*\"  #mysql\n```\n\n```sh\nfind / -name \"*mysql*\"|xargs rm -rfv  #mysql\n```\n\n\n\n\n\n**rpm **\n\n1. \n\n```sh\nrpm -ivh\n```\n\n2.\n\n```sh\nrpm -Uvh\n```\n\n3.\n\n```sh\nrpm -e\n```\n\n4. --force / -nodeps\n\n```sh\n-force \n-nodeps RPM\n```\n\n#### 2.1.2 Docker MySQL\n\n> (1) MySQL\n\n```sh\n[root@bigdata ~]# docker pull mysql/mysql-server:5.7\n```\n\n> (2) MySQL\n\n```sh\ndocker run -e MYSQL_ROOT_PASSWORD=123456 -e MYSQL_ROOT_HOST=% -p 3306:3306 --name=mysql1 -d mysql/mysql-server:5.7 --character-set-server=utf8mb4\n```\n\n:\n\n- `docker run`: Docker \n- `-e MYSQL_ROOT_PASSWORD=123456`:  MySQL  `123456`\n- `-e MYSQL_ROOT_HOST=%`:  MySQL `%` \n- `-p 3306:3306`:  MySQL  `3306`  `3307` MySQL \n- `--name=mysql1`:  `mysql1`\n- `-d`: detach \n- `mysql/mysql-server:5.7`:  MySQL Docker \n- `--character-set-server=utf8mb4`:  MySQL  `utf8mb4`\n\n\n\n**:**\n\nmariadb:\n\n```sh\n[root@bigdata ~]# yum install mariadb -y\n```\n\n:\n\n```sh\n[root@bigdata ~]# mysql -uroot -p123456 -h 192.168.10.81 -P 3308 -e \"show databases;\"\n+--------------------+\n| Database           |\n+--------------------+\n| information_schema |\n| mysql              |\n| performance_schema |\n| sys                |\n+--------------------+\n```\n\nMySQL\n\n### 2.2 Hive\n\n#### 2.2.1 \n\n```sh\n[root@master ~]# tar -zxvf /opt/software/apache-hive-3.1.2-bin.tar.gz -C /opt/module/\n[root@master ~]# mv /opt/module/apache-hive-3.1.2-bin/ /opt/module/hive\n```\n\n#### 2.2.2 \n\n```sh\n#HIVE_HOME\nexport HIVE_HOME=/opt/module/hive\nexport PATH=$PATH:$HIVE_HOME/bin\n```\n\n```sh\n#\ncat >>/etc/profile<<EOF\n#HIVE\nexport HIVE_HOME=/opt/module/hive\nexport PATH=\\$PATH:\\$HIVE_HOME/bin\nEOF\n#\nsource /etc/profile\n```\n\n#### 2.2.3 MySQL\n\nMySQLJDBCHivelib:\n\n```sh\n[root@master ~]# cp /opt/software/mysql/mysql-connector-java-5.1.44-bin.jar $HIVE_HOME/lib\n```\n\n:\n\n```sh\n[root@master ~]# ll $HIVE_HOME/lib | grep mysql\n-rw-r--r-- 1 root root   999635 Jan  7 09:19 mysql-connector-java-5.1.44-bin.jar\n-rw-r--r-- 1 root root    10476 Nov 15  2018 mysql-metadata-storage-0.12.0.jar\n```\n\n![image-20240107172131324](https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202401071721497.png)\n\n\n\nHDFSuserhive`Hivehadoop`hdfs\n\n```sh\n:\n[root@master ~]# hdfs dfs -mkdir -p /user/hive/warehouse \n:\n[root@master ~]# hdfs dfs -ls /user/hive \nFound 1 items\ndrwxr-xr-x   - root supergroup          0 2024-01-07 09:23 /user/hive/warehouse\n```\n\n![image-20240107172405192](https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202401071724272.png)\n\n#### 2.2.4 guava()\n\n```sh\n1.guava-19.0.jar,hadoopguava-27.0-jre.jar\n[root@master ~]# rm -rf $HIVE_HOME/lib/guava-19.0.jar\n[root@master ~]# cp $HADOOP_HOME/share/hadoop/common/lib/guava-27.0-jre.jar $HIVE_HOME/lib\n2.\n[root@master ~]# ll $HIVE_HOME/lib/guava-27.0-jre.jar \n-rw-r--r-- 1 root root 2747878 Jan  7 09:27 /opt/module/hive/lib/guava-27.0-jre.jar\n```\n\n#### 2.2.5 `hive-site.xml`\n\n> 1:\n>\n> ==()==\n\n```sh\n[root@master ~]# cd $HIVE_HOME/conf\n[root@master conf]# cp hive-default.xml.template hive-site.xml\n[root@master conf]# vi hive-site.xml\n```\n\n**:**\n\n\n\n<!-- jdbc  password --> \n\n```xml\n568     <name>javax.jdo.option.ConnectionPassword</name>\n569     <value>123456</value>\n```\n\n![image-20240107174234563](https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202401071742987.png)\n\n<!-- jdbc  URL -->\n\n```xml\n583\t<name>javax.jdo.option.ConnectionURL</name>\n584\t<value>jdbc:mysql://192.168.1.10:3306/metastore?createDatabaseIfNotExist=true&amp;useSSL=false</value>\n\n:\njdbc:mysql://192.168.1.10:3306/metastore?createDatabaseIfNotExist=true&amp;useSSL=false\n&amp\n```\n\n![image-20240107175939389](https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202401071759521.png)\n\n:\n\n- `jdbc:mysql://`:  JDBC  MySQL  JDBC \n- `192.168.1.10`:  IP \n- `3306`: MySQL  `3306`\n- `metastore`: \n- `?createDatabaseIfNotExist=true`: \n- `&amp`:  HTML  `&` \n- `useSSL=false`:  SSL \n\n\n\n `192.168.1.10`  `3306`  MySQL  `metastore` SSL \n\n\n\n<!-- jdbc  Driver -->\n\n```xml\n1101\t<name>javax.jdo.option.ConnectionDriverName</name>\n1102\t<value>com.mysql.jdbc.Driver</value>\n```\n\n![image-20240107180037239](https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202401071800309.png)\n\n<!-- jdbc  username()--> \n\n```xml\n1126\t<name>javax.jdo.option.ConnectionUserName</name>\n1127\t<value>root</value>\n```\n\n![image-20240107180202550](https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202401071802628.png)\n\n\n\n,    4404\n\n${system:java.io.tmpdir}/${system:user.name}\n\n/home/hive/tmp/root\n\n```sh\nshift+:\n: %s@${system:user.name}@root@g\n: %s@${system:java.io.tmpdir}@/home/hive/tmp@g\n```\n\n&#8   3215\n\n![image-20240107180735702](https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202401071807782.png)\n\n\n\n\n\n\n\n> 2:\n>\n> ==()==\n\n\n\n:\n\n```sh\nvi $HIVE_HOME/conf/hive-site.xml\n```\n\n```xml\n<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"no\"?>\n<?xml-stylesheet type=\"text/xsl\" href=\"configuration.xsl\"?>\n<configuration>\n\t<property>\n\t<!--URL-->\n\t\t<name>javax.jdo.option.ConnectionURL</name>\n\t\t<value>jdbc:mysql://192.168.1.10:3306/metastore?createDatabaseIfNotExist=true&amp;useSSL=false</value>\n\t</property>\n\t<property>\n\t<!---->\n\t\t<name>javax.jdo.option.ConnectionDriverName</name>\n\t\t<value>com.mysql.jdbc.Driver</value>\n\t</property>\n\t<property>\n\t<!-- jdbc  username-->\n\t\t<name>javax.jdo.option.ConnectionUserName</name>\n\t\t<value>root</value>\n\t</property>\n\t<property>\n\t<!-- jdbc  password-->\n\t\t<name>javax.jdo.option.ConnectionPassword</name>\n\t\t<value>123456</value>\n\t</property>\n    <property>\n    <!-- Hive  -->\n        <name>hive.metastore.schema.verification</name>\n        <value>false</value>\n    </property>\n    <property>\n    <!--  -->\n        <name>hive.metastore.event.db.notification.api.auth</name>\n        <value>false</value>\n    </property>    \n    <property>\n\t<!--URI Hive  HDFS -->\n\t\t<name>hive.metastore.warehouse.dir</name>\n\t\t<value>/user/hive/warehouse</value>\n\t</property>\n</configuration>\n```\n\n\n\n#### 2.2.6 hive-env.sh\n\n```sh\n[root@master conf]# cp hive-env.sh.template hive-env.sh\n[root@master conf]# vi hive-env.sh\n```\n\n(hive Hadoop):\n\n```sh\nexport HADOOP_HOME=/opt/module/hadoop\n```\n\n#### 2.2.7 HIVE\n\nhivemysql\n\n```sh\n[root@master hive]# schematool -dbType mysql -initSchema \n```\n\n:\n\n![image-20240107181236159](https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202401071812254.png)\n\n![image-20240107181250765](https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202401071812841.png)\n\n:\n\n```sh\nschematool -dbType mysql -initSchema > hive.log\n```\n\n\n\n\n\n#### 2.2.8 \n\n```sh\n[root@master conf]# hive -e \"show databases;\"\n```\n\n![image-20240107181433907](https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202401071814990.png)\n\n\n\n> hive shellhive-3.1.2\n\n\n\nhive`/opt/module/hive/conf/` `log4j.properties`\n\n```sh\n1:\nvi /opt/module/hive/conf/log4j.properties\n2:\nvi $HIVE_HOME/conf/log4j.properties\n```\n\n:\n\n```sh\nlog4j.rootLogger=WARN, CA\nlog4j.appender.CA=org.apache.log4j.ConsoleAppender\nlog4j.appender.CA.layout=org.apache.log4j.PatternLayout\nlog4j.appender.CA.layout.ConversionPattern=%-4r [%t] %-5p %c %x - %m%n\n```\n\nhive\n\n\n\n**:**\n\n```sh\n[root@master ~]# hive -e \"show databases;\"\n```\n\n![image-20240107181919652](https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202401071819758.png)\n\n\n\n\n\n### 2.3 Hive \n\n#### 2.3.1 Hiveserver2 \n\n\tHivehiveserver2jdbc/odbcHiveHiveHiveserver2\n\n\n\n![image-20240113153640372](https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202401131536469.png)\n\n\n\n> (1)\n\n\tHiveHadoopHivesever2HadoopHadoopHiveserver2\n\n\n\n\tHiveserver2hive.server2.enable.doAsHiveserver2Hiveserver2HadoopHivesever2Hadoop\n\n\n\n:one: \n\n![image-20240113154316776](https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202401131543845.png)\n\n\n\n:two:\n\n![image-20240113154438046](https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202401131544123.png)\n\n\n\n**``**\n\n\n\n> (2) Hiveserver2\n\n\n\n:one:Hadoop\n\n\thivesever2Hadoopproxy userHadoopHadoop`hiveserver2Hadoop`\n\n\n\n1. **``core-site.xml``,``hadoop**\n\n```sh\nvim $HADOOP_HOME/etc/hadoop/core-site.xml\n```\n\n2. **:**\n\n```XML\n<!--root-->\n\t<property>\n\t\t<name>hadoop.proxyuser.root.hosts</name>\n\t\t<value>*</value>\n\t</property>\n\n<!--root-->\n\t<property>\n\t\t<name>hadoop.proxyuser.root.groups</name>\n\t\t<value>*</value>\n\t</property>\n\n<!--root-->\n\t<property>\n\t\t<name>hadoop.proxyuser.root.users</name>\n\t\t<value>*</value>\n\t</property>\n```\n\n\n\n:two:Hive\n\n1. ** hive-site.xml **\n\n```sh\n[root@master ~]# vim $HIVE_HOME/conf/hive-site.xml\n```\n\n```xml\n    <property>\n\t<!-- hiveserver2  host ()-->\n\t\t<name>hive.server2.thrift.bind.host</name>\n\t\t<value>192.168.1.10</value>\n\t</property>\n    <property>\n    <!--  hiveserver2  -->\n        <name>hive.server2.thrift.port</name>\n        <value>10000</value>\n    </property>\n```\n\n:three:\n\n1. **hiveserver2**\n\n```sh\n[root@master ~]# hive --service hiveserver2\n```\n\n![image-20240113160812261](https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202401131608356.png)\n\n\n\n,hiveserver2\n\n```sh\n[root@master ~]# ss -tunlp |grep 10000\ntcp    LISTEN     0      50        *:10000                 *:*                   users:((\"java\",pid=9885,fd=511))\n```\n\n![image-20240113160740747](https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202401131607826.png)\n\n\n\n2. **,beeline**\n\n```sh\nbeeline -u jdbc:hive2://master:10000 -n atguigu\n```\n\n1. `beeline`Hive\n2. `-u jdbc:hive2://master:10000`JDBCURL`master`Hive`10000`\n3. `-n atguigu`Hive`atguigu`\n\n\n\n```sh\nbeeline -u jdbc:hive2://master:10000\n```\n\n- `-u`JDBCURLBeelineHive\n\n:\n\n![image-20240113202132033](https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202401132021126.png)\n\n![image-20240113202033694](https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202401132020816.png)\n\n\n\n4. **Datagrip**\n\n(1):\n\n![image-20240113212219461](https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202401132122559.png)\n\n(2)\n\n\tHivebeelineJDBC\n\n![image-20240113212331886](https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202401132123984.png)\n\n3\n\n\n\n![image-20240113213409280](https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202401132134380.png)\n\n4sql\n\n![image-20240113213430503](https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202401132134593.png)\n\n5\n\n![image-20240113213449337](https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202401132134412.png)\n\n\n\n> **hiveserver2:()**\n\n![image-20240111111958040](https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202401111119587.png)\n\n: https://www.cnblogs.com/tianlingqun/p/16322927.html\n\n\n\n```xml\n    <property>\n\t<!-- hive,false -->\n\t\t<name>hive.server2.active.passive.ha.enable</name>\n\t\t<value>true</value>\n\t</property>\n```\n\n#### 2.3.2 metastore\n\n\tHivemetastoreHive CLIHiveserver2\n\n\n\n:one:**metastore**\n\nmetastore\n\n\n\n> (1)\n\n![image-20240113213712903](https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202401132137976.png)\n\n> (2)\n\n![image-20240113213743201](https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202401132137270.png)\n\n``\n\n  (1Hive CLIHive CLI\n\n2\n\n\n\n:two:**metastore**\n\n\n\n> (1\n\nHiveserver2Hive CLIhive-site.xml``()\n\n```xml\n    <!-- jdbcURL -->\n    <property>\n        <name>javax.jdo.option.ConnectionURL</name>\n        <value>jdbc:mysql://192.168.1.10:3306/metastore?createDatabaseIfNotExist=true&amp;useSSL=false</value>\n    </property>\n    \n    <!-- jdbcDriver-->\n    <property>\n        <name>javax.jdo.option.ConnectionDriverName</name>\n        <value>com.mysql.jdbc.Driver</value>\n    </property>\n    \n\t<!-- jdbcusername-->\n    <property>\n        <name>javax.jdo.option.ConnectionUserName</name>\n        <value>root</value>\n    </property>\n\n    <!-- jdbcpassword -->\n    <property>\n        <name>javax.jdo.option.ConnectionPassword</name>\n        <value>123456</value>\n    </property>\n```\n\n> 2\n\n\n\nmetastorehive-site.xml\n\n```xml\n    <!-- jdbcURL -->\n    <property>\n        <name>javax.jdo.option.ConnectionURL</name>\n        <value>jdbc:mysql://192.168.1.10:3306/metastore?createDatabaseIfNotExist=true&amp;useSSL=false</value>\n    </property>\n    \n    <!-- jdbcDriver-->\n    <property>\n        <name>javax.jdo.option.ConnectionDriverName</name>\n        <value>com.mysql.jdbc.Driver</value>\n    </property>\n    \n\t<!-- jdbcusername-->\n    <property>\n        <name>javax.jdo.option.ConnectionUserName</name>\n        <value>root</value>\n    </property>\n\n    <!-- jdbcpassword -->\n    <property>\n        <name>javax.jdo.option.ConnectionPassword</name>\n        <value>123456</value>\n    </property>\n```\n\nHiveserver2Hive CLIhive-site.xml`metastore`\n\n(``)\n\n```xml\n\t<!-- metastore -->\n\t<property>\n\t\t<name>hive.metastore.uris</name>\n\t\t<value>thrift://master:9083</value>\n\t</property>\n```\n\nmetastoremetastore9083\n\n\n\n> (3) ****\n\nHive CLIshou databases\n\n![image-20240113225247501](https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202401132252589.png)\n\n\tHive CLIhive.metastore.urisHive CLI`metastore``metastore`\n\n\n\n**metastore**\n\n```sh\nhive --service metastore\n```\n\nXshellHive\n\n![image-20240113225511730](https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202401132255816.png)\n\n\n\n, Hive CLIshou databases:\n\n![image-20240113225647991](https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202401132256079.png)\n\n#### 2.3.3 hive\n\n:\n\n![image-20240114211120713](https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202401142111810.png)\n\n\n\n,conf\n\n```sh\n[root@master conf]# cp hive-exec-log4j2.properties.template hive-log4j2.properties\n[root@master conf]# vim hive-log4j2.properties\n```\n\nproperty.hive.log.dir\n`property.hive.log.dir = ${sys:java.io.tmpdir}/${sys:user.name}`/tmp/hive/hive.log\n\n\n![image-20240114211359832](https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202401142113949.png)\n\n:\n\n```sh\n# list of properties\nproperty.hive.log.level = INFO\nproperty.hive.root.logger = DRFA\n#property.hive.log.dir = ${sys:java.io.tmpdir}/${sys:user.name}\nproperty.hive.log.dir = /opt/module/apache-hive-3.1.2/logs\nproperty.hive.log.file = hive.log\nproperty.hive.perflogger.log.level = INFO\n```\n\n\n\n#### 2.3.4 Hive\n\n- nohup\n\n- /dev/nullLinux\n\n- 2>&1\n\n- &\n\nnohup [xxx]> file 2>&1 &xxxfile\n\n\n\n> :\n\n```sh\nnohup hive --service metastore 2>&1 &\nnohup hive --service hiveserver2 2>&1 &\n```\n\n> ()\n\n```sh\n1.\nvi $HIVE_HOME/bin/hiveservices.sh\n2.\nchmod +x $HIVE_HOME/bin/hiveservices.sh\n```\n\n> :\n\n```sh\n#!/bin/bash\n\nHIVE_LOG_DIR=$HIVE_HOME/logs\nif [ ! -d $HIVE_LOG_DIR ]\nthen\n\tmkdir -p $HIVE_LOG_DIR\nfi\n\n#12\nfunction check_process()\n{\n    pid=$(ps -ef 2>/dev/null | grep -v grep | grep -i $1 | awk '{print $2}')\n    ppid=$(ss -nltp 2>/dev/null | grep $2 | awk '{print $7}' | cut -d '/' -f 1)\n    echo $pid\n    [[ \"$pid\" =~ \"$ppid\" ]] && [ \"$ppid\" ] && return 0 || return 1\n}\n\nfunction hive_start()\n{\n    metapid=$(check_process HiveMetastore 9083)\n    cmd=\"nohup hive --service metastore >$HIVE_LOG_DIR/metastore.log 2>&1 &\"\n    [ -z \"$metapid\" ] && eval $cmd || echo \"Metastroe\"\n    server2pid=$(check_process HiveServer2 10000)\n    cmd=\"nohup hive --service hiveserver2 >$HIVE_LOG_DIR/hiveServer2.log 2>&1 &\"\n    [ -z \"$server2pid\" ] && eval $cmd || echo \"HiveServer2\"\n}\n\nfunction hive_stop()\n{\nmetapid=$(check_process HiveMetastore 9083)\n    [ \"$metapid\" ] && kill $metapid || echo \"Metastore\"\n    server2pid=$(check_process HiveServer2 10000)\n    [ \"$server2pid\" ] && kill $server2pid || echo \"HiveServer2\"\n}\n\nfunction hive_status()\n{\n  ss -tunlp | grep 10000 > /dev/null\n  if [ $? -ne 0 ];then\n    sleep 3\n    echo \"HiveServer2\"\n  else\n    sleep 3\n    echo \"HiveServer2\"\n  fi\n  ss -tunlp | grep 9083 > /dev/null\n  if [ $? -ne 0 ];then\n    echo \"Metastore\"\n  else\n    echo \"Metastore\"\n  fi\n}\n\n\ncase $1 in\n\"start\")\n    hive_start\n    ;;\n\"stop\")\n    hive_stop\n    ;;\n\"restart\")\n    hive_stop\n    sleep 2\n    hive_start\n    ;;\n\"status\")\n#    check_process HiveMetastore 9083 >/dev/null && echo \"Metastore\" || echo \"Metastore\"\n#    check_process HiveServer2 10000 >/dev/null && echo \"HiveServer2\" || echo \"HiveServer2\"\n    hive_status\n    ;;\n*)\n    echo Invalid Args!\n    echo 'Usage: '$(basename $0)' start|stop|restart|status'\n    ;;\nesac\n```\n\n> \n\n```sh\n[root@master ~]# hiveservices.sh start\n```\n\n:\n\n![image-20240114113057354](https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202401141130477.png)\n\n!\n\n\n\n!!!\n\n### 2.4  Hive\n\n#### 2.4.1 Hive\n\n```sh\n:\n[root@master hive]$ bin/hive -help\nusage: hive\n -d,--define <key=value>          Variable subsitution to apply to hive\n                                  commands. e.g. -d A=B or --define A=B\n    --database <databasename>     Specify the database to use\n -e <quoted-query-string>         SQL from command line\n -f <filename>                      SQL from files\n -H,--help                        Print help information\n    --hiveconf <property=value>   Use value for given property\n    --hivevar <key=value>         Variable subsitution to apply to hive\n                                  commands. e.g. --hivevar A=B\n -i <filename>                    Initialization SQL file\n -S,--silent                      Silent mode in interactive shell\n -v,--verbose                     Verbose mode (echo executed SQL to the console)\n```\n\n1:\n\n```sql\n1Hivestudent1\nhive (default)> create table student(id int,name string);\nOK\nTime taken: 1.291 seconds\n\nhive (default)> insert into table student values(1,\"zhangsan\");\nhive (default)> select * from student;\nOK\nstudent.id\tstudent.name\n1\tzhangsan\nTime taken: 0.144 seconds, Fetched: 1 row(s)\n\n2-ehivehql\n[root@master hive]$ bin/hive -e \"select id from student;\"\n```\n\n```sh\n3-fhql\n1/opt/module/hive/datasdatashivef.sql\n[atguigu@master hive]$ mkdir datas\n[atguigu@master datas]$ vim hivef.sql\n2hql\nselect * from student;\n3hql\n[atguigu@master hive]$ bin/hive -f /opt/module/hive/datas/hivef.sql\n4hql\n[atguigu@master hive]$ bin/hive -f /opt/module/hive/datas/hivef.sql  > /opt/module/hive/datas/hive_result.txt\n```\n\n2:\n\n```sql\ncreate table if  not exists orders(\nid string,\nuserno string,\npassword string,\nemail string,\nphone string,\nname string,\nidcard string,\nstatus int,\ndepid string\n)\nrow format  delimited fields terminated by ',';\n\n```\n\ncsvhive()\n\n```sh\nload data local inpath '' into table ;\nload data local inpath '/opt/user.csv' into table orders;\n```\n\nhdfshive\n\n```sh\nload data inpath hdfscsv into table ;\nload data inpath '/data081/order.csv' into table orders;\n```\n\n\n\n\n\n```sh\n load data inpath /tmp/fun_user.txt into table fun_user_external;\n load data local inpath /tmp/fun_user.txt into table fun_user_external;\nlocallocal\n```\n\n\n","source":"_posts/HiveHiveserver2-metastore.md","raw":"---\ntitle: HiveHiveserver2 metastore\ndate: 2024-11-09 22:38:45\ntags: Bigdata\ncategories: \n  - \n---\n# Hive\n\n## 1. Hive\n\n### 1.1 Hive\n\nHiveFacebook\n\nHiveHadoop`````SQL`\n\n`HQLMapReduce`\n\n<img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202401071511957.png\" alt=\"image-20200916135459253\">\n\n1HiveHDFS\n\n2HiveMapReduce\n\n3Yarn\n\n### 1.2 Hive\n\n#### 1.2.1 \n\n1.  SQL \n1.  MapReduce \n1.  HiveHive \n1.  HiveHive\n1.  Hive\n\n#### 1.2.2 \n\n1HiveHQL\n\n1\n\n2\n\n\n\n2Hive\n\n1HiveMapReduce\n\n2Hive\n\n### 1.3Hive\n\n<img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202401071511001.png\" alt=\"img\">\n\n**1Client**\n\nCLIhive shellJDBC/ODBC(javahive)WEBUIhive\n\n\n\n**2Metastore**\n\ndefault/\n\n`derbyMySQLMetastore`\n\n\n\n**3Hadoop**\n\nHDFSMapReduce\n\n\n\n**4Driver**\n\n1SQL ParserSQLASTantlrASTSQL\n\n2Physical PlanAST\n\n3Query Optimizer\n\n4ExecutionHiveMR/Spark\n\n<img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202401071511219.png\" alt=\"image-20200916140721644\">\n\nHive(SQL)Driver(MetaStore)MapReduceHadoop\n\n\n\n## 2. Hive\n\n\n\n****:\n\n|  |  | ip       |  |\n| -------- | ---------- | ------------ | ---------- |\n| centos7  | master     | 192.168.1.10 | root       |\n| centos7  | slave1     | 192.168.1.20 | root       |\n| centos7  | slave2     | 192.168.1.30 | root       |\n\n****\n\n|    |   |\n| ------ | ----- |\n| java   | 1.8   |\n| Hadoop | 3.1.3 |\n| Hive   | 3.1.2 |\n| Mysql  | 5.7   |\n\n****\n\n|  |  |    |\n| ------ | ------ | ------ |\n| mysql  | root   | 123456 |\n\n### 2.1 mysql\n\n#### 2.1.1 rpm\n\n>  (1) mysql\n\n![image-20240107152437021](https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202401071524098.png)\n\n```sh\nrpm -Uvh *.rpm --nodeps --force\n```\n\n:![image-20240107152542173](https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202401071525227.png)\n\n> (2) \n\n```sh\nrpm -qa|grep mysql\n```\n\n:![image-20240107152611487](https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202401071526546.png)\n\n> (3) \n\n```sql\nmysqld --initialize --user=mysql\n```\n\n> (4) root\n\n```sh\ngrep 'temporary password' /var/log/mysqld.log\n```\n\n![image-20240107152701968](https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202401071527022.png)\n\n\n\n> (5) Mysql\n\n\n\n:\n\n```sh\n[root@master mysql]# systemctl start mysqld\n[root@master mysql]# systemctl status mysqld\n```\n\n![image-20240107152816325](https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202401071528386.png)\n\n\n\n:\n\n```sh\n[root@master mysql]# mysql -uroot -p'zDfW:um0hgdi'\n```\n\n![image-20240107153027330](https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202401071530387.png)\n\n\n\n\n\n> (6) root\n\n```sql\nmysql> set password =\"123456\";\nQuery OK, 0 rows affected (0.00 sec)\n```\n\n> (7) MySQLuserrootip\n\n\n\n**1:**\n\n```sql\nmysql> grant all privileges on *.* to 'root'@'%' identified by '123456';\nmysql> flush privileges;  #MySQL\n```\n\n**2:**\n\n MySQL :\n\n==()==\n\n```sql\n#root\nmysql> select user,host from mysql.user;\n+---------------+-----------+\n| user          | host      |\n+---------------+-----------+\n| mysql.session | localhost |\n| mysql.sys     | localhost |\n| root          | localhost |\n+---------------+-----------+\n3 rows in set (0.00 sec)\n```\n\nrootip:\n\n```sql\nmysql> UPDATE mysql.user SET host = '%' WHERE user = 'root';\nmysql> flush privileges;\n```\n\n:\n\n```sql\nmysql> select user,host from mysql.user;\n+---------------+-----------+\n| user          | host      |\n+---------------+-----------+\n| root          | %         |\n| mysql.session | localhost |\n| mysql.sys     | localhost |\n+---------------+-----------+\n3 rows in set (0.00 sec)\n```\n\n\n\n\n\n**:**\n\n(docker,)\n\n![image-20240107160016412](https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202401071600539.png)\n\n\n\n\n\n> :warning::warning::warning::\n\n\n\n`1`Mysql\n\n\n\n```sql\nSHOW VARIABLES LIKE 'validate_password%';\n```\n\n\n\n```sql\nset global validate_password_policy=LOW;  \\\\\nset global validate_password_length=6;   \\\\\nmysql> flush privileges;  #MySQL\n```\n\n\n\n```sql\nmysql> grant all privileges on *.* to 'root'@'%' identified by '123456';\nmysql> flush privileges;  #MySQL\n```\n\n\n\n`2`: mysql\n\nMySQL\n\n```sh\nyum remove mysql* -y\n```\n\nMySQL\n\n```sh\nfind / -name \"mysql*\"  #mysql\n```\n\n```sh\nfind / -name \"*mysql*\"|xargs rm -rfv  #mysql\n```\n\n\n\n\n\n**rpm **\n\n1. \n\n```sh\nrpm -ivh\n```\n\n2.\n\n```sh\nrpm -Uvh\n```\n\n3.\n\n```sh\nrpm -e\n```\n\n4. --force / -nodeps\n\n```sh\n-force \n-nodeps RPM\n```\n\n#### 2.1.2 Docker MySQL\n\n> (1) MySQL\n\n```sh\n[root@bigdata ~]# docker pull mysql/mysql-server:5.7\n```\n\n> (2) MySQL\n\n```sh\ndocker run -e MYSQL_ROOT_PASSWORD=123456 -e MYSQL_ROOT_HOST=% -p 3306:3306 --name=mysql1 -d mysql/mysql-server:5.7 --character-set-server=utf8mb4\n```\n\n:\n\n- `docker run`: Docker \n- `-e MYSQL_ROOT_PASSWORD=123456`:  MySQL  `123456`\n- `-e MYSQL_ROOT_HOST=%`:  MySQL `%` \n- `-p 3306:3306`:  MySQL  `3306`  `3307` MySQL \n- `--name=mysql1`:  `mysql1`\n- `-d`: detach \n- `mysql/mysql-server:5.7`:  MySQL Docker \n- `--character-set-server=utf8mb4`:  MySQL  `utf8mb4`\n\n\n\n**:**\n\nmariadb:\n\n```sh\n[root@bigdata ~]# yum install mariadb -y\n```\n\n:\n\n```sh\n[root@bigdata ~]# mysql -uroot -p123456 -h 192.168.10.81 -P 3308 -e \"show databases;\"\n+--------------------+\n| Database           |\n+--------------------+\n| information_schema |\n| mysql              |\n| performance_schema |\n| sys                |\n+--------------------+\n```\n\nMySQL\n\n### 2.2 Hive\n\n#### 2.2.1 \n\n```sh\n[root@master ~]# tar -zxvf /opt/software/apache-hive-3.1.2-bin.tar.gz -C /opt/module/\n[root@master ~]# mv /opt/module/apache-hive-3.1.2-bin/ /opt/module/hive\n```\n\n#### 2.2.2 \n\n```sh\n#HIVE_HOME\nexport HIVE_HOME=/opt/module/hive\nexport PATH=$PATH:$HIVE_HOME/bin\n```\n\n```sh\n#\ncat >>/etc/profile<<EOF\n#HIVE\nexport HIVE_HOME=/opt/module/hive\nexport PATH=\\$PATH:\\$HIVE_HOME/bin\nEOF\n#\nsource /etc/profile\n```\n\n#### 2.2.3 MySQL\n\nMySQLJDBCHivelib:\n\n```sh\n[root@master ~]# cp /opt/software/mysql/mysql-connector-java-5.1.44-bin.jar $HIVE_HOME/lib\n```\n\n:\n\n```sh\n[root@master ~]# ll $HIVE_HOME/lib | grep mysql\n-rw-r--r-- 1 root root   999635 Jan  7 09:19 mysql-connector-java-5.1.44-bin.jar\n-rw-r--r-- 1 root root    10476 Nov 15  2018 mysql-metadata-storage-0.12.0.jar\n```\n\n![image-20240107172131324](https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202401071721497.png)\n\n\n\nHDFSuserhive`Hivehadoop`hdfs\n\n```sh\n:\n[root@master ~]# hdfs dfs -mkdir -p /user/hive/warehouse \n:\n[root@master ~]# hdfs dfs -ls /user/hive \nFound 1 items\ndrwxr-xr-x   - root supergroup          0 2024-01-07 09:23 /user/hive/warehouse\n```\n\n![image-20240107172405192](https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202401071724272.png)\n\n#### 2.2.4 guava()\n\n```sh\n1.guava-19.0.jar,hadoopguava-27.0-jre.jar\n[root@master ~]# rm -rf $HIVE_HOME/lib/guava-19.0.jar\n[root@master ~]# cp $HADOOP_HOME/share/hadoop/common/lib/guava-27.0-jre.jar $HIVE_HOME/lib\n2.\n[root@master ~]# ll $HIVE_HOME/lib/guava-27.0-jre.jar \n-rw-r--r-- 1 root root 2747878 Jan  7 09:27 /opt/module/hive/lib/guava-27.0-jre.jar\n```\n\n#### 2.2.5 `hive-site.xml`\n\n> 1:\n>\n> ==()==\n\n```sh\n[root@master ~]# cd $HIVE_HOME/conf\n[root@master conf]# cp hive-default.xml.template hive-site.xml\n[root@master conf]# vi hive-site.xml\n```\n\n**:**\n\n\n\n<!-- jdbc  password --> \n\n```xml\n568     <name>javax.jdo.option.ConnectionPassword</name>\n569     <value>123456</value>\n```\n\n![image-20240107174234563](https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202401071742987.png)\n\n<!-- jdbc  URL -->\n\n```xml\n583\t<name>javax.jdo.option.ConnectionURL</name>\n584\t<value>jdbc:mysql://192.168.1.10:3306/metastore?createDatabaseIfNotExist=true&amp;useSSL=false</value>\n\n:\njdbc:mysql://192.168.1.10:3306/metastore?createDatabaseIfNotExist=true&amp;useSSL=false\n&amp\n```\n\n![image-20240107175939389](https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202401071759521.png)\n\n:\n\n- `jdbc:mysql://`:  JDBC  MySQL  JDBC \n- `192.168.1.10`:  IP \n- `3306`: MySQL  `3306`\n- `metastore`: \n- `?createDatabaseIfNotExist=true`: \n- `&amp`:  HTML  `&` \n- `useSSL=false`:  SSL \n\n\n\n `192.168.1.10`  `3306`  MySQL  `metastore` SSL \n\n\n\n<!-- jdbc  Driver -->\n\n```xml\n1101\t<name>javax.jdo.option.ConnectionDriverName</name>\n1102\t<value>com.mysql.jdbc.Driver</value>\n```\n\n![image-20240107180037239](https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202401071800309.png)\n\n<!-- jdbc  username()--> \n\n```xml\n1126\t<name>javax.jdo.option.ConnectionUserName</name>\n1127\t<value>root</value>\n```\n\n![image-20240107180202550](https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202401071802628.png)\n\n\n\n,    4404\n\n${system:java.io.tmpdir}/${system:user.name}\n\n/home/hive/tmp/root\n\n```sh\nshift+:\n: %s@${system:user.name}@root@g\n: %s@${system:java.io.tmpdir}@/home/hive/tmp@g\n```\n\n&#8   3215\n\n![image-20240107180735702](https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202401071807782.png)\n\n\n\n\n\n\n\n> 2:\n>\n> ==()==\n\n\n\n:\n\n```sh\nvi $HIVE_HOME/conf/hive-site.xml\n```\n\n```xml\n<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"no\"?>\n<?xml-stylesheet type=\"text/xsl\" href=\"configuration.xsl\"?>\n<configuration>\n\t<property>\n\t<!--URL-->\n\t\t<name>javax.jdo.option.ConnectionURL</name>\n\t\t<value>jdbc:mysql://192.168.1.10:3306/metastore?createDatabaseIfNotExist=true&amp;useSSL=false</value>\n\t</property>\n\t<property>\n\t<!---->\n\t\t<name>javax.jdo.option.ConnectionDriverName</name>\n\t\t<value>com.mysql.jdbc.Driver</value>\n\t</property>\n\t<property>\n\t<!-- jdbc  username-->\n\t\t<name>javax.jdo.option.ConnectionUserName</name>\n\t\t<value>root</value>\n\t</property>\n\t<property>\n\t<!-- jdbc  password-->\n\t\t<name>javax.jdo.option.ConnectionPassword</name>\n\t\t<value>123456</value>\n\t</property>\n    <property>\n    <!-- Hive  -->\n        <name>hive.metastore.schema.verification</name>\n        <value>false</value>\n    </property>\n    <property>\n    <!--  -->\n        <name>hive.metastore.event.db.notification.api.auth</name>\n        <value>false</value>\n    </property>    \n    <property>\n\t<!--URI Hive  HDFS -->\n\t\t<name>hive.metastore.warehouse.dir</name>\n\t\t<value>/user/hive/warehouse</value>\n\t</property>\n</configuration>\n```\n\n\n\n#### 2.2.6 hive-env.sh\n\n```sh\n[root@master conf]# cp hive-env.sh.template hive-env.sh\n[root@master conf]# vi hive-env.sh\n```\n\n(hive Hadoop):\n\n```sh\nexport HADOOP_HOME=/opt/module/hadoop\n```\n\n#### 2.2.7 HIVE\n\nhivemysql\n\n```sh\n[root@master hive]# schematool -dbType mysql -initSchema \n```\n\n:\n\n![image-20240107181236159](https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202401071812254.png)\n\n![image-20240107181250765](https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202401071812841.png)\n\n:\n\n```sh\nschematool -dbType mysql -initSchema > hive.log\n```\n\n\n\n\n\n#### 2.2.8 \n\n```sh\n[root@master conf]# hive -e \"show databases;\"\n```\n\n![image-20240107181433907](https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202401071814990.png)\n\n\n\n> hive shellhive-3.1.2\n\n\n\nhive`/opt/module/hive/conf/` `log4j.properties`\n\n```sh\n1:\nvi /opt/module/hive/conf/log4j.properties\n2:\nvi $HIVE_HOME/conf/log4j.properties\n```\n\n:\n\n```sh\nlog4j.rootLogger=WARN, CA\nlog4j.appender.CA=org.apache.log4j.ConsoleAppender\nlog4j.appender.CA.layout=org.apache.log4j.PatternLayout\nlog4j.appender.CA.layout.ConversionPattern=%-4r [%t] %-5p %c %x - %m%n\n```\n\nhive\n\n\n\n**:**\n\n```sh\n[root@master ~]# hive -e \"show databases;\"\n```\n\n![image-20240107181919652](https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202401071819758.png)\n\n\n\n\n\n### 2.3 Hive \n\n#### 2.3.1 Hiveserver2 \n\n\tHivehiveserver2jdbc/odbcHiveHiveHiveserver2\n\n\n\n![image-20240113153640372](https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202401131536469.png)\n\n\n\n> (1)\n\n\tHiveHadoopHivesever2HadoopHadoopHiveserver2\n\n\n\n\tHiveserver2hive.server2.enable.doAsHiveserver2Hiveserver2HadoopHivesever2Hadoop\n\n\n\n:one: \n\n![image-20240113154316776](https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202401131543845.png)\n\n\n\n:two:\n\n![image-20240113154438046](https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202401131544123.png)\n\n\n\n**``**\n\n\n\n> (2) Hiveserver2\n\n\n\n:one:Hadoop\n\n\thivesever2Hadoopproxy userHadoopHadoop`hiveserver2Hadoop`\n\n\n\n1. **``core-site.xml``,``hadoop**\n\n```sh\nvim $HADOOP_HOME/etc/hadoop/core-site.xml\n```\n\n2. **:**\n\n```XML\n<!--root-->\n\t<property>\n\t\t<name>hadoop.proxyuser.root.hosts</name>\n\t\t<value>*</value>\n\t</property>\n\n<!--root-->\n\t<property>\n\t\t<name>hadoop.proxyuser.root.groups</name>\n\t\t<value>*</value>\n\t</property>\n\n<!--root-->\n\t<property>\n\t\t<name>hadoop.proxyuser.root.users</name>\n\t\t<value>*</value>\n\t</property>\n```\n\n\n\n:two:Hive\n\n1. ** hive-site.xml **\n\n```sh\n[root@master ~]# vim $HIVE_HOME/conf/hive-site.xml\n```\n\n```xml\n    <property>\n\t<!-- hiveserver2  host ()-->\n\t\t<name>hive.server2.thrift.bind.host</name>\n\t\t<value>192.168.1.10</value>\n\t</property>\n    <property>\n    <!--  hiveserver2  -->\n        <name>hive.server2.thrift.port</name>\n        <value>10000</value>\n    </property>\n```\n\n:three:\n\n1. **hiveserver2**\n\n```sh\n[root@master ~]# hive --service hiveserver2\n```\n\n![image-20240113160812261](https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202401131608356.png)\n\n\n\n,hiveserver2\n\n```sh\n[root@master ~]# ss -tunlp |grep 10000\ntcp    LISTEN     0      50        *:10000                 *:*                   users:((\"java\",pid=9885,fd=511))\n```\n\n![image-20240113160740747](https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202401131607826.png)\n\n\n\n2. **,beeline**\n\n```sh\nbeeline -u jdbc:hive2://master:10000 -n atguigu\n```\n\n1. `beeline`Hive\n2. `-u jdbc:hive2://master:10000`JDBCURL`master`Hive`10000`\n3. `-n atguigu`Hive`atguigu`\n\n\n\n```sh\nbeeline -u jdbc:hive2://master:10000\n```\n\n- `-u`JDBCURLBeelineHive\n\n:\n\n![image-20240113202132033](https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202401132021126.png)\n\n![image-20240113202033694](https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202401132020816.png)\n\n\n\n4. **Datagrip**\n\n(1):\n\n![image-20240113212219461](https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202401132122559.png)\n\n(2)\n\n\tHivebeelineJDBC\n\n![image-20240113212331886](https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202401132123984.png)\n\n3\n\n\n\n![image-20240113213409280](https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202401132134380.png)\n\n4sql\n\n![image-20240113213430503](https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202401132134593.png)\n\n5\n\n![image-20240113213449337](https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202401132134412.png)\n\n\n\n> **hiveserver2:()**\n\n![image-20240111111958040](https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202401111119587.png)\n\n: https://www.cnblogs.com/tianlingqun/p/16322927.html\n\n\n\n```xml\n    <property>\n\t<!-- hive,false -->\n\t\t<name>hive.server2.active.passive.ha.enable</name>\n\t\t<value>true</value>\n\t</property>\n```\n\n#### 2.3.2 metastore\n\n\tHivemetastoreHive CLIHiveserver2\n\n\n\n:one:**metastore**\n\nmetastore\n\n\n\n> (1)\n\n![image-20240113213712903](https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202401132137976.png)\n\n> (2)\n\n![image-20240113213743201](https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202401132137270.png)\n\n``\n\n  (1Hive CLIHive CLI\n\n2\n\n\n\n:two:**metastore**\n\n\n\n> (1\n\nHiveserver2Hive CLIhive-site.xml``()\n\n```xml\n    <!-- jdbcURL -->\n    <property>\n        <name>javax.jdo.option.ConnectionURL</name>\n        <value>jdbc:mysql://192.168.1.10:3306/metastore?createDatabaseIfNotExist=true&amp;useSSL=false</value>\n    </property>\n    \n    <!-- jdbcDriver-->\n    <property>\n        <name>javax.jdo.option.ConnectionDriverName</name>\n        <value>com.mysql.jdbc.Driver</value>\n    </property>\n    \n\t<!-- jdbcusername-->\n    <property>\n        <name>javax.jdo.option.ConnectionUserName</name>\n        <value>root</value>\n    </property>\n\n    <!-- jdbcpassword -->\n    <property>\n        <name>javax.jdo.option.ConnectionPassword</name>\n        <value>123456</value>\n    </property>\n```\n\n> 2\n\n\n\nmetastorehive-site.xml\n\n```xml\n    <!-- jdbcURL -->\n    <property>\n        <name>javax.jdo.option.ConnectionURL</name>\n        <value>jdbc:mysql://192.168.1.10:3306/metastore?createDatabaseIfNotExist=true&amp;useSSL=false</value>\n    </property>\n    \n    <!-- jdbcDriver-->\n    <property>\n        <name>javax.jdo.option.ConnectionDriverName</name>\n        <value>com.mysql.jdbc.Driver</value>\n    </property>\n    \n\t<!-- jdbcusername-->\n    <property>\n        <name>javax.jdo.option.ConnectionUserName</name>\n        <value>root</value>\n    </property>\n\n    <!-- jdbcpassword -->\n    <property>\n        <name>javax.jdo.option.ConnectionPassword</name>\n        <value>123456</value>\n    </property>\n```\n\nHiveserver2Hive CLIhive-site.xml`metastore`\n\n(``)\n\n```xml\n\t<!-- metastore -->\n\t<property>\n\t\t<name>hive.metastore.uris</name>\n\t\t<value>thrift://master:9083</value>\n\t</property>\n```\n\nmetastoremetastore9083\n\n\n\n> (3) ****\n\nHive CLIshou databases\n\n![image-20240113225247501](https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202401132252589.png)\n\n\tHive CLIhive.metastore.urisHive CLI`metastore``metastore`\n\n\n\n**metastore**\n\n```sh\nhive --service metastore\n```\n\nXshellHive\n\n![image-20240113225511730](https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202401132255816.png)\n\n\n\n, Hive CLIshou databases:\n\n![image-20240113225647991](https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202401132256079.png)\n\n#### 2.3.3 hive\n\n:\n\n![image-20240114211120713](https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202401142111810.png)\n\n\n\n,conf\n\n```sh\n[root@master conf]# cp hive-exec-log4j2.properties.template hive-log4j2.properties\n[root@master conf]# vim hive-log4j2.properties\n```\n\nproperty.hive.log.dir\n`property.hive.log.dir = ${sys:java.io.tmpdir}/${sys:user.name}`/tmp/hive/hive.log\n\n\n![image-20240114211359832](https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202401142113949.png)\n\n:\n\n```sh\n# list of properties\nproperty.hive.log.level = INFO\nproperty.hive.root.logger = DRFA\n#property.hive.log.dir = ${sys:java.io.tmpdir}/${sys:user.name}\nproperty.hive.log.dir = /opt/module/apache-hive-3.1.2/logs\nproperty.hive.log.file = hive.log\nproperty.hive.perflogger.log.level = INFO\n```\n\n\n\n#### 2.3.4 Hive\n\n- nohup\n\n- /dev/nullLinux\n\n- 2>&1\n\n- &\n\nnohup [xxx]> file 2>&1 &xxxfile\n\n\n\n> :\n\n```sh\nnohup hive --service metastore 2>&1 &\nnohup hive --service hiveserver2 2>&1 &\n```\n\n> ()\n\n```sh\n1.\nvi $HIVE_HOME/bin/hiveservices.sh\n2.\nchmod +x $HIVE_HOME/bin/hiveservices.sh\n```\n\n> :\n\n```sh\n#!/bin/bash\n\nHIVE_LOG_DIR=$HIVE_HOME/logs\nif [ ! -d $HIVE_LOG_DIR ]\nthen\n\tmkdir -p $HIVE_LOG_DIR\nfi\n\n#12\nfunction check_process()\n{\n    pid=$(ps -ef 2>/dev/null | grep -v grep | grep -i $1 | awk '{print $2}')\n    ppid=$(ss -nltp 2>/dev/null | grep $2 | awk '{print $7}' | cut -d '/' -f 1)\n    echo $pid\n    [[ \"$pid\" =~ \"$ppid\" ]] && [ \"$ppid\" ] && return 0 || return 1\n}\n\nfunction hive_start()\n{\n    metapid=$(check_process HiveMetastore 9083)\n    cmd=\"nohup hive --service metastore >$HIVE_LOG_DIR/metastore.log 2>&1 &\"\n    [ -z \"$metapid\" ] && eval $cmd || echo \"Metastroe\"\n    server2pid=$(check_process HiveServer2 10000)\n    cmd=\"nohup hive --service hiveserver2 >$HIVE_LOG_DIR/hiveServer2.log 2>&1 &\"\n    [ -z \"$server2pid\" ] && eval $cmd || echo \"HiveServer2\"\n}\n\nfunction hive_stop()\n{\nmetapid=$(check_process HiveMetastore 9083)\n    [ \"$metapid\" ] && kill $metapid || echo \"Metastore\"\n    server2pid=$(check_process HiveServer2 10000)\n    [ \"$server2pid\" ] && kill $server2pid || echo \"HiveServer2\"\n}\n\nfunction hive_status()\n{\n  ss -tunlp | grep 10000 > /dev/null\n  if [ $? -ne 0 ];then\n    sleep 3\n    echo \"HiveServer2\"\n  else\n    sleep 3\n    echo \"HiveServer2\"\n  fi\n  ss -tunlp | grep 9083 > /dev/null\n  if [ $? -ne 0 ];then\n    echo \"Metastore\"\n  else\n    echo \"Metastore\"\n  fi\n}\n\n\ncase $1 in\n\"start\")\n    hive_start\n    ;;\n\"stop\")\n    hive_stop\n    ;;\n\"restart\")\n    hive_stop\n    sleep 2\n    hive_start\n    ;;\n\"status\")\n#    check_process HiveMetastore 9083 >/dev/null && echo \"Metastore\" || echo \"Metastore\"\n#    check_process HiveServer2 10000 >/dev/null && echo \"HiveServer2\" || echo \"HiveServer2\"\n    hive_status\n    ;;\n*)\n    echo Invalid Args!\n    echo 'Usage: '$(basename $0)' start|stop|restart|status'\n    ;;\nesac\n```\n\n> \n\n```sh\n[root@master ~]# hiveservices.sh start\n```\n\n:\n\n![image-20240114113057354](https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202401141130477.png)\n\n!\n\n\n\n!!!\n\n### 2.4  Hive\n\n#### 2.4.1 Hive\n\n```sh\n:\n[root@master hive]$ bin/hive -help\nusage: hive\n -d,--define <key=value>          Variable subsitution to apply to hive\n                                  commands. e.g. -d A=B or --define A=B\n    --database <databasename>     Specify the database to use\n -e <quoted-query-string>         SQL from command line\n -f <filename>                      SQL from files\n -H,--help                        Print help information\n    --hiveconf <property=value>   Use value for given property\n    --hivevar <key=value>         Variable subsitution to apply to hive\n                                  commands. e.g. --hivevar A=B\n -i <filename>                    Initialization SQL file\n -S,--silent                      Silent mode in interactive shell\n -v,--verbose                     Verbose mode (echo executed SQL to the console)\n```\n\n1:\n\n```sql\n1Hivestudent1\nhive (default)> create table student(id int,name string);\nOK\nTime taken: 1.291 seconds\n\nhive (default)> insert into table student values(1,\"zhangsan\");\nhive (default)> select * from student;\nOK\nstudent.id\tstudent.name\n1\tzhangsan\nTime taken: 0.144 seconds, Fetched: 1 row(s)\n\n2-ehivehql\n[root@master hive]$ bin/hive -e \"select id from student;\"\n```\n\n```sh\n3-fhql\n1/opt/module/hive/datasdatashivef.sql\n[atguigu@master hive]$ mkdir datas\n[atguigu@master datas]$ vim hivef.sql\n2hql\nselect * from student;\n3hql\n[atguigu@master hive]$ bin/hive -f /opt/module/hive/datas/hivef.sql\n4hql\n[atguigu@master hive]$ bin/hive -f /opt/module/hive/datas/hivef.sql  > /opt/module/hive/datas/hive_result.txt\n```\n\n2:\n\n```sql\ncreate table if  not exists orders(\nid string,\nuserno string,\npassword string,\nemail string,\nphone string,\nname string,\nidcard string,\nstatus int,\ndepid string\n)\nrow format  delimited fields terminated by ',';\n\n```\n\ncsvhive()\n\n```sh\nload data local inpath '' into table ;\nload data local inpath '/opt/user.csv' into table orders;\n```\n\nhdfshive\n\n```sh\nload data inpath hdfscsv into table ;\nload data inpath '/data081/order.csv' into table orders;\n```\n\n\n\n\n\n```sh\n load data inpath /tmp/fun_user.txt into table fun_user_external;\n load data local inpath /tmp/fun_user.txt into table fun_user_external;\nlocallocal\n```\n\n\n","slug":"HiveHiveserver2-metastore","published":1,"updated":"2024-11-10T14:54:33.058Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cm3cx7o5v000vkmmjdqcs1y84","content":"<h1 id=\"Hive\"><a href=\"#Hive\" class=\"headerlink\" title=\"Hive\"></a>Hive</h1><h2 id=\"1-Hive\"><a href=\"#1-Hive\" class=\"headerlink\" title=\"1. Hive\"></a>1. Hive</h2><h3 id=\"1-1-Hive\"><a href=\"#1-1-Hive\" class=\"headerlink\" title=\"1.1 Hive\"></a>1.1 Hive</h3><p>HiveFacebook</p>\n<p>HiveHadoop<code></code><code></code><code>SQL</code></p>\n<p><code>HQLMapReduce</code></p>\n<img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202401071511957.png\" alt=\"image-20200916135459253\">\n\n<p>1HiveHDFS</p>\n<p>2HiveMapReduce</p>\n<p>3Yarn</p>\n<h3 id=\"1-2-Hive\"><a href=\"#1-2-Hive\" class=\"headerlink\" title=\"1.2 Hive\"></a>1.2 Hive</h3><h4 id=\"1-2-1-\"><a href=\"#1-2-1-\" class=\"headerlink\" title=\"1.2.1 \"></a>1.2.1 </h4><ol>\n<li>SQL </li>\n<li>MapReduce </li>\n<li>HiveHive </li>\n<li>HiveHive</li>\n<li>Hive</li>\n</ol>\n<h4 id=\"1-2-2-\"><a href=\"#1-2-2-\" class=\"headerlink\" title=\"1.2.2 \"></a>1.2.2 </h4><p>1HiveHQL</p>\n<p>1</p>\n<p>2</p>\n<p>2Hive</p>\n<p>1HiveMapReduce</p>\n<p>2Hive</p>\n<h3 id=\"1-3Hive\"><a href=\"#1-3Hive\" class=\"headerlink\" title=\"1.3Hive\"></a>1.3Hive</h3><img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202401071511001.png\" alt=\"img\">\n\n<p><strong>1Client</strong></p>\n<p>CLIhive shellJDBC&#x2F;ODBC(javahive)WEBUIhive</p>\n<p><strong>2Metastore</strong></p>\n<p>default&#x2F;</p>\n<p><code>derbyMySQLMetastore</code></p>\n<p><strong>3Hadoop</strong></p>\n<p>HDFSMapReduce</p>\n<p><strong>4Driver</strong></p>\n<p>1SQL ParserSQLASTantlrASTSQL</p>\n<p>2Physical PlanAST</p>\n<p>3Query Optimizer</p>\n<p>4ExecutionHiveMR&#x2F;Spark</p>\n<img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202401071511219.png\" alt=\"image-20200916140721644\">\n\n<p>Hive(SQL)Driver(MetaStore)MapReduceHadoop</p>\n<h2 id=\"2-Hive\"><a href=\"#2-Hive\" class=\"headerlink\" title=\"2. Hive\"></a>2. Hive</h2><p><strong></strong>:</p>\n<table>\n<thead>\n<tr>\n<th></th>\n<th></th>\n<th>ip</th>\n<th></th>\n</tr>\n</thead>\n<tbody><tr>\n<td>centos7</td>\n<td>master</td>\n<td>192.168.1.10</td>\n<td>root</td>\n</tr>\n<tr>\n<td>centos7</td>\n<td>slave1</td>\n<td>192.168.1.20</td>\n<td>root</td>\n</tr>\n<tr>\n<td>centos7</td>\n<td>slave2</td>\n<td>192.168.1.30</td>\n<td>root</td>\n</tr>\n</tbody></table>\n<p><strong></strong></p>\n<table>\n<thead>\n<tr>\n<th></th>\n<th></th>\n</tr>\n</thead>\n<tbody><tr>\n<td>java</td>\n<td>1.8</td>\n</tr>\n<tr>\n<td>Hadoop</td>\n<td>3.1.3</td>\n</tr>\n<tr>\n<td>Hive</td>\n<td>3.1.2</td>\n</tr>\n<tr>\n<td>Mysql</td>\n<td>5.7</td>\n</tr>\n</tbody></table>\n<p><strong></strong></p>\n<table>\n<thead>\n<tr>\n<th></th>\n<th></th>\n<th></th>\n</tr>\n</thead>\n<tbody><tr>\n<td>mysql</td>\n<td>root</td>\n<td>123456</td>\n</tr>\n</tbody></table>\n<h3 id=\"2-1-mysql\"><a href=\"#2-1-mysql\" class=\"headerlink\" title=\"2.1 mysql\"></a>2.1 mysql</h3><h4 id=\"2-1-1-rpm\"><a href=\"#2-1-1-rpm\" class=\"headerlink\" title=\"2.1.1 rpm\"></a>2.1.1 rpm</h4><blockquote>\n<p> (1) mysql</p>\n</blockquote>\n<p><img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202401071524098.png\" alt=\"image-20240107152437021\"></p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">rpm</span> <span class=\"token parameter variable\">-Uvh</span> *.rpm <span class=\"token parameter variable\">--nodeps</span> <span class=\"token parameter variable\">--force</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p>:<img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202401071525227.png\" alt=\"image-20240107152542173\"></p>\n<blockquote>\n<p>(2) </p>\n</blockquote>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">rpm</span> -qa<span class=\"token operator\">|</span><span class=\"token function\">grep</span> mysql<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p>:<img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202401071526546.png\" alt=\"image-20240107152611487\"></p>\n<blockquote>\n<p>(3) </p>\n</blockquote>\n<pre class=\"line-numbers language-sql\" data-language=\"sql\"><code class=\"language-sql\">mysqld <span class=\"token comment\">--initialize --user=mysql</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<blockquote>\n<p>(4) root</p>\n</blockquote>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">grep</span> <span class=\"token string\">'temporary password'</span> /var/log/mysqld.log<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p><img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202401071527022.png\" alt=\"image-20240107152701968\"></p>\n<blockquote>\n<p>(5) Mysql</p>\n</blockquote>\n<p>:</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token punctuation\">[</span>root@master mysql<span class=\"token punctuation\">]</span><span class=\"token comment\"># systemctl start mysqld</span>\n<span class=\"token punctuation\">[</span>root@master mysql<span class=\"token punctuation\">]</span><span class=\"token comment\"># systemctl status mysqld</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n\n<p><img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202401071528386.png\" alt=\"image-20240107152816325\"></p>\n<p>:</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token punctuation\">[</span>root@master mysql<span class=\"token punctuation\">]</span><span class=\"token comment\"># mysql -uroot -p'zDfW:um0hgdi'</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p><img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202401071530387.png\" alt=\"image-20240107153027330\"></p>\n<blockquote>\n<p>(6) root</p>\n</blockquote>\n<pre class=\"line-numbers language-sql\" data-language=\"sql\"><code class=\"language-sql\">mysql<span class=\"token operator\">></span> <span class=\"token keyword\">set</span> password <span class=\"token operator\">=</span><span class=\"token string\">\"123456\"</span><span class=\"token punctuation\">;</span>\nQuery OK<span class=\"token punctuation\">,</span> <span class=\"token number\">0</span> <span class=\"token keyword\">rows</span> affected <span class=\"token punctuation\">(</span><span class=\"token number\">0.00</span> sec<span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n\n<blockquote>\n<p>(7) MySQLuserrootip</p>\n</blockquote>\n<p><strong>1:</strong></p>\n<pre class=\"line-numbers language-sql\" data-language=\"sql\"><code class=\"language-sql\">mysql<span class=\"token operator\">></span> <span class=\"token keyword\">grant</span> <span class=\"token keyword\">all</span> <span class=\"token keyword\">privileges</span> <span class=\"token keyword\">on</span> <span class=\"token operator\">*</span><span class=\"token punctuation\">.</span><span class=\"token operator\">*</span> <span class=\"token keyword\">to</span> <span class=\"token string\">'root'</span><span class=\"token variable\">@'%'</span> identified <span class=\"token keyword\">by</span> <span class=\"token string\">'123456'</span><span class=\"token punctuation\">;</span>\nmysql<span class=\"token operator\">></span> flush <span class=\"token keyword\">privileges</span><span class=\"token punctuation\">;</span>  <span class=\"token comment\">#MySQL</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n\n<p><strong>2:</strong></p>\n<p> MySQL :</p>\n<p>&#x3D;&#x3D;()&#x3D;&#x3D;</p>\n<pre class=\"line-numbers language-sql\" data-language=\"sql\"><code class=\"language-sql\"><span class=\"token comment\">#root</span>\nmysql<span class=\"token operator\">></span> <span class=\"token keyword\">select</span> <span class=\"token keyword\">user</span><span class=\"token punctuation\">,</span>host <span class=\"token keyword\">from</span> mysql<span class=\"token punctuation\">.</span><span class=\"token keyword\">user</span><span class=\"token punctuation\">;</span>\n<span class=\"token operator\">+</span><span class=\"token comment\">---------------+-----------+</span>\n<span class=\"token operator\">|</span> <span class=\"token keyword\">user</span>          <span class=\"token operator\">|</span> host      <span class=\"token operator\">|</span>\n<span class=\"token operator\">+</span><span class=\"token comment\">---------------+-----------+</span>\n<span class=\"token operator\">|</span> mysql<span class=\"token punctuation\">.</span><span class=\"token keyword\">session</span> <span class=\"token operator\">|</span> localhost <span class=\"token operator\">|</span>\n<span class=\"token operator\">|</span> mysql<span class=\"token punctuation\">.</span>sys     <span class=\"token operator\">|</span> localhost <span class=\"token operator\">|</span>\n<span class=\"token operator\">|</span> root          <span class=\"token operator\">|</span> localhost <span class=\"token operator\">|</span>\n<span class=\"token operator\">+</span><span class=\"token comment\">---------------+-----------+</span>\n<span class=\"token number\">3</span> <span class=\"token keyword\">rows</span> <span class=\"token operator\">in</span> <span class=\"token keyword\">set</span> <span class=\"token punctuation\">(</span><span class=\"token number\">0.00</span> sec<span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>rootip:</p>\n<pre class=\"line-numbers language-sql\" data-language=\"sql\"><code class=\"language-sql\">mysql<span class=\"token operator\">></span> <span class=\"token keyword\">UPDATE</span> mysql<span class=\"token punctuation\">.</span><span class=\"token keyword\">user</span> <span class=\"token keyword\">SET</span> host <span class=\"token operator\">=</span> <span class=\"token string\">'%'</span> <span class=\"token keyword\">WHERE</span> <span class=\"token keyword\">user</span> <span class=\"token operator\">=</span> <span class=\"token string\">'root'</span><span class=\"token punctuation\">;</span>\nmysql<span class=\"token operator\">></span> flush <span class=\"token keyword\">privileges</span><span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n\n<p>:</p>\n<pre class=\"line-numbers language-sql\" data-language=\"sql\"><code class=\"language-sql\">mysql<span class=\"token operator\">></span> <span class=\"token keyword\">select</span> <span class=\"token keyword\">user</span><span class=\"token punctuation\">,</span>host <span class=\"token keyword\">from</span> mysql<span class=\"token punctuation\">.</span><span class=\"token keyword\">user</span><span class=\"token punctuation\">;</span>\n<span class=\"token operator\">+</span><span class=\"token comment\">---------------+-----------+</span>\n<span class=\"token operator\">|</span> <span class=\"token keyword\">user</span>          <span class=\"token operator\">|</span> host      <span class=\"token operator\">|</span>\n<span class=\"token operator\">+</span><span class=\"token comment\">---------------+-----------+</span>\n<span class=\"token operator\">|</span> root          <span class=\"token operator\">|</span> <span class=\"token operator\">%</span>         <span class=\"token operator\">|</span>\n<span class=\"token operator\">|</span> mysql<span class=\"token punctuation\">.</span><span class=\"token keyword\">session</span> <span class=\"token operator\">|</span> localhost <span class=\"token operator\">|</span>\n<span class=\"token operator\">|</span> mysql<span class=\"token punctuation\">.</span>sys     <span class=\"token operator\">|</span> localhost <span class=\"token operator\">|</span>\n<span class=\"token operator\">+</span><span class=\"token comment\">---------------+-----------+</span>\n<span class=\"token number\">3</span> <span class=\"token keyword\">rows</span> <span class=\"token operator\">in</span> <span class=\"token keyword\">set</span> <span class=\"token punctuation\">(</span><span class=\"token number\">0.00</span> sec<span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p></p>\n<p><strong>:</strong></p>\n<p>(docker,)</p>\n<p><img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202401071600539.png\" alt=\"image-20240107160016412\"></p>\n<blockquote>\n<p>:warning::warning::warning::</p>\n</blockquote>\n<p><code>1</code>Mysql</p>\n<p></p>\n<pre class=\"line-numbers language-sql\" data-language=\"sql\"><code class=\"language-sql\"><span class=\"token keyword\">SHOW</span> VARIABLES <span class=\"token operator\">LIKE</span> <span class=\"token string\">'validate_password%'</span><span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p></p>\n<pre class=\"line-numbers language-sql\" data-language=\"sql\"><code class=\"language-sql\"><span class=\"token keyword\">set</span> <span class=\"token keyword\">global</span> validate_password_policy<span class=\"token operator\">=</span>LOW<span class=\"token punctuation\">;</span>  \\\\\n<span class=\"token keyword\">set</span> <span class=\"token keyword\">global</span> validate_password_length<span class=\"token operator\">=</span><span class=\"token number\">6</span><span class=\"token punctuation\">;</span>   \\\\\nmysql<span class=\"token operator\">></span> flush <span class=\"token keyword\">privileges</span><span class=\"token punctuation\">;</span>  <span class=\"token comment\">#MySQL</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n\n<p></p>\n<pre class=\"line-numbers language-sql\" data-language=\"sql\"><code class=\"language-sql\">mysql<span class=\"token operator\">></span> <span class=\"token keyword\">grant</span> <span class=\"token keyword\">all</span> <span class=\"token keyword\">privileges</span> <span class=\"token keyword\">on</span> <span class=\"token operator\">*</span><span class=\"token punctuation\">.</span><span class=\"token operator\">*</span> <span class=\"token keyword\">to</span> <span class=\"token string\">'root'</span><span class=\"token variable\">@'%'</span> identified <span class=\"token keyword\">by</span> <span class=\"token string\">'123456'</span><span class=\"token punctuation\">;</span>\nmysql<span class=\"token operator\">></span> flush <span class=\"token keyword\">privileges</span><span class=\"token punctuation\">;</span>  <span class=\"token comment\">#MySQL</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n\n\n\n<p><code>2</code>: mysql</p>\n<p>MySQL</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">yum remove mysql* <span class=\"token parameter variable\">-y</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p>MySQL</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">find</span> / <span class=\"token parameter variable\">-name</span> <span class=\"token string\">\"mysql*\"</span>  <span class=\"token comment\">#mysql</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">find</span> / <span class=\"token parameter variable\">-name</span> <span class=\"token string\">\"*mysql*\"</span><span class=\"token operator\">|</span><span class=\"token function\">xargs</span> <span class=\"token function\">rm</span> <span class=\"token parameter variable\">-rfv</span>  <span class=\"token comment\">#mysql</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p></p>\n<p><strong>rpm </strong></p>\n<p>1. </p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">rpm</span> <span class=\"token parameter variable\">-ivh</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p>2.</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">rpm</span> <span class=\"token parameter variable\">-Uvh</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p>3.</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">rpm</span> <span class=\"token parameter variable\">-e</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p>4. force &#x2F; -nodeps</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">-force \n-nodeps RPM<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n\n<h4 id=\"2-1-2-Docker-MySQL\"><a href=\"#2-1-2-Docker-MySQL\" class=\"headerlink\" title=\"2.1.2 Docker MySQL\"></a>2.1.2 Docker MySQL</h4><blockquote>\n<p>(1) MySQL</p>\n</blockquote>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token punctuation\">[</span>root@bigdata ~<span class=\"token punctuation\">]</span><span class=\"token comment\"># docker pull mysql/mysql-server:5.7</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<blockquote>\n<p>(2) MySQL</p>\n</blockquote>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">docker</span> run <span class=\"token parameter variable\">-e</span> <span class=\"token assign-left variable\">MYSQL_ROOT_PASSWORD</span><span class=\"token operator\">=</span><span class=\"token number\">123456</span> <span class=\"token parameter variable\">-e</span> <span class=\"token assign-left variable\">MYSQL_ROOT_HOST</span><span class=\"token operator\">=</span>% <span class=\"token parameter variable\">-p</span> <span class=\"token number\">3306</span>:3306 <span class=\"token parameter variable\">--name</span><span class=\"token operator\">=</span>mysql1 <span class=\"token parameter variable\">-d</span> mysql/mysql-server:5.7 --character-set-server<span class=\"token operator\">=</span>utf8mb4<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p>:</p>\n<ul>\n<li><code>docker run</code>: Docker </li>\n<li><code>-e MYSQL_ROOT_PASSWORD=123456</code>:  MySQL  <code>123456</code></li>\n<li><code>-e MYSQL_ROOT_HOST=%</code>:  MySQL <code>%</code> </li>\n<li><code>-p 3306:3306</code>:  MySQL  <code>3306</code>  <code>3307</code> MySQL </li>\n<li><code>--name=mysql1</code>:  <code>mysql1</code></li>\n<li><code>-d</code>: detach </li>\n<li><code>mysql/mysql-server:5.7</code>:  MySQL Docker </li>\n<li><code>--character-set-server=utf8mb4</code>:  MySQL  <code>utf8mb4</code></li>\n</ul>\n<p><strong>:</strong></p>\n<p>mariadb:</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token punctuation\">[</span>root@bigdata ~<span class=\"token punctuation\">]</span><span class=\"token comment\"># yum install mariadb -y</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p>:</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token punctuation\">[</span>root@bigdata ~<span class=\"token punctuation\">]</span><span class=\"token comment\"># mysql -uroot -p123456 -h 192.168.10.81 -P 3308 -e \"show databases;\"</span>\n+--------------------+\n<span class=\"token operator\">|</span> Database           <span class=\"token operator\">|</span>\n+--------------------+\n<span class=\"token operator\">|</span> information_schema <span class=\"token operator\">|</span>\n<span class=\"token operator\">|</span> mysql              <span class=\"token operator\">|</span>\n<span class=\"token operator\">|</span> performance_schema <span class=\"token operator\">|</span>\n<span class=\"token operator\">|</span> sys                <span class=\"token operator\">|</span>\n+--------------------+<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>MySQL</p>\n<h3 id=\"2-2-Hive\"><a href=\"#2-2-Hive\" class=\"headerlink\" title=\"2.2 Hive\"></a>2.2 Hive</h3><h4 id=\"2-2-1-\"><a href=\"#2-2-1-\" class=\"headerlink\" title=\"2.2.1 \"></a>2.2.1 </h4><pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token punctuation\">[</span>root@master ~<span class=\"token punctuation\">]</span><span class=\"token comment\"># tar -zxvf /opt/software/apache-hive-3.1.2-bin.tar.gz -C /opt/module/</span>\n<span class=\"token punctuation\">[</span>root@master ~<span class=\"token punctuation\">]</span><span class=\"token comment\"># mv /opt/module/apache-hive-3.1.2-bin/ /opt/module/hive</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n\n<h4 id=\"2-2-2-\"><a href=\"#2-2-2-\" class=\"headerlink\" title=\"2.2.2 \"></a>2.2.2 </h4><pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token comment\">#HIVE_HOME</span>\n<span class=\"token builtin class-name\">export</span> <span class=\"token assign-left variable\">HIVE_HOME</span><span class=\"token operator\">=</span>/opt/module/hive\n<span class=\"token builtin class-name\">export</span> <span class=\"token assign-left variable\"><span class=\"token environment constant\">PATH</span></span><span class=\"token operator\">=</span><span class=\"token environment constant\">$PATH</span><span class=\"token builtin class-name\">:</span><span class=\"token variable\">$HIVE_HOME</span>/bin<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token comment\">#</span>\n<span class=\"token function\">cat</span> <span class=\"token operator\">>></span>/etc/profile<span class=\"token operator\">&lt;&lt;</span><span class=\"token string\">EOF\n#HIVE\nexport HIVE_HOME=/opt/module/hive\nexport PATH=\\<span class=\"token environment constant\">$PATH</span>:\\<span class=\"token variable\">$HIVE_HOME</span>/bin\nEOF</span>\n<span class=\"token comment\">#</span>\n<span class=\"token builtin class-name\">source</span> /etc/profile<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h4 id=\"2-2-3-MySQL\"><a href=\"#2-2-3-MySQL\" class=\"headerlink\" title=\"2.2.3 MySQL\"></a>2.2.3 MySQL</h4><p>MySQLJDBCHivelib:</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token punctuation\">[</span>root@master ~<span class=\"token punctuation\">]</span><span class=\"token comment\"># cp /opt/software/mysql/mysql-connector-java-5.1.44-bin.jar $HIVE_HOME/lib</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p>:</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token punctuation\">[</span>root@master ~<span class=\"token punctuation\">]</span><span class=\"token comment\"># ll $HIVE_HOME/lib | grep mysql</span>\n-rw-r--r-- <span class=\"token number\">1</span> root root   <span class=\"token number\">999635</span> Jan  <span class=\"token number\">7</span> 09:19 mysql-connector-java-5.1.44-bin.jar\n-rw-r--r-- <span class=\"token number\">1</span> root root    <span class=\"token number\">10476</span> Nov <span class=\"token number\">15</span>  <span class=\"token number\">2018</span> mysql-metadata-storage-0.12.0.jar<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n\n<p><img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202401071721497.png\" alt=\"image-20240107172131324\"></p>\n<p>HDFSuserhive<code>Hivehadoop</code>hdfs</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">:\n<span class=\"token punctuation\">[</span>root@master ~<span class=\"token punctuation\">]</span><span class=\"token comment\"># hdfs dfs -mkdir -p /user/hive/warehouse </span>\n:\n<span class=\"token punctuation\">[</span>root@master ~<span class=\"token punctuation\">]</span><span class=\"token comment\"># hdfs dfs -ls /user/hive </span>\nFound <span class=\"token number\">1</span> items\ndrwxr-xr-x   - root supergroup          <span class=\"token number\">0</span> <span class=\"token number\">2024</span>-01-07 09:23 /user/hive/warehouse<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p><img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202401071724272.png\" alt=\"image-20240107172405192\"></p>\n<h4 id=\"2-2-4-guava-\"><a href=\"#2-2-4-guava-\" class=\"headerlink\" title=\"2.2.4 guava()\"></a>2.2.4 guava()</h4><pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token number\">1</span>.guava-19.0.jar,hadoopguava-27.0-jre.jar\n<span class=\"token punctuation\">[</span>root@master ~<span class=\"token punctuation\">]</span><span class=\"token comment\"># rm -rf $HIVE_HOME/lib/guava-19.0.jar</span>\n<span class=\"token punctuation\">[</span>root@master ~<span class=\"token punctuation\">]</span><span class=\"token comment\"># cp $HADOOP_HOME/share/hadoop/common/lib/guava-27.0-jre.jar $HIVE_HOME/lib</span>\n<span class=\"token number\">2</span>.\n<span class=\"token punctuation\">[</span>root@master ~<span class=\"token punctuation\">]</span><span class=\"token comment\"># ll $HIVE_HOME/lib/guava-27.0-jre.jar </span>\n-rw-r--r-- <span class=\"token number\">1</span> root root <span class=\"token number\">2747878</span> Jan  <span class=\"token number\">7</span> 09:27 /opt/module/hive/lib/guava-27.0-jre.jar<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h4 id=\"2-2-5-hive-site-xml\"><a href=\"#2-2-5-hive-site-xml\" class=\"headerlink\" title=\"2.2.5 hive-site.xml\"></a>2.2.5 <code>hive-site.xml</code></h4><blockquote>\n<p>1:</p>\n<p>&#x3D;&#x3D;()&#x3D;&#x3D;</p>\n</blockquote>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token punctuation\">[</span>root@master ~<span class=\"token punctuation\">]</span><span class=\"token comment\"># cd $HIVE_HOME/conf</span>\n<span class=\"token punctuation\">[</span>root@master conf<span class=\"token punctuation\">]</span><span class=\"token comment\"># cp hive-default.xml.template hive-site.xml</span>\n<span class=\"token punctuation\">[</span>root@master conf<span class=\"token punctuation\">]</span><span class=\"token comment\"># vi hive-site.xml</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n\n<p><strong>:</strong></p>\n<!-- jdbc  password --> \n\n<pre class=\"line-numbers language-markup\" data-language=\"markup\"><code class=\"language-markup\">568     <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>name</span><span class=\"token punctuation\">></span></span>javax.jdo.option.ConnectionPassword<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>name</span><span class=\"token punctuation\">></span></span>\n569     <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>value</span><span class=\"token punctuation\">></span></span>123456<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>value</span><span class=\"token punctuation\">></span></span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n\n<p><img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202401071742987.png\" alt=\"image-20240107174234563\"></p>\n<!-- jdbc  URL -->\n\n<pre class=\"line-numbers language-markup\" data-language=\"markup\"><code class=\"language-markup\">583\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>name</span><span class=\"token punctuation\">></span></span>javax.jdo.option.ConnectionURL<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>name</span><span class=\"token punctuation\">></span></span>\n584\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>value</span><span class=\"token punctuation\">></span></span>jdbc:mysql://192.168.1.10:3306/metastore?createDatabaseIfNotExist=true<span class=\"token entity named-entity\" title=\"&amp;\">&amp;amp;</span>useSSL=false<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>value</span><span class=\"token punctuation\">></span></span>\n\n:\njdbc:mysql://192.168.1.10:3306/metastore?createDatabaseIfNotExist=true<span class=\"token entity named-entity\" title=\"&amp;\">&amp;amp;</span>useSSL=false\n&amp;amp<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p><img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202401071759521.png\" alt=\"image-20240107175939389\"></p>\n<p>:</p>\n<ul>\n<li><code>jdbc:mysql://</code>:  JDBC  MySQL  JDBC </li>\n<li><code>192.168.1.10</code>:  IP </li>\n<li><code>3306</code>: MySQL  <code>3306</code></li>\n<li><code>metastore</code>: </li>\n<li><code>?createDatabaseIfNotExist=true</code>: </li>\n<li><code>&amp;amp</code>:  HTML  <code>&amp;</code> </li>\n<li><code>useSSL=false</code>:  SSL </li>\n</ul>\n<p> <code>192.168.1.10</code>  <code>3306</code>  MySQL  <code>metastore</code> SSL </p>\n<!-- jdbc  Driver -->\n\n<pre class=\"line-numbers language-markup\" data-language=\"markup\"><code class=\"language-markup\">1101\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>name</span><span class=\"token punctuation\">></span></span>javax.jdo.option.ConnectionDriverName<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>name</span><span class=\"token punctuation\">></span></span>\n1102\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>value</span><span class=\"token punctuation\">></span></span>com.mysql.jdbc.Driver<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>value</span><span class=\"token punctuation\">></span></span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n\n<p><img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202401071800309.png\" alt=\"image-20240107180037239\"></p>\n<!-- jdbc  username()--> \n\n<pre class=\"line-numbers language-markup\" data-language=\"markup\"><code class=\"language-markup\">1126\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>name</span><span class=\"token punctuation\">></span></span>javax.jdo.option.ConnectionUserName<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>name</span><span class=\"token punctuation\">></span></span>\n1127\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>value</span><span class=\"token punctuation\">></span></span>root<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>value</span><span class=\"token punctuation\">></span></span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n\n<p><img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202401071802628.png\" alt=\"image-20240107180202550\"></p>\n<p>,    4404</p>\n<p>${system:java.io.tmpdir}&#x2F;${system:user.name}</p>\n<p>&#x2F;home&#x2F;hive&#x2F;tmp&#x2F;root</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">shift+:\n<span class=\"token builtin class-name\">:</span> %s@<span class=\"token variable\">$&#123;system<span class=\"token operator\">:</span>user.name&#125;</span>@root@g\n<span class=\"token builtin class-name\">:</span> %s@<span class=\"token variable\">$&#123;system<span class=\"token operator\">:</span>java.io.tmpdir&#125;</span>@/home/hive/tmp@g<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n\n<p>&amp;#8   3215</p>\n<p><img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202401071807782.png\" alt=\"image-20240107180735702\"></p>\n<p></p>\n<blockquote>\n<p>2:</p>\n<p>&#x3D;&#x3D;()&#x3D;&#x3D;</p>\n</blockquote>\n<p>:</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">vi</span> <span class=\"token variable\">$HIVE_HOME</span>/conf/hive-site.xml<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<pre class=\"line-numbers language-markup\" data-language=\"markup\"><code class=\"language-markup\"><span class=\"token prolog\">&lt;?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"no\"?></span>\n<span class=\"token prolog\">&lt;?xml-stylesheet type=\"text/xsl\" href=\"configuration.xsl\"?></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>configuration</span><span class=\"token punctuation\">></span></span>\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>property</span><span class=\"token punctuation\">></span></span>\n\t<span class=\"token comment\">&lt;!--URL--></span>\n\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>name</span><span class=\"token punctuation\">></span></span>javax.jdo.option.ConnectionURL<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>name</span><span class=\"token punctuation\">></span></span>\n\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>value</span><span class=\"token punctuation\">></span></span>jdbc:mysql://192.168.1.10:3306/metastore?createDatabaseIfNotExist=true<span class=\"token entity named-entity\" title=\"&amp;\">&amp;amp;</span>useSSL=false<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>value</span><span class=\"token punctuation\">></span></span>\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>property</span><span class=\"token punctuation\">></span></span>\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>property</span><span class=\"token punctuation\">></span></span>\n\t<span class=\"token comment\">&lt;!----></span>\n\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>name</span><span class=\"token punctuation\">></span></span>javax.jdo.option.ConnectionDriverName<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>name</span><span class=\"token punctuation\">></span></span>\n\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>value</span><span class=\"token punctuation\">></span></span>com.mysql.jdbc.Driver<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>value</span><span class=\"token punctuation\">></span></span>\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>property</span><span class=\"token punctuation\">></span></span>\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>property</span><span class=\"token punctuation\">></span></span>\n\t<span class=\"token comment\">&lt;!-- jdbc  username--></span>\n\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>name</span><span class=\"token punctuation\">></span></span>javax.jdo.option.ConnectionUserName<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>name</span><span class=\"token punctuation\">></span></span>\n\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>value</span><span class=\"token punctuation\">></span></span>root<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>value</span><span class=\"token punctuation\">></span></span>\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>property</span><span class=\"token punctuation\">></span></span>\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>property</span><span class=\"token punctuation\">></span></span>\n\t<span class=\"token comment\">&lt;!-- jdbc  password--></span>\n\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>name</span><span class=\"token punctuation\">></span></span>javax.jdo.option.ConnectionPassword<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>name</span><span class=\"token punctuation\">></span></span>\n\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>value</span><span class=\"token punctuation\">></span></span>123456<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>value</span><span class=\"token punctuation\">></span></span>\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>property</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>property</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token comment\">&lt;!-- Hive  --></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>name</span><span class=\"token punctuation\">></span></span>hive.metastore.schema.verification<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>name</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>value</span><span class=\"token punctuation\">></span></span>false<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>value</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>property</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>property</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token comment\">&lt;!--  --></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>name</span><span class=\"token punctuation\">></span></span>hive.metastore.event.db.notification.api.auth<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>name</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>value</span><span class=\"token punctuation\">></span></span>false<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>value</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>property</span><span class=\"token punctuation\">></span></span>    \n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>property</span><span class=\"token punctuation\">></span></span>\n\t<span class=\"token comment\">&lt;!--URI Hive  HDFS --></span>\n\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>name</span><span class=\"token punctuation\">></span></span>hive.metastore.warehouse.dir<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>name</span><span class=\"token punctuation\">></span></span>\n\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>value</span><span class=\"token punctuation\">></span></span>/user/hive/warehouse<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>value</span><span class=\"token punctuation\">></span></span>\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>property</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>configuration</span><span class=\"token punctuation\">></span></span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n\n\n<h4 id=\"2-2-6-hive-env-sh\"><a href=\"#2-2-6-hive-env-sh\" class=\"headerlink\" title=\"2.2.6 hive-env.sh\"></a>2.2.6 hive-env.sh</h4><pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token punctuation\">[</span>root@master conf<span class=\"token punctuation\">]</span><span class=\"token comment\"># cp hive-env.sh.template hive-env.sh</span>\n<span class=\"token punctuation\">[</span>root@master conf<span class=\"token punctuation\">]</span><span class=\"token comment\"># vi hive-env.sh</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n\n<p>(hive Hadoop):</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token builtin class-name\">export</span> <span class=\"token assign-left variable\">HADOOP_HOME</span><span class=\"token operator\">=</span>/opt/module/hadoop<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<h4 id=\"2-2-7-HIVE\"><a href=\"#2-2-7-HIVE\" class=\"headerlink\" title=\"2.2.7 HIVE\"></a>2.2.7 HIVE</h4><p>hivemysql</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token punctuation\">[</span>root@master hive<span class=\"token punctuation\">]</span><span class=\"token comment\"># schematool -dbType mysql -initSchema </span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p>:</p>\n<p><img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202401071812254.png\" alt=\"image-20240107181236159\"></p>\n<p><img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202401071812841.png\" alt=\"image-20240107181250765\"></p>\n<p>:</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">schematool <span class=\"token parameter variable\">-dbType</span> mysql <span class=\"token parameter variable\">-initSchema</span> <span class=\"token operator\">></span> hive.log<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n\n\n\n\n<h4 id=\"2-2-8-\"><a href=\"#2-2-8-\" class=\"headerlink\" title=\"2.2.8 \"></a>2.2.8 </h4><pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token punctuation\">[</span>root@master conf<span class=\"token punctuation\">]</span><span class=\"token comment\"># hive -e \"show databases;\"</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p><img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202401071814990.png\" alt=\"image-20240107181433907\"></p>\n<blockquote>\n<p>hive shellhive-3.1.2</p>\n</blockquote>\n<p></p>\n<p>hive<code>/opt/module/hive/conf/</code> <code>log4j.properties</code></p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">1:\n<span class=\"token function\">vi</span> /opt/module/hive/conf/log4j.properties\n2:\n<span class=\"token function\">vi</span> <span class=\"token variable\">$HIVE_HOME</span>/conf/log4j.properties<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>:</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token assign-left variable\">log4j.rootLogger</span><span class=\"token operator\">=</span>WARN, CA\n<span class=\"token assign-left variable\">log4j.appender.CA</span><span class=\"token operator\">=</span>org.apache.log4j.ConsoleAppender\n<span class=\"token assign-left variable\">log4j.appender.CA.layout</span><span class=\"token operator\">=</span>org.apache.log4j.PatternLayout\n<span class=\"token assign-left variable\">log4j.appender.CA.layout.ConversionPattern</span><span class=\"token operator\">=</span>%-4r <span class=\"token punctuation\">[</span>%t<span class=\"token punctuation\">]</span> %-5p %c %x - %m%n<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>hive</p>\n<p><strong>:</strong></p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token punctuation\">[</span>root@master ~<span class=\"token punctuation\">]</span><span class=\"token comment\"># hive -e \"show databases;\"</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p><img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202401071819758.png\" alt=\"image-20240107181919652\"></p>\n<h3 id=\"2-3-Hive-\"><a href=\"#2-3-Hive-\" class=\"headerlink\" title=\"2.3 Hive \"></a>2.3 Hive </h3><h4 id=\"2-3-1-Hiveserver2-\"><a href=\"#2-3-1-Hiveserver2-\" class=\"headerlink\" title=\"2.3.1 Hiveserver2 \"></a>2.3.1 Hiveserver2 </h4><p>\tHivehiveserver2jdbc&#x2F;odbcHiveHiveHiveserver2</p>\n<p><img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202401131536469.png\" alt=\"image-20240113153640372\"></p>\n<blockquote>\n<p>(1)</p>\n</blockquote>\n<p>\tHiveHadoopHivesever2HadoopHadoopHiveserver2</p>\n<p>\tHiveserver2hive.server2.enable.doAsHiveserver2Hiveserver2HadoopHivesever2Hadoop</p>\n<p></p>\n<p>:one: </p>\n<p><img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202401131543845.png\" alt=\"image-20240113154316776\"></p>\n<p>:two:</p>\n<p><img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202401131544123.png\" alt=\"image-20240113154438046\"></p>\n<p><strong><code></code></strong></p>\n<blockquote>\n<p>(2) Hiveserver2</p>\n</blockquote>\n<p>:one:Hadoop</p>\n<p>\thivesever2Hadoopproxy userHadoopHadoop<code>hiveserver2Hadoop</code></p>\n<ol>\n<li><strong><code></code>core-site.xml<code></code>,<code></code>hadoop</strong></li>\n</ol>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">vim</span> <span class=\"token variable\">$HADOOP_HOME</span>/etc/hadoop/core-site.xml<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<ol start=\"2\">\n<li><strong>:</strong></li>\n</ol>\n<pre class=\"line-numbers language-XML\" data-language=\"XML\"><code class=\"language-XML\">&lt;!--root--&gt;\n\t&lt;property&gt;\n\t\t&lt;name&gt;hadoop.proxyuser.root.hosts&lt;&#x2F;name&gt;\n\t\t&lt;value&gt;*&lt;&#x2F;value&gt;\n\t&lt;&#x2F;property&gt;\n\n&lt;!--root--&gt;\n\t&lt;property&gt;\n\t\t&lt;name&gt;hadoop.proxyuser.root.groups&lt;&#x2F;name&gt;\n\t\t&lt;value&gt;*&lt;&#x2F;value&gt;\n\t&lt;&#x2F;property&gt;\n\n&lt;!--root--&gt;\n\t&lt;property&gt;\n\t\t&lt;name&gt;hadoop.proxyuser.root.users&lt;&#x2F;name&gt;\n\t\t&lt;value&gt;*&lt;&#x2F;value&gt;\n\t&lt;&#x2F;property&gt;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n\n\n<p>:two:Hive</p>\n<ol>\n<li><strong> hive-site.xml </strong></li>\n</ol>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token punctuation\">[</span>root@master ~<span class=\"token punctuation\">]</span><span class=\"token comment\"># vim $HIVE_HOME/conf/hive-site.xml</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<pre class=\"line-numbers language-markup\" data-language=\"markup\"><code class=\"language-markup\">   <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>property</span><span class=\"token punctuation\">></span></span>\n<span class=\"token comment\">&lt;!-- hiveserver2  host ()--></span>\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>name</span><span class=\"token punctuation\">></span></span>hive.server2.thrift.bind.host<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>name</span><span class=\"token punctuation\">></span></span>\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>value</span><span class=\"token punctuation\">></span></span>192.168.1.10<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>value</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>property</span><span class=\"token punctuation\">></span></span>\n   <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>property</span><span class=\"token punctuation\">></span></span>\n   <span class=\"token comment\">&lt;!--  hiveserver2  --></span>\n       <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>name</span><span class=\"token punctuation\">></span></span>hive.server2.thrift.port<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>name</span><span class=\"token punctuation\">></span></span>\n       <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>value</span><span class=\"token punctuation\">></span></span>10000<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>value</span><span class=\"token punctuation\">></span></span>\n   <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>property</span><span class=\"token punctuation\">></span></span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>:three:</p>\n<ol>\n<li><strong>hiveserver2</strong></li>\n</ol>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token punctuation\">[</span>root@master ~<span class=\"token punctuation\">]</span><span class=\"token comment\"># hive --service hiveserver2</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p><img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202401131608356.png\" alt=\"image-20240113160812261\"></p>\n<p>,hiveserver2</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token punctuation\">[</span>root@master ~<span class=\"token punctuation\">]</span><span class=\"token comment\"># ss -tunlp |grep 10000</span>\ntcp    LISTEN     <span class=\"token number\">0</span>      <span class=\"token number\">50</span>        *:10000                 *:*                   users:<span class=\"token variable\"><span class=\"token punctuation\">((</span>\"java\"<span class=\"token punctuation\">,</span>pid<span class=\"token operator\">=</span><span class=\"token number\">9885</span><span class=\"token punctuation\">,</span>fd<span class=\"token operator\">=</span><span class=\"token number\">511</span><span class=\"token punctuation\">))</span></span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n\n<p><img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202401131607826.png\" alt=\"image-20240113160740747\"></p>\n<ol start=\"2\">\n<li><strong>,beeline</strong></li>\n</ol>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">beeline <span class=\"token parameter variable\">-u</span> jdbc:hive2://master:10000 <span class=\"token parameter variable\">-n</span> atguigu<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<ol>\n<li><code>beeline</code>Hive</li>\n<li><code>-u jdbc:hive2://master:10000</code>JDBCURL<code>master</code>Hive<code>10000</code></li>\n<li><code>-n atguigu</code>Hive<code>atguigu</code></li>\n</ol>\n<p></p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">beeline <span class=\"token parameter variable\">-u</span> jdbc:hive2://master:10000<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<ul>\n<li><code>-u</code>JDBCURLBeelineHive</li>\n</ul>\n<p>:</p>\n<p><img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202401132021126.png\" alt=\"image-20240113202132033\"></p>\n<p><img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202401132020816.png\" alt=\"image-20240113202033694\"></p>\n<ol start=\"4\">\n<li><strong>Datagrip</strong></li>\n</ol>\n<p>(1):</p>\n<p><img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202401132122559.png\" alt=\"image-20240113212219461\"></p>\n<p>(2)</p>\n<p>\tHivebeelineJDBC</p>\n<p><img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202401132123984.png\" alt=\"image-20240113212331886\"></p>\n<p>3</p>\n<p><img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202401132134380.png\" alt=\"image-20240113213409280\"></p>\n<p>4sql</p>\n<p><img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202401132134593.png\" alt=\"image-20240113213430503\"></p>\n<p>5</p>\n<p><img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202401132134412.png\" alt=\"image-20240113213449337\"></p>\n<blockquote>\n<p><strong>hiveserver2:()</strong></p>\n</blockquote>\n<p><img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202401111119587.png\" alt=\"image-20240111111958040\"></p>\n<p>: <a href=\"https://www.cnblogs.com/tianlingqun/p/16322927.html\">https://www.cnblogs.com/tianlingqun/p/16322927.html</a></p>\n<p></p>\n<pre class=\"line-numbers language-markup\" data-language=\"markup\"><code class=\"language-markup\">   <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>property</span><span class=\"token punctuation\">></span></span>\n<span class=\"token comment\">&lt;!-- hive,false --></span>\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>name</span><span class=\"token punctuation\">></span></span>hive.server2.active.passive.ha.enable<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>name</span><span class=\"token punctuation\">></span></span>\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>value</span><span class=\"token punctuation\">></span></span>true<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>value</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>property</span><span class=\"token punctuation\">></span></span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h4 id=\"2-3-2-metastore\"><a href=\"#2-3-2-metastore\" class=\"headerlink\" title=\"2.3.2 metastore\"></a>2.3.2 metastore</h4><p>\tHivemetastoreHive CLIHiveserver2</p>\n<p>:one:<strong>metastore</strong></p>\n<p>metastore</p>\n<blockquote>\n<p>(1)</p>\n</blockquote>\n<p><img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202401132137976.png\" alt=\"image-20240113213712903\"></p>\n<blockquote>\n<p>(2)</p>\n</blockquote>\n<p><img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202401132137270.png\" alt=\"image-20240113213743201\"></p>\n<p><code></code></p>\n<p>  (1Hive CLIHive CLI</p>\n<p>2</p>\n<p>:two:<strong>metastore</strong></p>\n<blockquote>\n<p>(1</p>\n</blockquote>\n<p>Hiveserver2Hive CLIhive-site.xml<code></code>()</p>\n<pre class=\"line-numbers language-markup\" data-language=\"markup\"><code class=\"language-markup\">   <span class=\"token comment\">&lt;!-- jdbcURL --></span>\n   <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>property</span><span class=\"token punctuation\">></span></span>\n       <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>name</span><span class=\"token punctuation\">></span></span>javax.jdo.option.ConnectionURL<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>name</span><span class=\"token punctuation\">></span></span>\n       <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>value</span><span class=\"token punctuation\">></span></span>jdbc:mysql://192.168.1.10:3306/metastore?createDatabaseIfNotExist=true<span class=\"token entity named-entity\" title=\"&amp;\">&amp;amp;</span>useSSL=false<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>value</span><span class=\"token punctuation\">></span></span>\n   <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>property</span><span class=\"token punctuation\">></span></span>\n   \n   <span class=\"token comment\">&lt;!-- jdbcDriver--></span>\n   <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>property</span><span class=\"token punctuation\">></span></span>\n       <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>name</span><span class=\"token punctuation\">></span></span>javax.jdo.option.ConnectionDriverName<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>name</span><span class=\"token punctuation\">></span></span>\n       <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>value</span><span class=\"token punctuation\">></span></span>com.mysql.jdbc.Driver<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>value</span><span class=\"token punctuation\">></span></span>\n   <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>property</span><span class=\"token punctuation\">></span></span>\n   \n<span class=\"token comment\">&lt;!-- jdbcusername--></span>\n   <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>property</span><span class=\"token punctuation\">></span></span>\n       <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>name</span><span class=\"token punctuation\">></span></span>javax.jdo.option.ConnectionUserName<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>name</span><span class=\"token punctuation\">></span></span>\n       <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>value</span><span class=\"token punctuation\">></span></span>root<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>value</span><span class=\"token punctuation\">></span></span>\n   <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>property</span><span class=\"token punctuation\">></span></span>\n\n   <span class=\"token comment\">&lt;!-- jdbcpassword --></span>\n   <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>property</span><span class=\"token punctuation\">></span></span>\n       <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>name</span><span class=\"token punctuation\">></span></span>javax.jdo.option.ConnectionPassword<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>name</span><span class=\"token punctuation\">></span></span>\n       <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>value</span><span class=\"token punctuation\">></span></span>123456<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>value</span><span class=\"token punctuation\">></span></span>\n   <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>property</span><span class=\"token punctuation\">></span></span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<blockquote>\n<p>2</p>\n</blockquote>\n<p></p>\n<p>metastorehive-site.xml</p>\n<pre class=\"line-numbers language-markup\" data-language=\"markup\"><code class=\"language-markup\">   <span class=\"token comment\">&lt;!-- jdbcURL --></span>\n   <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>property</span><span class=\"token punctuation\">></span></span>\n       <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>name</span><span class=\"token punctuation\">></span></span>javax.jdo.option.ConnectionURL<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>name</span><span class=\"token punctuation\">></span></span>\n       <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>value</span><span class=\"token punctuation\">></span></span>jdbc:mysql://192.168.1.10:3306/metastore?createDatabaseIfNotExist=true<span class=\"token entity named-entity\" title=\"&amp;\">&amp;amp;</span>useSSL=false<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>value</span><span class=\"token punctuation\">></span></span>\n   <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>property</span><span class=\"token punctuation\">></span></span>\n   \n   <span class=\"token comment\">&lt;!-- jdbcDriver--></span>\n   <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>property</span><span class=\"token punctuation\">></span></span>\n       <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>name</span><span class=\"token punctuation\">></span></span>javax.jdo.option.ConnectionDriverName<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>name</span><span class=\"token punctuation\">></span></span>\n       <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>value</span><span class=\"token punctuation\">></span></span>com.mysql.jdbc.Driver<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>value</span><span class=\"token punctuation\">></span></span>\n   <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>property</span><span class=\"token punctuation\">></span></span>\n   \n<span class=\"token comment\">&lt;!-- jdbcusername--></span>\n   <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>property</span><span class=\"token punctuation\">></span></span>\n       <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>name</span><span class=\"token punctuation\">></span></span>javax.jdo.option.ConnectionUserName<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>name</span><span class=\"token punctuation\">></span></span>\n       <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>value</span><span class=\"token punctuation\">></span></span>root<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>value</span><span class=\"token punctuation\">></span></span>\n   <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>property</span><span class=\"token punctuation\">></span></span>\n\n   <span class=\"token comment\">&lt;!-- jdbcpassword --></span>\n   <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>property</span><span class=\"token punctuation\">></span></span>\n       <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>name</span><span class=\"token punctuation\">></span></span>javax.jdo.option.ConnectionPassword<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>name</span><span class=\"token punctuation\">></span></span>\n       <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>value</span><span class=\"token punctuation\">></span></span>123456<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>value</span><span class=\"token punctuation\">></span></span>\n   <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>property</span><span class=\"token punctuation\">></span></span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>Hiveserver2Hive CLIhive-site.xml<code>metastore</code></p>\n<p>(<code></code>)</p>\n<pre class=\"line-numbers language-markup\" data-language=\"markup\"><code class=\"language-markup\"><span class=\"token comment\">&lt;!-- metastore --></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>property</span><span class=\"token punctuation\">></span></span>\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>name</span><span class=\"token punctuation\">></span></span>hive.metastore.uris<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>name</span><span class=\"token punctuation\">></span></span>\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>value</span><span class=\"token punctuation\">></span></span>thrift://master:9083<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>value</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>property</span><span class=\"token punctuation\">></span></span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>metastoremetastore9083</p>\n<blockquote>\n<p>(3) <strong></strong></p>\n</blockquote>\n<p>Hive CLIshou databases</p>\n<p><img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202401132252589.png\" alt=\"image-20240113225247501\"></p>\n<p>\tHive CLIhive.metastore.urisHive CLI<code>metastore</code><code>metastore</code></p>\n<p><strong>metastore</strong></p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">hive <span class=\"token parameter variable\">--service</span> metastore<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p>XshellHive</p>\n<p><img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202401132255816.png\" alt=\"image-20240113225511730\"></p>\n<p>, Hive CLIshou databases:</p>\n<p><img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202401132256079.png\" alt=\"image-20240113225647991\"></p>\n<h4 id=\"2-3-3-hive\"><a href=\"#2-3-3-hive\" class=\"headerlink\" title=\"2.3.3 hive\"></a>2.3.3 hive</h4><p>:</p>\n<p><img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202401142111810.png\" alt=\"image-20240114211120713\"></p>\n<p>,conf</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token punctuation\">[</span>root@master conf<span class=\"token punctuation\">]</span><span class=\"token comment\"># cp hive-exec-log4j2.properties.template hive-log4j2.properties</span>\n<span class=\"token punctuation\">[</span>root@master conf<span class=\"token punctuation\">]</span><span class=\"token comment\"># vim hive-log4j2.properties</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n\n<p>property.hive.log.dir<br><code>property.hive.log.dir = $&#123;sys:java.io.tmpdir&#125;/$&#123;sys:user.name&#125;</code>&#x2F;tmp&#x2F;hive&#x2F;hive.log<br></p>\n<p><img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202401142113949.png\" alt=\"image-20240114211359832\"></p>\n<p>:</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token comment\"># list of properties</span>\nproperty.hive.log.level <span class=\"token operator\">=</span> INFO\nproperty.hive.root.logger <span class=\"token operator\">=</span> DRFA\n<span class=\"token comment\">#property.hive.log.dir = $&#123;sys:java.io.tmpdir&#125;/$&#123;sys:user.name&#125;</span>\nproperty.hive.log.dir <span class=\"token operator\">=</span> /opt/module/apache-hive-3.1.2/logs\nproperty.hive.log.file <span class=\"token operator\">=</span> hive.log\nproperty.hive.perflogger.log.level <span class=\"token operator\">=</span> INFO<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n\n\n<h4 id=\"2-3-4-Hive\"><a href=\"#2-3-4-Hive\" class=\"headerlink\" title=\"2.3.4 Hive\"></a>2.3.4 Hive</h4><ul>\n<li><p>nohup</p>\n</li>\n<li><p>&#x2F;dev&#x2F;nullLinux</p>\n</li>\n<li><p>2&gt;&amp;1</p>\n</li>\n<li><p>&amp;</p>\n</li>\n</ul>\n<p>nohup [xxx]&gt; file 2&gt;&amp;1 &amp;xxxfile</p>\n<blockquote>\n<p>:</p>\n</blockquote>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">nohup</span> hive <span class=\"token parameter variable\">--service</span> metastore <span class=\"token operator\"><span class=\"token file-descriptor important\">2</span>></span><span class=\"token file-descriptor important\">&amp;1</span> <span class=\"token operator\">&amp;</span>\n<span class=\"token function\">nohup</span> hive <span class=\"token parameter variable\">--service</span> hiveserver2 <span class=\"token operator\"><span class=\"token file-descriptor important\">2</span>></span><span class=\"token file-descriptor important\">&amp;1</span> <span class=\"token operator\">&amp;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n\n<blockquote>\n<p>()</p>\n</blockquote>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token number\">1</span>.\n<span class=\"token function\">vi</span> <span class=\"token variable\">$HIVE_HOME</span>/bin/hiveservices.sh\n<span class=\"token number\">2</span>.\n<span class=\"token function\">chmod</span> +x <span class=\"token variable\">$HIVE_HOME</span>/bin/hiveservices.sh<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n\n<blockquote>\n<p>:</p>\n</blockquote>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token shebang important\">#!/bin/bash</span>\n\n<span class=\"token assign-left variable\">HIVE_LOG_DIR</span><span class=\"token operator\">=</span><span class=\"token variable\">$HIVE_HOME</span>/logs\n<span class=\"token keyword\">if</span> <span class=\"token punctuation\">[</span> <span class=\"token operator\">!</span> <span class=\"token parameter variable\">-d</span> <span class=\"token variable\">$HIVE_LOG_DIR</span> <span class=\"token punctuation\">]</span>\n<span class=\"token keyword\">then</span>\n\t<span class=\"token function\">mkdir</span> <span class=\"token parameter variable\">-p</span> <span class=\"token variable\">$HIVE_LOG_DIR</span>\n<span class=\"token keyword\">fi</span>\n\n<span class=\"token comment\">#12</span>\n<span class=\"token keyword\">function</span> <span class=\"token function-name function\">check_process</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">&#123;</span>\n    <span class=\"token assign-left variable\">pid</span><span class=\"token operator\">=</span><span class=\"token variable\"><span class=\"token variable\">$(</span><span class=\"token function\">ps</span> <span class=\"token parameter variable\">-ef</span> <span class=\"token operator\"><span class=\"token file-descriptor important\">2</span>></span>/dev/null <span class=\"token operator\">|</span> <span class=\"token function\">grep</span> <span class=\"token parameter variable\">-v</span> <span class=\"token function\">grep</span> <span class=\"token operator\">|</span> <span class=\"token function\">grep</span> <span class=\"token parameter variable\">-i</span> $1 <span class=\"token operator\">|</span> <span class=\"token function\">awk</span> <span class=\"token string\">'&#123;print $2&#125;'</span><span class=\"token variable\">)</span></span>\n    <span class=\"token assign-left variable\">ppid</span><span class=\"token operator\">=</span><span class=\"token variable\"><span class=\"token variable\">$(</span>ss <span class=\"token parameter variable\">-nltp</span> <span class=\"token operator\"><span class=\"token file-descriptor important\">2</span>></span>/dev/null <span class=\"token operator\">|</span> <span class=\"token function\">grep</span> $2 <span class=\"token operator\">|</span> <span class=\"token function\">awk</span> <span class=\"token string\">'&#123;print $7&#125;'</span> <span class=\"token operator\">|</span> <span class=\"token function\">cut</span> <span class=\"token parameter variable\">-d</span> <span class=\"token string\">'/'</span> <span class=\"token parameter variable\">-f</span> <span class=\"token number\">1</span><span class=\"token variable\">)</span></span>\n    <span class=\"token builtin class-name\">echo</span> <span class=\"token variable\">$pid</span>\n    <span class=\"token punctuation\">[</span><span class=\"token punctuation\">[</span> <span class=\"token string\">\"<span class=\"token variable\">$pid</span>\"</span> <span class=\"token operator\">=~</span> <span class=\"token string\">\"<span class=\"token variable\">$ppid</span>\"</span> <span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">&amp;&amp;</span> <span class=\"token punctuation\">[</span> <span class=\"token string\">\"<span class=\"token variable\">$ppid</span>\"</span> <span class=\"token punctuation\">]</span> <span class=\"token operator\">&amp;&amp;</span> <span class=\"token builtin class-name\">return</span> <span class=\"token number\">0</span> <span class=\"token operator\">||</span> <span class=\"token builtin class-name\">return</span> <span class=\"token number\">1</span>\n<span class=\"token punctuation\">&#125;</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function-name function\">hive_start</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">&#123;</span>\n    <span class=\"token assign-left variable\">metapid</span><span class=\"token operator\">=</span><span class=\"token variable\"><span class=\"token variable\">$(</span>check_process HiveMetastore <span class=\"token number\">9083</span><span class=\"token variable\">)</span></span>\n    <span class=\"token assign-left variable\">cmd</span><span class=\"token operator\">=</span><span class=\"token string\">\"nohup hive --service metastore ><span class=\"token variable\">$HIVE_LOG_DIR</span>/metastore.log 2>&amp;1 &amp;\"</span>\n    <span class=\"token punctuation\">[</span> <span class=\"token parameter variable\">-z</span> <span class=\"token string\">\"<span class=\"token variable\">$metapid</span>\"</span> <span class=\"token punctuation\">]</span> <span class=\"token operator\">&amp;&amp;</span> <span class=\"token builtin class-name\">eval</span> <span class=\"token variable\">$cmd</span> <span class=\"token operator\">||</span> <span class=\"token builtin class-name\">echo</span> <span class=\"token string\">\"Metastroe\"</span>\n    <span class=\"token assign-left variable\">server2pid</span><span class=\"token operator\">=</span><span class=\"token variable\"><span class=\"token variable\">$(</span>check_process HiveServer2 <span class=\"token number\">10000</span><span class=\"token variable\">)</span></span>\n    <span class=\"token assign-left variable\">cmd</span><span class=\"token operator\">=</span><span class=\"token string\">\"nohup hive --service hiveserver2 ><span class=\"token variable\">$HIVE_LOG_DIR</span>/hiveServer2.log 2>&amp;1 &amp;\"</span>\n    <span class=\"token punctuation\">[</span> <span class=\"token parameter variable\">-z</span> <span class=\"token string\">\"<span class=\"token variable\">$server2pid</span>\"</span> <span class=\"token punctuation\">]</span> <span class=\"token operator\">&amp;&amp;</span> <span class=\"token builtin class-name\">eval</span> <span class=\"token variable\">$cmd</span> <span class=\"token operator\">||</span> <span class=\"token builtin class-name\">echo</span> <span class=\"token string\">\"HiveServer2\"</span>\n<span class=\"token punctuation\">&#125;</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function-name function\">hive_stop</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">&#123;</span>\n<span class=\"token assign-left variable\">metapid</span><span class=\"token operator\">=</span><span class=\"token variable\"><span class=\"token variable\">$(</span>check_process HiveMetastore <span class=\"token number\">9083</span><span class=\"token variable\">)</span></span>\n    <span class=\"token punctuation\">[</span> <span class=\"token string\">\"<span class=\"token variable\">$metapid</span>\"</span> <span class=\"token punctuation\">]</span> <span class=\"token operator\">&amp;&amp;</span> <span class=\"token function\">kill</span> <span class=\"token variable\">$metapid</span> <span class=\"token operator\">||</span> <span class=\"token builtin class-name\">echo</span> <span class=\"token string\">\"Metastore\"</span>\n    <span class=\"token assign-left variable\">server2pid</span><span class=\"token operator\">=</span><span class=\"token variable\"><span class=\"token variable\">$(</span>check_process HiveServer2 <span class=\"token number\">10000</span><span class=\"token variable\">)</span></span>\n    <span class=\"token punctuation\">[</span> <span class=\"token string\">\"<span class=\"token variable\">$server2pid</span>\"</span> <span class=\"token punctuation\">]</span> <span class=\"token operator\">&amp;&amp;</span> <span class=\"token function\">kill</span> <span class=\"token variable\">$server2pid</span> <span class=\"token operator\">||</span> <span class=\"token builtin class-name\">echo</span> <span class=\"token string\">\"HiveServer2\"</span>\n<span class=\"token punctuation\">&#125;</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function-name function\">hive_status</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">&#123;</span>\n  ss <span class=\"token parameter variable\">-tunlp</span> <span class=\"token operator\">|</span> <span class=\"token function\">grep</span> <span class=\"token number\">10000</span> <span class=\"token operator\">></span> /dev/null\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">[</span> <span class=\"token variable\">$?</span> <span class=\"token parameter variable\">-ne</span> <span class=\"token number\">0</span> <span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span><span class=\"token keyword\">then</span>\n    <span class=\"token function\">sleep</span> <span class=\"token number\">3</span>\n    <span class=\"token builtin class-name\">echo</span> <span class=\"token string\">\"HiveServer2\"</span>\n  <span class=\"token keyword\">else</span>\n    <span class=\"token function\">sleep</span> <span class=\"token number\">3</span>\n    <span class=\"token builtin class-name\">echo</span> <span class=\"token string\">\"HiveServer2\"</span>\n  <span class=\"token keyword\">fi</span>\n  ss <span class=\"token parameter variable\">-tunlp</span> <span class=\"token operator\">|</span> <span class=\"token function\">grep</span> <span class=\"token number\">9083</span> <span class=\"token operator\">></span> /dev/null\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">[</span> <span class=\"token variable\">$?</span> <span class=\"token parameter variable\">-ne</span> <span class=\"token number\">0</span> <span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span><span class=\"token keyword\">then</span>\n    <span class=\"token builtin class-name\">echo</span> <span class=\"token string\">\"Metastore\"</span>\n  <span class=\"token keyword\">else</span>\n    <span class=\"token builtin class-name\">echo</span> <span class=\"token string\">\"Metastore\"</span>\n  <span class=\"token keyword\">fi</span>\n<span class=\"token punctuation\">&#125;</span>\n\n\n<span class=\"token keyword\">case</span> <span class=\"token variable\">$1</span> <span class=\"token keyword\">in</span>\n<span class=\"token string\">\"start\"</span><span class=\"token punctuation\">)</span>\n    hive_start\n    <span class=\"token punctuation\">;</span><span class=\"token punctuation\">;</span>\n<span class=\"token string\">\"stop\"</span><span class=\"token punctuation\">)</span>\n    hive_stop\n    <span class=\"token punctuation\">;</span><span class=\"token punctuation\">;</span>\n<span class=\"token string\">\"restart\"</span><span class=\"token punctuation\">)</span>\n    hive_stop\n    <span class=\"token function\">sleep</span> <span class=\"token number\">2</span>\n    hive_start\n    <span class=\"token punctuation\">;</span><span class=\"token punctuation\">;</span>\n<span class=\"token string\">\"status\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token comment\">#    check_process HiveMetastore 9083 >/dev/null &amp;&amp; echo \"Metastore\" || echo \"Metastore\"</span>\n<span class=\"token comment\">#    check_process HiveServer2 10000 >/dev/null &amp;&amp; echo \"HiveServer2\" || echo \"HiveServer2\"</span>\n    hive_status\n    <span class=\"token punctuation\">;</span><span class=\"token punctuation\">;</span>\n*<span class=\"token punctuation\">)</span>\n    <span class=\"token builtin class-name\">echo</span> Invalid Args<span class=\"token operator\">!</span>\n    <span class=\"token builtin class-name\">echo</span> <span class=\"token string\">'Usage: '</span><span class=\"token variable\"><span class=\"token variable\">$(</span><span class=\"token function\">basename</span> $0<span class=\"token variable\">)</span></span><span class=\"token string\">' start|stop|restart|status'</span>\n    <span class=\"token punctuation\">;</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">esac</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<blockquote>\n<p></p>\n</blockquote>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token punctuation\">[</span>root@master ~<span class=\"token punctuation\">]</span><span class=\"token comment\"># hiveservices.sh start</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p>:</p>\n<p><img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202401141130477.png\" alt=\"image-20240114113057354\"></p>\n<p>!</p>\n<p>!!!</p>\n<h3 id=\"2-4-Hive\"><a href=\"#2-4-Hive\" class=\"headerlink\" title=\"2.4  Hive\"></a>2.4  Hive</h3><h4 id=\"2-4-1-Hive\"><a href=\"#2-4-1-Hive\" class=\"headerlink\" title=\"2.4.1 Hive\"></a>2.4.1 Hive</h4><pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">:\n<span class=\"token punctuation\">[</span>root@master hive<span class=\"token punctuation\">]</span>$ bin/hive <span class=\"token parameter variable\">-help</span>\nusage: hive\n -d,--define <span class=\"token operator\">&lt;</span>key<span class=\"token operator\">=</span>value<span class=\"token operator\">></span>          Variable subsitution to apply to hive\n                                  commands. e.g. <span class=\"token parameter variable\">-d</span> <span class=\"token assign-left variable\">A</span><span class=\"token operator\">=</span>B or <span class=\"token parameter variable\">--define</span> <span class=\"token assign-left variable\">A</span><span class=\"token operator\">=</span>B\n    <span class=\"token parameter variable\">--database</span> <span class=\"token operator\">&lt;</span>databasename<span class=\"token operator\">></span>     Specify the database to use\n <span class=\"token parameter variable\">-e</span> <span class=\"token operator\">&lt;</span>quoted-query-string<span class=\"token operator\">></span>         SQL from <span class=\"token builtin class-name\">command</span> line\n <span class=\"token parameter variable\">-f</span> <span class=\"token operator\">&lt;</span>filename<span class=\"token operator\">></span>                      SQL from files\n -H,--help                        Print <span class=\"token builtin class-name\">help</span> information\n    <span class=\"token parameter variable\">--hiveconf</span> <span class=\"token operator\">&lt;</span>property<span class=\"token operator\">=</span>value<span class=\"token operator\">></span>   Use value <span class=\"token keyword\">for</span> given property\n    <span class=\"token parameter variable\">--hivevar</span> <span class=\"token operator\">&lt;</span>key<span class=\"token operator\">=</span>value<span class=\"token operator\">></span>         Variable subsitution to apply to hive\n                                  commands. e.g. <span class=\"token parameter variable\">--hivevar</span> <span class=\"token assign-left variable\">A</span><span class=\"token operator\">=</span>B\n <span class=\"token parameter variable\">-i</span> <span class=\"token operator\">&lt;</span>filename<span class=\"token operator\">></span>                    Initialization SQL <span class=\"token function\">file</span>\n -S,--silent                      Silent mode <span class=\"token keyword\">in</span> interactive shell\n -v,--verbose                     Verbose mode <span class=\"token punctuation\">(</span>echo executed SQL to the console<span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>1:</p>\n<pre class=\"line-numbers language-sql\" data-language=\"sql\"><code class=\"language-sql\"><span class=\"token number\">1</span>Hivestudent<span class=\"token number\">1</span>\nhive <span class=\"token punctuation\">(</span><span class=\"token keyword\">default</span><span class=\"token punctuation\">)</span><span class=\"token operator\">></span> <span class=\"token keyword\">create</span> <span class=\"token keyword\">table</span> student<span class=\"token punctuation\">(</span>id <span class=\"token keyword\">int</span><span class=\"token punctuation\">,</span>name string<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nOK\n<span class=\"token keyword\">Time</span> taken: <span class=\"token number\">1.291</span> seconds\n\nhive <span class=\"token punctuation\">(</span><span class=\"token keyword\">default</span><span class=\"token punctuation\">)</span><span class=\"token operator\">></span> <span class=\"token keyword\">insert</span> <span class=\"token keyword\">into</span> <span class=\"token keyword\">table</span> student <span class=\"token keyword\">values</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"zhangsan\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nhive <span class=\"token punctuation\">(</span><span class=\"token keyword\">default</span><span class=\"token punctuation\">)</span><span class=\"token operator\">></span> <span class=\"token keyword\">select</span> <span class=\"token operator\">*</span> <span class=\"token keyword\">from</span> student<span class=\"token punctuation\">;</span>\nOK\nstudent<span class=\"token punctuation\">.</span>id\tstudent<span class=\"token punctuation\">.</span>name\n<span class=\"token number\">1</span>\tzhangsan\n<span class=\"token keyword\">Time</span> taken: <span class=\"token number\">0.144</span> seconds<span class=\"token punctuation\">,</span> Fetched: <span class=\"token number\">1</span> <span class=\"token keyword\">row</span><span class=\"token punctuation\">(</span>s<span class=\"token punctuation\">)</span>\n\n<span class=\"token number\">2</span><span class=\"token operator\">-</span>ehivehql\n<span class=\"token punctuation\">[</span>root<span class=\"token variable\">@master</span> hive<span class=\"token punctuation\">]</span>$ bin<span class=\"token operator\">/</span>hive <span class=\"token operator\">-</span>e <span class=\"token string\">\"select id from student;\"</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token number\">3</span>-fhql\n1/opt/module/hive/datasdatashivef.sql\n<span class=\"token punctuation\">[</span>atguigu@master hive<span class=\"token punctuation\">]</span>$ <span class=\"token function\">mkdir</span> datas\n<span class=\"token punctuation\">[</span>atguigu@master datas<span class=\"token punctuation\">]</span>$ <span class=\"token function\">vim</span> hivef.sql\n2hql\n<span class=\"token keyword\">select</span> * from student<span class=\"token punctuation\">;</span>\n3hql\n<span class=\"token punctuation\">[</span>atguigu@master hive<span class=\"token punctuation\">]</span>$ bin/hive <span class=\"token parameter variable\">-f</span> /opt/module/hive/datas/hivef.sql\n4hql\n<span class=\"token punctuation\">[</span>atguigu@master hive<span class=\"token punctuation\">]</span>$ bin/hive <span class=\"token parameter variable\">-f</span> /opt/module/hive/datas/hivef.sql  <span class=\"token operator\">></span> /opt/module/hive/datas/hive_result.txt<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>2:</p>\n<pre class=\"line-numbers language-sql\" data-language=\"sql\"><code class=\"language-sql\"><span class=\"token keyword\">create</span> <span class=\"token keyword\">table</span> <span class=\"token keyword\">if</span>  <span class=\"token operator\">not</span> <span class=\"token keyword\">exists</span> orders<span class=\"token punctuation\">(</span>\nid string<span class=\"token punctuation\">,</span>\nuserno string<span class=\"token punctuation\">,</span>\npassword string<span class=\"token punctuation\">,</span>\nemail string<span class=\"token punctuation\">,</span>\nphone string<span class=\"token punctuation\">,</span>\nname string<span class=\"token punctuation\">,</span>\nidcard string<span class=\"token punctuation\">,</span>\n<span class=\"token keyword\">status</span> <span class=\"token keyword\">int</span><span class=\"token punctuation\">,</span>\ndepid string\n<span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">row</span> format  delimited <span class=\"token keyword\">fields</span> <span class=\"token keyword\">terminated</span> <span class=\"token keyword\">by</span> <span class=\"token string\">','</span><span class=\"token punctuation\">;</span>\n<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>csvhive()</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">load data <span class=\"token builtin class-name\">local</span> inpath <span class=\"token string\">''</span> into table <span class=\"token punctuation\">;</span>\nload data <span class=\"token builtin class-name\">local</span> inpath <span class=\"token string\">'/opt/user.csv'</span> into table orders<span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n\n<p>hdfshive</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">load data inpath hdfscsv into table <span class=\"token punctuation\">;</span>\nload data inpath <span class=\"token string\">'/data081/order.csv'</span> into table orders<span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n\n<p></p>\n<p></p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"> load data inpath /tmp/fun_user.txt into table fun_user_external<span class=\"token punctuation\">;</span>\n load data <span class=\"token builtin class-name\">local</span> inpath /tmp/fun_user.txt into table fun_user_external<span class=\"token punctuation\">;</span>\nlocallocal<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n\n\n","site":{"data":{"friends":[{"avatar":"https://cdn.jsdelivr.net/gh/wylblog/cdn@master/static/image/sidebar/avatar_wyl.jpg","name":"","introduction":"","url":"https://wylblog.github.io","title":"Read More"},{"avatar":"https://img.picui.cn/free/2024/11/10/67304c2431937.jpg","name":"","introduction":".","url":"https://almost181209.github.io/","title":"Read More"}]}},"excerpt":"","more":"<h1 id=\"Hive\"><a href=\"#Hive\" class=\"headerlink\" title=\"Hive\"></a>Hive</h1><h2 id=\"1-Hive\"><a href=\"#1-Hive\" class=\"headerlink\" title=\"1. Hive\"></a>1. Hive</h2><h3 id=\"1-1-Hive\"><a href=\"#1-1-Hive\" class=\"headerlink\" title=\"1.1 Hive\"></a>1.1 Hive</h3><p>HiveFacebook</p>\n<p>HiveHadoop<code></code><code></code><code>SQL</code></p>\n<p><code>HQLMapReduce</code></p>\n<img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202401071511957.png\" alt=\"image-20200916135459253\">\n\n<p>1HiveHDFS</p>\n<p>2HiveMapReduce</p>\n<p>3Yarn</p>\n<h3 id=\"1-2-Hive\"><a href=\"#1-2-Hive\" class=\"headerlink\" title=\"1.2 Hive\"></a>1.2 Hive</h3><h4 id=\"1-2-1-\"><a href=\"#1-2-1-\" class=\"headerlink\" title=\"1.2.1 \"></a>1.2.1 </h4><ol>\n<li>SQL </li>\n<li>MapReduce </li>\n<li>HiveHive </li>\n<li>HiveHive</li>\n<li>Hive</li>\n</ol>\n<h4 id=\"1-2-2-\"><a href=\"#1-2-2-\" class=\"headerlink\" title=\"1.2.2 \"></a>1.2.2 </h4><p>1HiveHQL</p>\n<p>1</p>\n<p>2</p>\n<p>2Hive</p>\n<p>1HiveMapReduce</p>\n<p>2Hive</p>\n<h3 id=\"1-3Hive\"><a href=\"#1-3Hive\" class=\"headerlink\" title=\"1.3Hive\"></a>1.3Hive</h3><img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202401071511001.png\" alt=\"img\">\n\n<p><strong>1Client</strong></p>\n<p>CLIhive shellJDBC&#x2F;ODBC(javahive)WEBUIhive</p>\n<p><strong>2Metastore</strong></p>\n<p>default&#x2F;</p>\n<p><code>derbyMySQLMetastore</code></p>\n<p><strong>3Hadoop</strong></p>\n<p>HDFSMapReduce</p>\n<p><strong>4Driver</strong></p>\n<p>1SQL ParserSQLASTantlrASTSQL</p>\n<p>2Physical PlanAST</p>\n<p>3Query Optimizer</p>\n<p>4ExecutionHiveMR&#x2F;Spark</p>\n<img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202401071511219.png\" alt=\"image-20200916140721644\">\n\n<p>Hive(SQL)Driver(MetaStore)MapReduceHadoop</p>\n<h2 id=\"2-Hive\"><a href=\"#2-Hive\" class=\"headerlink\" title=\"2. Hive\"></a>2. Hive</h2><p><strong></strong>:</p>\n<table>\n<thead>\n<tr>\n<th></th>\n<th></th>\n<th>ip</th>\n<th></th>\n</tr>\n</thead>\n<tbody><tr>\n<td>centos7</td>\n<td>master</td>\n<td>192.168.1.10</td>\n<td>root</td>\n</tr>\n<tr>\n<td>centos7</td>\n<td>slave1</td>\n<td>192.168.1.20</td>\n<td>root</td>\n</tr>\n<tr>\n<td>centos7</td>\n<td>slave2</td>\n<td>192.168.1.30</td>\n<td>root</td>\n</tr>\n</tbody></table>\n<p><strong></strong></p>\n<table>\n<thead>\n<tr>\n<th></th>\n<th></th>\n</tr>\n</thead>\n<tbody><tr>\n<td>java</td>\n<td>1.8</td>\n</tr>\n<tr>\n<td>Hadoop</td>\n<td>3.1.3</td>\n</tr>\n<tr>\n<td>Hive</td>\n<td>3.1.2</td>\n</tr>\n<tr>\n<td>Mysql</td>\n<td>5.7</td>\n</tr>\n</tbody></table>\n<p><strong></strong></p>\n<table>\n<thead>\n<tr>\n<th></th>\n<th></th>\n<th></th>\n</tr>\n</thead>\n<tbody><tr>\n<td>mysql</td>\n<td>root</td>\n<td>123456</td>\n</tr>\n</tbody></table>\n<h3 id=\"2-1-mysql\"><a href=\"#2-1-mysql\" class=\"headerlink\" title=\"2.1 mysql\"></a>2.1 mysql</h3><h4 id=\"2-1-1-rpm\"><a href=\"#2-1-1-rpm\" class=\"headerlink\" title=\"2.1.1 rpm\"></a>2.1.1 rpm</h4><blockquote>\n<p> (1) mysql</p>\n</blockquote>\n<p><img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202401071524098.png\" alt=\"image-20240107152437021\"></p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">rpm</span> <span class=\"token parameter variable\">-Uvh</span> *.rpm <span class=\"token parameter variable\">--nodeps</span> <span class=\"token parameter variable\">--force</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p>:<img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202401071525227.png\" alt=\"image-20240107152542173\"></p>\n<blockquote>\n<p>(2) </p>\n</blockquote>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">rpm</span> -qa<span class=\"token operator\">|</span><span class=\"token function\">grep</span> mysql<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p>:<img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202401071526546.png\" alt=\"image-20240107152611487\"></p>\n<blockquote>\n<p>(3) </p>\n</blockquote>\n<pre class=\"line-numbers language-sql\" data-language=\"sql\"><code class=\"language-sql\">mysqld <span class=\"token comment\">--initialize --user=mysql</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<blockquote>\n<p>(4) root</p>\n</blockquote>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">grep</span> <span class=\"token string\">'temporary password'</span> /var/log/mysqld.log<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p><img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202401071527022.png\" alt=\"image-20240107152701968\"></p>\n<blockquote>\n<p>(5) Mysql</p>\n</blockquote>\n<p>:</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token punctuation\">[</span>root@master mysql<span class=\"token punctuation\">]</span><span class=\"token comment\"># systemctl start mysqld</span>\n<span class=\"token punctuation\">[</span>root@master mysql<span class=\"token punctuation\">]</span><span class=\"token comment\"># systemctl status mysqld</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n\n<p><img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202401071528386.png\" alt=\"image-20240107152816325\"></p>\n<p>:</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token punctuation\">[</span>root@master mysql<span class=\"token punctuation\">]</span><span class=\"token comment\"># mysql -uroot -p'zDfW:um0hgdi'</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p><img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202401071530387.png\" alt=\"image-20240107153027330\"></p>\n<blockquote>\n<p>(6) root</p>\n</blockquote>\n<pre class=\"line-numbers language-sql\" data-language=\"sql\"><code class=\"language-sql\">mysql<span class=\"token operator\">></span> <span class=\"token keyword\">set</span> password <span class=\"token operator\">=</span><span class=\"token string\">\"123456\"</span><span class=\"token punctuation\">;</span>\nQuery OK<span class=\"token punctuation\">,</span> <span class=\"token number\">0</span> <span class=\"token keyword\">rows</span> affected <span class=\"token punctuation\">(</span><span class=\"token number\">0.00</span> sec<span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n\n<blockquote>\n<p>(7) MySQLuserrootip</p>\n</blockquote>\n<p><strong>1:</strong></p>\n<pre class=\"line-numbers language-sql\" data-language=\"sql\"><code class=\"language-sql\">mysql<span class=\"token operator\">></span> <span class=\"token keyword\">grant</span> <span class=\"token keyword\">all</span> <span class=\"token keyword\">privileges</span> <span class=\"token keyword\">on</span> <span class=\"token operator\">*</span><span class=\"token punctuation\">.</span><span class=\"token operator\">*</span> <span class=\"token keyword\">to</span> <span class=\"token string\">'root'</span><span class=\"token variable\">@'%'</span> identified <span class=\"token keyword\">by</span> <span class=\"token string\">'123456'</span><span class=\"token punctuation\">;</span>\nmysql<span class=\"token operator\">></span> flush <span class=\"token keyword\">privileges</span><span class=\"token punctuation\">;</span>  <span class=\"token comment\">#MySQL</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n\n<p><strong>2:</strong></p>\n<p> MySQL :</p>\n<p>&#x3D;&#x3D;()&#x3D;&#x3D;</p>\n<pre class=\"line-numbers language-sql\" data-language=\"sql\"><code class=\"language-sql\"><span class=\"token comment\">#root</span>\nmysql<span class=\"token operator\">></span> <span class=\"token keyword\">select</span> <span class=\"token keyword\">user</span><span class=\"token punctuation\">,</span>host <span class=\"token keyword\">from</span> mysql<span class=\"token punctuation\">.</span><span class=\"token keyword\">user</span><span class=\"token punctuation\">;</span>\n<span class=\"token operator\">+</span><span class=\"token comment\">---------------+-----------+</span>\n<span class=\"token operator\">|</span> <span class=\"token keyword\">user</span>          <span class=\"token operator\">|</span> host      <span class=\"token operator\">|</span>\n<span class=\"token operator\">+</span><span class=\"token comment\">---------------+-----------+</span>\n<span class=\"token operator\">|</span> mysql<span class=\"token punctuation\">.</span><span class=\"token keyword\">session</span> <span class=\"token operator\">|</span> localhost <span class=\"token operator\">|</span>\n<span class=\"token operator\">|</span> mysql<span class=\"token punctuation\">.</span>sys     <span class=\"token operator\">|</span> localhost <span class=\"token operator\">|</span>\n<span class=\"token operator\">|</span> root          <span class=\"token operator\">|</span> localhost <span class=\"token operator\">|</span>\n<span class=\"token operator\">+</span><span class=\"token comment\">---------------+-----------+</span>\n<span class=\"token number\">3</span> <span class=\"token keyword\">rows</span> <span class=\"token operator\">in</span> <span class=\"token keyword\">set</span> <span class=\"token punctuation\">(</span><span class=\"token number\">0.00</span> sec<span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>rootip:</p>\n<pre class=\"line-numbers language-sql\" data-language=\"sql\"><code class=\"language-sql\">mysql<span class=\"token operator\">></span> <span class=\"token keyword\">UPDATE</span> mysql<span class=\"token punctuation\">.</span><span class=\"token keyword\">user</span> <span class=\"token keyword\">SET</span> host <span class=\"token operator\">=</span> <span class=\"token string\">'%'</span> <span class=\"token keyword\">WHERE</span> <span class=\"token keyword\">user</span> <span class=\"token operator\">=</span> <span class=\"token string\">'root'</span><span class=\"token punctuation\">;</span>\nmysql<span class=\"token operator\">></span> flush <span class=\"token keyword\">privileges</span><span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n\n<p>:</p>\n<pre class=\"line-numbers language-sql\" data-language=\"sql\"><code class=\"language-sql\">mysql<span class=\"token operator\">></span> <span class=\"token keyword\">select</span> <span class=\"token keyword\">user</span><span class=\"token punctuation\">,</span>host <span class=\"token keyword\">from</span> mysql<span class=\"token punctuation\">.</span><span class=\"token keyword\">user</span><span class=\"token punctuation\">;</span>\n<span class=\"token operator\">+</span><span class=\"token comment\">---------------+-----------+</span>\n<span class=\"token operator\">|</span> <span class=\"token keyword\">user</span>          <span class=\"token operator\">|</span> host      <span class=\"token operator\">|</span>\n<span class=\"token operator\">+</span><span class=\"token comment\">---------------+-----------+</span>\n<span class=\"token operator\">|</span> root          <span class=\"token operator\">|</span> <span class=\"token operator\">%</span>         <span class=\"token operator\">|</span>\n<span class=\"token operator\">|</span> mysql<span class=\"token punctuation\">.</span><span class=\"token keyword\">session</span> <span class=\"token operator\">|</span> localhost <span class=\"token operator\">|</span>\n<span class=\"token operator\">|</span> mysql<span class=\"token punctuation\">.</span>sys     <span class=\"token operator\">|</span> localhost <span class=\"token operator\">|</span>\n<span class=\"token operator\">+</span><span class=\"token comment\">---------------+-----------+</span>\n<span class=\"token number\">3</span> <span class=\"token keyword\">rows</span> <span class=\"token operator\">in</span> <span class=\"token keyword\">set</span> <span class=\"token punctuation\">(</span><span class=\"token number\">0.00</span> sec<span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p></p>\n<p><strong>:</strong></p>\n<p>(docker,)</p>\n<p><img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202401071600539.png\" alt=\"image-20240107160016412\"></p>\n<blockquote>\n<p>:warning::warning::warning::</p>\n</blockquote>\n<p><code>1</code>Mysql</p>\n<p></p>\n<pre class=\"line-numbers language-sql\" data-language=\"sql\"><code class=\"language-sql\"><span class=\"token keyword\">SHOW</span> VARIABLES <span class=\"token operator\">LIKE</span> <span class=\"token string\">'validate_password%'</span><span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p></p>\n<pre class=\"line-numbers language-sql\" data-language=\"sql\"><code class=\"language-sql\"><span class=\"token keyword\">set</span> <span class=\"token keyword\">global</span> validate_password_policy<span class=\"token operator\">=</span>LOW<span class=\"token punctuation\">;</span>  \\\\\n<span class=\"token keyword\">set</span> <span class=\"token keyword\">global</span> validate_password_length<span class=\"token operator\">=</span><span class=\"token number\">6</span><span class=\"token punctuation\">;</span>   \\\\\nmysql<span class=\"token operator\">></span> flush <span class=\"token keyword\">privileges</span><span class=\"token punctuation\">;</span>  <span class=\"token comment\">#MySQL</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n\n<p></p>\n<pre class=\"line-numbers language-sql\" data-language=\"sql\"><code class=\"language-sql\">mysql<span class=\"token operator\">></span> <span class=\"token keyword\">grant</span> <span class=\"token keyword\">all</span> <span class=\"token keyword\">privileges</span> <span class=\"token keyword\">on</span> <span class=\"token operator\">*</span><span class=\"token punctuation\">.</span><span class=\"token operator\">*</span> <span class=\"token keyword\">to</span> <span class=\"token string\">'root'</span><span class=\"token variable\">@'%'</span> identified <span class=\"token keyword\">by</span> <span class=\"token string\">'123456'</span><span class=\"token punctuation\">;</span>\nmysql<span class=\"token operator\">></span> flush <span class=\"token keyword\">privileges</span><span class=\"token punctuation\">;</span>  <span class=\"token comment\">#MySQL</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n\n\n\n<p><code>2</code>: mysql</p>\n<p>MySQL</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">yum remove mysql* <span class=\"token parameter variable\">-y</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p>MySQL</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">find</span> / <span class=\"token parameter variable\">-name</span> <span class=\"token string\">\"mysql*\"</span>  <span class=\"token comment\">#mysql</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">find</span> / <span class=\"token parameter variable\">-name</span> <span class=\"token string\">\"*mysql*\"</span><span class=\"token operator\">|</span><span class=\"token function\">xargs</span> <span class=\"token function\">rm</span> <span class=\"token parameter variable\">-rfv</span>  <span class=\"token comment\">#mysql</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p></p>\n<p><strong>rpm </strong></p>\n<p>1. </p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">rpm</span> <span class=\"token parameter variable\">-ivh</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p>2.</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">rpm</span> <span class=\"token parameter variable\">-Uvh</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p>3.</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">rpm</span> <span class=\"token parameter variable\">-e</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p>4. force &#x2F; -nodeps</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">-force \n-nodeps RPM<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n\n<h4 id=\"2-1-2-Docker-MySQL\"><a href=\"#2-1-2-Docker-MySQL\" class=\"headerlink\" title=\"2.1.2 Docker MySQL\"></a>2.1.2 Docker MySQL</h4><blockquote>\n<p>(1) MySQL</p>\n</blockquote>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token punctuation\">[</span>root@bigdata ~<span class=\"token punctuation\">]</span><span class=\"token comment\"># docker pull mysql/mysql-server:5.7</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<blockquote>\n<p>(2) MySQL</p>\n</blockquote>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">docker</span> run <span class=\"token parameter variable\">-e</span> <span class=\"token assign-left variable\">MYSQL_ROOT_PASSWORD</span><span class=\"token operator\">=</span><span class=\"token number\">123456</span> <span class=\"token parameter variable\">-e</span> <span class=\"token assign-left variable\">MYSQL_ROOT_HOST</span><span class=\"token operator\">=</span>% <span class=\"token parameter variable\">-p</span> <span class=\"token number\">3306</span>:3306 <span class=\"token parameter variable\">--name</span><span class=\"token operator\">=</span>mysql1 <span class=\"token parameter variable\">-d</span> mysql/mysql-server:5.7 --character-set-server<span class=\"token operator\">=</span>utf8mb4<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p>:</p>\n<ul>\n<li><code>docker run</code>: Docker </li>\n<li><code>-e MYSQL_ROOT_PASSWORD=123456</code>:  MySQL  <code>123456</code></li>\n<li><code>-e MYSQL_ROOT_HOST=%</code>:  MySQL <code>%</code> </li>\n<li><code>-p 3306:3306</code>:  MySQL  <code>3306</code>  <code>3307</code> MySQL </li>\n<li><code>--name=mysql1</code>:  <code>mysql1</code></li>\n<li><code>-d</code>: detach </li>\n<li><code>mysql/mysql-server:5.7</code>:  MySQL Docker </li>\n<li><code>--character-set-server=utf8mb4</code>:  MySQL  <code>utf8mb4</code></li>\n</ul>\n<p><strong>:</strong></p>\n<p>mariadb:</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token punctuation\">[</span>root@bigdata ~<span class=\"token punctuation\">]</span><span class=\"token comment\"># yum install mariadb -y</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p>:</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token punctuation\">[</span>root@bigdata ~<span class=\"token punctuation\">]</span><span class=\"token comment\"># mysql -uroot -p123456 -h 192.168.10.81 -P 3308 -e \"show databases;\"</span>\n+--------------------+\n<span class=\"token operator\">|</span> Database           <span class=\"token operator\">|</span>\n+--------------------+\n<span class=\"token operator\">|</span> information_schema <span class=\"token operator\">|</span>\n<span class=\"token operator\">|</span> mysql              <span class=\"token operator\">|</span>\n<span class=\"token operator\">|</span> performance_schema <span class=\"token operator\">|</span>\n<span class=\"token operator\">|</span> sys                <span class=\"token operator\">|</span>\n+--------------------+<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>MySQL</p>\n<h3 id=\"2-2-Hive\"><a href=\"#2-2-Hive\" class=\"headerlink\" title=\"2.2 Hive\"></a>2.2 Hive</h3><h4 id=\"2-2-1-\"><a href=\"#2-2-1-\" class=\"headerlink\" title=\"2.2.1 \"></a>2.2.1 </h4><pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token punctuation\">[</span>root@master ~<span class=\"token punctuation\">]</span><span class=\"token comment\"># tar -zxvf /opt/software/apache-hive-3.1.2-bin.tar.gz -C /opt/module/</span>\n<span class=\"token punctuation\">[</span>root@master ~<span class=\"token punctuation\">]</span><span class=\"token comment\"># mv /opt/module/apache-hive-3.1.2-bin/ /opt/module/hive</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n\n<h4 id=\"2-2-2-\"><a href=\"#2-2-2-\" class=\"headerlink\" title=\"2.2.2 \"></a>2.2.2 </h4><pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token comment\">#HIVE_HOME</span>\n<span class=\"token builtin class-name\">export</span> <span class=\"token assign-left variable\">HIVE_HOME</span><span class=\"token operator\">=</span>/opt/module/hive\n<span class=\"token builtin class-name\">export</span> <span class=\"token assign-left variable\"><span class=\"token environment constant\">PATH</span></span><span class=\"token operator\">=</span><span class=\"token environment constant\">$PATH</span><span class=\"token builtin class-name\">:</span><span class=\"token variable\">$HIVE_HOME</span>/bin<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token comment\">#</span>\n<span class=\"token function\">cat</span> <span class=\"token operator\">>></span>/etc/profile<span class=\"token operator\">&lt;&lt;</span><span class=\"token string\">EOF\n#HIVE\nexport HIVE_HOME=/opt/module/hive\nexport PATH=\\<span class=\"token environment constant\">$PATH</span>:\\<span class=\"token variable\">$HIVE_HOME</span>/bin\nEOF</span>\n<span class=\"token comment\">#</span>\n<span class=\"token builtin class-name\">source</span> /etc/profile<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h4 id=\"2-2-3-MySQL\"><a href=\"#2-2-3-MySQL\" class=\"headerlink\" title=\"2.2.3 MySQL\"></a>2.2.3 MySQL</h4><p>MySQLJDBCHivelib:</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token punctuation\">[</span>root@master ~<span class=\"token punctuation\">]</span><span class=\"token comment\"># cp /opt/software/mysql/mysql-connector-java-5.1.44-bin.jar $HIVE_HOME/lib</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p>:</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token punctuation\">[</span>root@master ~<span class=\"token punctuation\">]</span><span class=\"token comment\"># ll $HIVE_HOME/lib | grep mysql</span>\n-rw-r--r-- <span class=\"token number\">1</span> root root   <span class=\"token number\">999635</span> Jan  <span class=\"token number\">7</span> 09:19 mysql-connector-java-5.1.44-bin.jar\n-rw-r--r-- <span class=\"token number\">1</span> root root    <span class=\"token number\">10476</span> Nov <span class=\"token number\">15</span>  <span class=\"token number\">2018</span> mysql-metadata-storage-0.12.0.jar<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n\n<p><img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202401071721497.png\" alt=\"image-20240107172131324\"></p>\n<p>HDFSuserhive<code>Hivehadoop</code>hdfs</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">:\n<span class=\"token punctuation\">[</span>root@master ~<span class=\"token punctuation\">]</span><span class=\"token comment\"># hdfs dfs -mkdir -p /user/hive/warehouse </span>\n:\n<span class=\"token punctuation\">[</span>root@master ~<span class=\"token punctuation\">]</span><span class=\"token comment\"># hdfs dfs -ls /user/hive </span>\nFound <span class=\"token number\">1</span> items\ndrwxr-xr-x   - root supergroup          <span class=\"token number\">0</span> <span class=\"token number\">2024</span>-01-07 09:23 /user/hive/warehouse<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p><img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202401071724272.png\" alt=\"image-20240107172405192\"></p>\n<h4 id=\"2-2-4-guava-\"><a href=\"#2-2-4-guava-\" class=\"headerlink\" title=\"2.2.4 guava()\"></a>2.2.4 guava()</h4><pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token number\">1</span>.guava-19.0.jar,hadoopguava-27.0-jre.jar\n<span class=\"token punctuation\">[</span>root@master ~<span class=\"token punctuation\">]</span><span class=\"token comment\"># rm -rf $HIVE_HOME/lib/guava-19.0.jar</span>\n<span class=\"token punctuation\">[</span>root@master ~<span class=\"token punctuation\">]</span><span class=\"token comment\"># cp $HADOOP_HOME/share/hadoop/common/lib/guava-27.0-jre.jar $HIVE_HOME/lib</span>\n<span class=\"token number\">2</span>.\n<span class=\"token punctuation\">[</span>root@master ~<span class=\"token punctuation\">]</span><span class=\"token comment\"># ll $HIVE_HOME/lib/guava-27.0-jre.jar </span>\n-rw-r--r-- <span class=\"token number\">1</span> root root <span class=\"token number\">2747878</span> Jan  <span class=\"token number\">7</span> 09:27 /opt/module/hive/lib/guava-27.0-jre.jar<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h4 id=\"2-2-5-hive-site-xml\"><a href=\"#2-2-5-hive-site-xml\" class=\"headerlink\" title=\"2.2.5 hive-site.xml\"></a>2.2.5 <code>hive-site.xml</code></h4><blockquote>\n<p>1:</p>\n<p>&#x3D;&#x3D;()&#x3D;&#x3D;</p>\n</blockquote>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token punctuation\">[</span>root@master ~<span class=\"token punctuation\">]</span><span class=\"token comment\"># cd $HIVE_HOME/conf</span>\n<span class=\"token punctuation\">[</span>root@master conf<span class=\"token punctuation\">]</span><span class=\"token comment\"># cp hive-default.xml.template hive-site.xml</span>\n<span class=\"token punctuation\">[</span>root@master conf<span class=\"token punctuation\">]</span><span class=\"token comment\"># vi hive-site.xml</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n\n<p><strong>:</strong></p>\n<!-- jdbc  password --> \n\n<pre class=\"line-numbers language-markup\" data-language=\"markup\"><code class=\"language-markup\">568     <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>name</span><span class=\"token punctuation\">></span></span>javax.jdo.option.ConnectionPassword<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>name</span><span class=\"token punctuation\">></span></span>\n569     <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>value</span><span class=\"token punctuation\">></span></span>123456<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>value</span><span class=\"token punctuation\">></span></span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n\n<p><img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202401071742987.png\" alt=\"image-20240107174234563\"></p>\n<!-- jdbc  URL -->\n\n<pre class=\"line-numbers language-markup\" data-language=\"markup\"><code class=\"language-markup\">583\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>name</span><span class=\"token punctuation\">></span></span>javax.jdo.option.ConnectionURL<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>name</span><span class=\"token punctuation\">></span></span>\n584\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>value</span><span class=\"token punctuation\">></span></span>jdbc:mysql://192.168.1.10:3306/metastore?createDatabaseIfNotExist=true<span class=\"token entity named-entity\" title=\"&amp;\">&amp;amp;</span>useSSL=false<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>value</span><span class=\"token punctuation\">></span></span>\n\n:\njdbc:mysql://192.168.1.10:3306/metastore?createDatabaseIfNotExist=true<span class=\"token entity named-entity\" title=\"&amp;\">&amp;amp;</span>useSSL=false\n&amp;amp<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p><img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202401071759521.png\" alt=\"image-20240107175939389\"></p>\n<p>:</p>\n<ul>\n<li><code>jdbc:mysql://</code>:  JDBC  MySQL  JDBC </li>\n<li><code>192.168.1.10</code>:  IP </li>\n<li><code>3306</code>: MySQL  <code>3306</code></li>\n<li><code>metastore</code>: </li>\n<li><code>?createDatabaseIfNotExist=true</code>: </li>\n<li><code>&amp;amp</code>:  HTML  <code>&amp;</code> </li>\n<li><code>useSSL=false</code>:  SSL </li>\n</ul>\n<p> <code>192.168.1.10</code>  <code>3306</code>  MySQL  <code>metastore</code> SSL </p>\n<!-- jdbc  Driver -->\n\n<pre class=\"line-numbers language-markup\" data-language=\"markup\"><code class=\"language-markup\">1101\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>name</span><span class=\"token punctuation\">></span></span>javax.jdo.option.ConnectionDriverName<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>name</span><span class=\"token punctuation\">></span></span>\n1102\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>value</span><span class=\"token punctuation\">></span></span>com.mysql.jdbc.Driver<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>value</span><span class=\"token punctuation\">></span></span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n\n<p><img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202401071800309.png\" alt=\"image-20240107180037239\"></p>\n<!-- jdbc  username()--> \n\n<pre class=\"line-numbers language-markup\" data-language=\"markup\"><code class=\"language-markup\">1126\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>name</span><span class=\"token punctuation\">></span></span>javax.jdo.option.ConnectionUserName<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>name</span><span class=\"token punctuation\">></span></span>\n1127\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>value</span><span class=\"token punctuation\">></span></span>root<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>value</span><span class=\"token punctuation\">></span></span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n\n<p><img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202401071802628.png\" alt=\"image-20240107180202550\"></p>\n<p>,    4404</p>\n<p>${system:java.io.tmpdir}&#x2F;${system:user.name}</p>\n<p>&#x2F;home&#x2F;hive&#x2F;tmp&#x2F;root</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">shift+:\n<span class=\"token builtin class-name\">:</span> %s@<span class=\"token variable\">$&#123;system<span class=\"token operator\">:</span>user.name&#125;</span>@root@g\n<span class=\"token builtin class-name\">:</span> %s@<span class=\"token variable\">$&#123;system<span class=\"token operator\">:</span>java.io.tmpdir&#125;</span>@/home/hive/tmp@g<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n\n<p>&amp;#8   3215</p>\n<p><img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202401071807782.png\" alt=\"image-20240107180735702\"></p>\n<p></p>\n<blockquote>\n<p>2:</p>\n<p>&#x3D;&#x3D;()&#x3D;&#x3D;</p>\n</blockquote>\n<p>:</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">vi</span> <span class=\"token variable\">$HIVE_HOME</span>/conf/hive-site.xml<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<pre class=\"line-numbers language-markup\" data-language=\"markup\"><code class=\"language-markup\"><span class=\"token prolog\">&lt;?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"no\"?></span>\n<span class=\"token prolog\">&lt;?xml-stylesheet type=\"text/xsl\" href=\"configuration.xsl\"?></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>configuration</span><span class=\"token punctuation\">></span></span>\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>property</span><span class=\"token punctuation\">></span></span>\n\t<span class=\"token comment\">&lt;!--URL--></span>\n\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>name</span><span class=\"token punctuation\">></span></span>javax.jdo.option.ConnectionURL<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>name</span><span class=\"token punctuation\">></span></span>\n\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>value</span><span class=\"token punctuation\">></span></span>jdbc:mysql://192.168.1.10:3306/metastore?createDatabaseIfNotExist=true<span class=\"token entity named-entity\" title=\"&amp;\">&amp;amp;</span>useSSL=false<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>value</span><span class=\"token punctuation\">></span></span>\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>property</span><span class=\"token punctuation\">></span></span>\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>property</span><span class=\"token punctuation\">></span></span>\n\t<span class=\"token comment\">&lt;!----></span>\n\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>name</span><span class=\"token punctuation\">></span></span>javax.jdo.option.ConnectionDriverName<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>name</span><span class=\"token punctuation\">></span></span>\n\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>value</span><span class=\"token punctuation\">></span></span>com.mysql.jdbc.Driver<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>value</span><span class=\"token punctuation\">></span></span>\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>property</span><span class=\"token punctuation\">></span></span>\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>property</span><span class=\"token punctuation\">></span></span>\n\t<span class=\"token comment\">&lt;!-- jdbc  username--></span>\n\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>name</span><span class=\"token punctuation\">></span></span>javax.jdo.option.ConnectionUserName<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>name</span><span class=\"token punctuation\">></span></span>\n\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>value</span><span class=\"token punctuation\">></span></span>root<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>value</span><span class=\"token punctuation\">></span></span>\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>property</span><span class=\"token punctuation\">></span></span>\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>property</span><span class=\"token punctuation\">></span></span>\n\t<span class=\"token comment\">&lt;!-- jdbc  password--></span>\n\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>name</span><span class=\"token punctuation\">></span></span>javax.jdo.option.ConnectionPassword<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>name</span><span class=\"token punctuation\">></span></span>\n\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>value</span><span class=\"token punctuation\">></span></span>123456<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>value</span><span class=\"token punctuation\">></span></span>\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>property</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>property</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token comment\">&lt;!-- Hive  --></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>name</span><span class=\"token punctuation\">></span></span>hive.metastore.schema.verification<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>name</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>value</span><span class=\"token punctuation\">></span></span>false<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>value</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>property</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>property</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token comment\">&lt;!--  --></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>name</span><span class=\"token punctuation\">></span></span>hive.metastore.event.db.notification.api.auth<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>name</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>value</span><span class=\"token punctuation\">></span></span>false<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>value</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>property</span><span class=\"token punctuation\">></span></span>    \n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>property</span><span class=\"token punctuation\">></span></span>\n\t<span class=\"token comment\">&lt;!--URI Hive  HDFS --></span>\n\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>name</span><span class=\"token punctuation\">></span></span>hive.metastore.warehouse.dir<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>name</span><span class=\"token punctuation\">></span></span>\n\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>value</span><span class=\"token punctuation\">></span></span>/user/hive/warehouse<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>value</span><span class=\"token punctuation\">></span></span>\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>property</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>configuration</span><span class=\"token punctuation\">></span></span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n\n\n<h4 id=\"2-2-6-hive-env-sh\"><a href=\"#2-2-6-hive-env-sh\" class=\"headerlink\" title=\"2.2.6 hive-env.sh\"></a>2.2.6 hive-env.sh</h4><pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token punctuation\">[</span>root@master conf<span class=\"token punctuation\">]</span><span class=\"token comment\"># cp hive-env.sh.template hive-env.sh</span>\n<span class=\"token punctuation\">[</span>root@master conf<span class=\"token punctuation\">]</span><span class=\"token comment\"># vi hive-env.sh</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n\n<p>(hive Hadoop):</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token builtin class-name\">export</span> <span class=\"token assign-left variable\">HADOOP_HOME</span><span class=\"token operator\">=</span>/opt/module/hadoop<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<h4 id=\"2-2-7-HIVE\"><a href=\"#2-2-7-HIVE\" class=\"headerlink\" title=\"2.2.7 HIVE\"></a>2.2.7 HIVE</h4><p>hivemysql</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token punctuation\">[</span>root@master hive<span class=\"token punctuation\">]</span><span class=\"token comment\"># schematool -dbType mysql -initSchema </span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p>:</p>\n<p><img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202401071812254.png\" alt=\"image-20240107181236159\"></p>\n<p><img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202401071812841.png\" alt=\"image-20240107181250765\"></p>\n<p>:</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">schematool <span class=\"token parameter variable\">-dbType</span> mysql <span class=\"token parameter variable\">-initSchema</span> <span class=\"token operator\">></span> hive.log<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n\n\n\n\n<h4 id=\"2-2-8-\"><a href=\"#2-2-8-\" class=\"headerlink\" title=\"2.2.8 \"></a>2.2.8 </h4><pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token punctuation\">[</span>root@master conf<span class=\"token punctuation\">]</span><span class=\"token comment\"># hive -e \"show databases;\"</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p><img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202401071814990.png\" alt=\"image-20240107181433907\"></p>\n<blockquote>\n<p>hive shellhive-3.1.2</p>\n</blockquote>\n<p></p>\n<p>hive<code>/opt/module/hive/conf/</code> <code>log4j.properties</code></p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">1:\n<span class=\"token function\">vi</span> /opt/module/hive/conf/log4j.properties\n2:\n<span class=\"token function\">vi</span> <span class=\"token variable\">$HIVE_HOME</span>/conf/log4j.properties<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>:</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token assign-left variable\">log4j.rootLogger</span><span class=\"token operator\">=</span>WARN, CA\n<span class=\"token assign-left variable\">log4j.appender.CA</span><span class=\"token operator\">=</span>org.apache.log4j.ConsoleAppender\n<span class=\"token assign-left variable\">log4j.appender.CA.layout</span><span class=\"token operator\">=</span>org.apache.log4j.PatternLayout\n<span class=\"token assign-left variable\">log4j.appender.CA.layout.ConversionPattern</span><span class=\"token operator\">=</span>%-4r <span class=\"token punctuation\">[</span>%t<span class=\"token punctuation\">]</span> %-5p %c %x - %m%n<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>hive</p>\n<p><strong>:</strong></p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token punctuation\">[</span>root@master ~<span class=\"token punctuation\">]</span><span class=\"token comment\"># hive -e \"show databases;\"</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p><img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202401071819758.png\" alt=\"image-20240107181919652\"></p>\n<h3 id=\"2-3-Hive-\"><a href=\"#2-3-Hive-\" class=\"headerlink\" title=\"2.3 Hive \"></a>2.3 Hive </h3><h4 id=\"2-3-1-Hiveserver2-\"><a href=\"#2-3-1-Hiveserver2-\" class=\"headerlink\" title=\"2.3.1 Hiveserver2 \"></a>2.3.1 Hiveserver2 </h4><p>\tHivehiveserver2jdbc&#x2F;odbcHiveHiveHiveserver2</p>\n<p><img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202401131536469.png\" alt=\"image-20240113153640372\"></p>\n<blockquote>\n<p>(1)</p>\n</blockquote>\n<p>\tHiveHadoopHivesever2HadoopHadoopHiveserver2</p>\n<p>\tHiveserver2hive.server2.enable.doAsHiveserver2Hiveserver2HadoopHivesever2Hadoop</p>\n<p></p>\n<p>:one: </p>\n<p><img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202401131543845.png\" alt=\"image-20240113154316776\"></p>\n<p>:two:</p>\n<p><img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202401131544123.png\" alt=\"image-20240113154438046\"></p>\n<p><strong><code></code></strong></p>\n<blockquote>\n<p>(2) Hiveserver2</p>\n</blockquote>\n<p>:one:Hadoop</p>\n<p>\thivesever2Hadoopproxy userHadoopHadoop<code>hiveserver2Hadoop</code></p>\n<ol>\n<li><strong><code></code>core-site.xml<code></code>,<code></code>hadoop</strong></li>\n</ol>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">vim</span> <span class=\"token variable\">$HADOOP_HOME</span>/etc/hadoop/core-site.xml<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<ol start=\"2\">\n<li><strong>:</strong></li>\n</ol>\n<pre class=\"line-numbers language-XML\" data-language=\"XML\"><code class=\"language-XML\">&lt;!--root--&gt;\n\t&lt;property&gt;\n\t\t&lt;name&gt;hadoop.proxyuser.root.hosts&lt;&#x2F;name&gt;\n\t\t&lt;value&gt;*&lt;&#x2F;value&gt;\n\t&lt;&#x2F;property&gt;\n\n&lt;!--root--&gt;\n\t&lt;property&gt;\n\t\t&lt;name&gt;hadoop.proxyuser.root.groups&lt;&#x2F;name&gt;\n\t\t&lt;value&gt;*&lt;&#x2F;value&gt;\n\t&lt;&#x2F;property&gt;\n\n&lt;!--root--&gt;\n\t&lt;property&gt;\n\t\t&lt;name&gt;hadoop.proxyuser.root.users&lt;&#x2F;name&gt;\n\t\t&lt;value&gt;*&lt;&#x2F;value&gt;\n\t&lt;&#x2F;property&gt;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n\n\n<p>:two:Hive</p>\n<ol>\n<li><strong> hive-site.xml </strong></li>\n</ol>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token punctuation\">[</span>root@master ~<span class=\"token punctuation\">]</span><span class=\"token comment\"># vim $HIVE_HOME/conf/hive-site.xml</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<pre class=\"line-numbers language-markup\" data-language=\"markup\"><code class=\"language-markup\">   <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>property</span><span class=\"token punctuation\">></span></span>\n<span class=\"token comment\">&lt;!-- hiveserver2  host ()--></span>\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>name</span><span class=\"token punctuation\">></span></span>hive.server2.thrift.bind.host<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>name</span><span class=\"token punctuation\">></span></span>\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>value</span><span class=\"token punctuation\">></span></span>192.168.1.10<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>value</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>property</span><span class=\"token punctuation\">></span></span>\n   <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>property</span><span class=\"token punctuation\">></span></span>\n   <span class=\"token comment\">&lt;!--  hiveserver2  --></span>\n       <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>name</span><span class=\"token punctuation\">></span></span>hive.server2.thrift.port<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>name</span><span class=\"token punctuation\">></span></span>\n       <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>value</span><span class=\"token punctuation\">></span></span>10000<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>value</span><span class=\"token punctuation\">></span></span>\n   <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>property</span><span class=\"token punctuation\">></span></span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>:three:</p>\n<ol>\n<li><strong>hiveserver2</strong></li>\n</ol>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token punctuation\">[</span>root@master ~<span class=\"token punctuation\">]</span><span class=\"token comment\"># hive --service hiveserver2</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p><img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202401131608356.png\" alt=\"image-20240113160812261\"></p>\n<p>,hiveserver2</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token punctuation\">[</span>root@master ~<span class=\"token punctuation\">]</span><span class=\"token comment\"># ss -tunlp |grep 10000</span>\ntcp    LISTEN     <span class=\"token number\">0</span>      <span class=\"token number\">50</span>        *:10000                 *:*                   users:<span class=\"token variable\"><span class=\"token punctuation\">((</span>\"java\"<span class=\"token punctuation\">,</span>pid<span class=\"token operator\">=</span><span class=\"token number\">9885</span><span class=\"token punctuation\">,</span>fd<span class=\"token operator\">=</span><span class=\"token number\">511</span><span class=\"token punctuation\">))</span></span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n\n<p><img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202401131607826.png\" alt=\"image-20240113160740747\"></p>\n<ol start=\"2\">\n<li><strong>,beeline</strong></li>\n</ol>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">beeline <span class=\"token parameter variable\">-u</span> jdbc:hive2://master:10000 <span class=\"token parameter variable\">-n</span> atguigu<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<ol>\n<li><code>beeline</code>Hive</li>\n<li><code>-u jdbc:hive2://master:10000</code>JDBCURL<code>master</code>Hive<code>10000</code></li>\n<li><code>-n atguigu</code>Hive<code>atguigu</code></li>\n</ol>\n<p></p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">beeline <span class=\"token parameter variable\">-u</span> jdbc:hive2://master:10000<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<ul>\n<li><code>-u</code>JDBCURLBeelineHive</li>\n</ul>\n<p>:</p>\n<p><img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202401132021126.png\" alt=\"image-20240113202132033\"></p>\n<p><img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202401132020816.png\" alt=\"image-20240113202033694\"></p>\n<ol start=\"4\">\n<li><strong>Datagrip</strong></li>\n</ol>\n<p>(1):</p>\n<p><img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202401132122559.png\" alt=\"image-20240113212219461\"></p>\n<p>(2)</p>\n<p>\tHivebeelineJDBC</p>\n<p><img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202401132123984.png\" alt=\"image-20240113212331886\"></p>\n<p>3</p>\n<p><img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202401132134380.png\" alt=\"image-20240113213409280\"></p>\n<p>4sql</p>\n<p><img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202401132134593.png\" alt=\"image-20240113213430503\"></p>\n<p>5</p>\n<p><img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202401132134412.png\" alt=\"image-20240113213449337\"></p>\n<blockquote>\n<p><strong>hiveserver2:()</strong></p>\n</blockquote>\n<p><img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202401111119587.png\" alt=\"image-20240111111958040\"></p>\n<p>: <a href=\"https://www.cnblogs.com/tianlingqun/p/16322927.html\">https://www.cnblogs.com/tianlingqun/p/16322927.html</a></p>\n<p></p>\n<pre class=\"line-numbers language-markup\" data-language=\"markup\"><code class=\"language-markup\">   <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>property</span><span class=\"token punctuation\">></span></span>\n<span class=\"token comment\">&lt;!-- hive,false --></span>\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>name</span><span class=\"token punctuation\">></span></span>hive.server2.active.passive.ha.enable<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>name</span><span class=\"token punctuation\">></span></span>\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>value</span><span class=\"token punctuation\">></span></span>true<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>value</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>property</span><span class=\"token punctuation\">></span></span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h4 id=\"2-3-2-metastore\"><a href=\"#2-3-2-metastore\" class=\"headerlink\" title=\"2.3.2 metastore\"></a>2.3.2 metastore</h4><p>\tHivemetastoreHive CLIHiveserver2</p>\n<p>:one:<strong>metastore</strong></p>\n<p>metastore</p>\n<blockquote>\n<p>(1)</p>\n</blockquote>\n<p><img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202401132137976.png\" alt=\"image-20240113213712903\"></p>\n<blockquote>\n<p>(2)</p>\n</blockquote>\n<p><img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202401132137270.png\" alt=\"image-20240113213743201\"></p>\n<p><code></code></p>\n<p>  (1Hive CLIHive CLI</p>\n<p>2</p>\n<p>:two:<strong>metastore</strong></p>\n<blockquote>\n<p>(1</p>\n</blockquote>\n<p>Hiveserver2Hive CLIhive-site.xml<code></code>()</p>\n<pre class=\"line-numbers language-markup\" data-language=\"markup\"><code class=\"language-markup\">   <span class=\"token comment\">&lt;!-- jdbcURL --></span>\n   <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>property</span><span class=\"token punctuation\">></span></span>\n       <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>name</span><span class=\"token punctuation\">></span></span>javax.jdo.option.ConnectionURL<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>name</span><span class=\"token punctuation\">></span></span>\n       <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>value</span><span class=\"token punctuation\">></span></span>jdbc:mysql://192.168.1.10:3306/metastore?createDatabaseIfNotExist=true<span class=\"token entity named-entity\" title=\"&amp;\">&amp;amp;</span>useSSL=false<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>value</span><span class=\"token punctuation\">></span></span>\n   <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>property</span><span class=\"token punctuation\">></span></span>\n   \n   <span class=\"token comment\">&lt;!-- jdbcDriver--></span>\n   <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>property</span><span class=\"token punctuation\">></span></span>\n       <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>name</span><span class=\"token punctuation\">></span></span>javax.jdo.option.ConnectionDriverName<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>name</span><span class=\"token punctuation\">></span></span>\n       <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>value</span><span class=\"token punctuation\">></span></span>com.mysql.jdbc.Driver<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>value</span><span class=\"token punctuation\">></span></span>\n   <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>property</span><span class=\"token punctuation\">></span></span>\n   \n<span class=\"token comment\">&lt;!-- jdbcusername--></span>\n   <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>property</span><span class=\"token punctuation\">></span></span>\n       <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>name</span><span class=\"token punctuation\">></span></span>javax.jdo.option.ConnectionUserName<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>name</span><span class=\"token punctuation\">></span></span>\n       <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>value</span><span class=\"token punctuation\">></span></span>root<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>value</span><span class=\"token punctuation\">></span></span>\n   <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>property</span><span class=\"token punctuation\">></span></span>\n\n   <span class=\"token comment\">&lt;!-- jdbcpassword --></span>\n   <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>property</span><span class=\"token punctuation\">></span></span>\n       <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>name</span><span class=\"token punctuation\">></span></span>javax.jdo.option.ConnectionPassword<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>name</span><span class=\"token punctuation\">></span></span>\n       <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>value</span><span class=\"token punctuation\">></span></span>123456<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>value</span><span class=\"token punctuation\">></span></span>\n   <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>property</span><span class=\"token punctuation\">></span></span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<blockquote>\n<p>2</p>\n</blockquote>\n<p></p>\n<p>metastorehive-site.xml</p>\n<pre class=\"line-numbers language-markup\" data-language=\"markup\"><code class=\"language-markup\">   <span class=\"token comment\">&lt;!-- jdbcURL --></span>\n   <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>property</span><span class=\"token punctuation\">></span></span>\n       <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>name</span><span class=\"token punctuation\">></span></span>javax.jdo.option.ConnectionURL<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>name</span><span class=\"token punctuation\">></span></span>\n       <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>value</span><span class=\"token punctuation\">></span></span>jdbc:mysql://192.168.1.10:3306/metastore?createDatabaseIfNotExist=true<span class=\"token entity named-entity\" title=\"&amp;\">&amp;amp;</span>useSSL=false<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>value</span><span class=\"token punctuation\">></span></span>\n   <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>property</span><span class=\"token punctuation\">></span></span>\n   \n   <span class=\"token comment\">&lt;!-- jdbcDriver--></span>\n   <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>property</span><span class=\"token punctuation\">></span></span>\n       <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>name</span><span class=\"token punctuation\">></span></span>javax.jdo.option.ConnectionDriverName<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>name</span><span class=\"token punctuation\">></span></span>\n       <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>value</span><span class=\"token punctuation\">></span></span>com.mysql.jdbc.Driver<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>value</span><span class=\"token punctuation\">></span></span>\n   <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>property</span><span class=\"token punctuation\">></span></span>\n   \n<span class=\"token comment\">&lt;!-- jdbcusername--></span>\n   <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>property</span><span class=\"token punctuation\">></span></span>\n       <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>name</span><span class=\"token punctuation\">></span></span>javax.jdo.option.ConnectionUserName<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>name</span><span class=\"token punctuation\">></span></span>\n       <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>value</span><span class=\"token punctuation\">></span></span>root<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>value</span><span class=\"token punctuation\">></span></span>\n   <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>property</span><span class=\"token punctuation\">></span></span>\n\n   <span class=\"token comment\">&lt;!-- jdbcpassword --></span>\n   <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>property</span><span class=\"token punctuation\">></span></span>\n       <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>name</span><span class=\"token punctuation\">></span></span>javax.jdo.option.ConnectionPassword<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>name</span><span class=\"token punctuation\">></span></span>\n       <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>value</span><span class=\"token punctuation\">></span></span>123456<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>value</span><span class=\"token punctuation\">></span></span>\n   <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>property</span><span class=\"token punctuation\">></span></span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>Hiveserver2Hive CLIhive-site.xml<code>metastore</code></p>\n<p>(<code></code>)</p>\n<pre class=\"line-numbers language-markup\" data-language=\"markup\"><code class=\"language-markup\"><span class=\"token comment\">&lt;!-- metastore --></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>property</span><span class=\"token punctuation\">></span></span>\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>name</span><span class=\"token punctuation\">></span></span>hive.metastore.uris<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>name</span><span class=\"token punctuation\">></span></span>\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>value</span><span class=\"token punctuation\">></span></span>thrift://master:9083<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>value</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>property</span><span class=\"token punctuation\">></span></span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>metastoremetastore9083</p>\n<blockquote>\n<p>(3) <strong></strong></p>\n</blockquote>\n<p>Hive CLIshou databases</p>\n<p><img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202401132252589.png\" alt=\"image-20240113225247501\"></p>\n<p>\tHive CLIhive.metastore.urisHive CLI<code>metastore</code><code>metastore</code></p>\n<p><strong>metastore</strong></p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">hive <span class=\"token parameter variable\">--service</span> metastore<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p>XshellHive</p>\n<p><img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202401132255816.png\" alt=\"image-20240113225511730\"></p>\n<p>, Hive CLIshou databases:</p>\n<p><img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202401132256079.png\" alt=\"image-20240113225647991\"></p>\n<h4 id=\"2-3-3-hive\"><a href=\"#2-3-3-hive\" class=\"headerlink\" title=\"2.3.3 hive\"></a>2.3.3 hive</h4><p>:</p>\n<p><img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202401142111810.png\" alt=\"image-20240114211120713\"></p>\n<p>,conf</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token punctuation\">[</span>root@master conf<span class=\"token punctuation\">]</span><span class=\"token comment\"># cp hive-exec-log4j2.properties.template hive-log4j2.properties</span>\n<span class=\"token punctuation\">[</span>root@master conf<span class=\"token punctuation\">]</span><span class=\"token comment\"># vim hive-log4j2.properties</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n\n<p>property.hive.log.dir<br><code>property.hive.log.dir = $&#123;sys:java.io.tmpdir&#125;/$&#123;sys:user.name&#125;</code>&#x2F;tmp&#x2F;hive&#x2F;hive.log<br></p>\n<p><img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202401142113949.png\" alt=\"image-20240114211359832\"></p>\n<p>:</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token comment\"># list of properties</span>\nproperty.hive.log.level <span class=\"token operator\">=</span> INFO\nproperty.hive.root.logger <span class=\"token operator\">=</span> DRFA\n<span class=\"token comment\">#property.hive.log.dir = $&#123;sys:java.io.tmpdir&#125;/$&#123;sys:user.name&#125;</span>\nproperty.hive.log.dir <span class=\"token operator\">=</span> /opt/module/apache-hive-3.1.2/logs\nproperty.hive.log.file <span class=\"token operator\">=</span> hive.log\nproperty.hive.perflogger.log.level <span class=\"token operator\">=</span> INFO<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n\n\n<h4 id=\"2-3-4-Hive\"><a href=\"#2-3-4-Hive\" class=\"headerlink\" title=\"2.3.4 Hive\"></a>2.3.4 Hive</h4><ul>\n<li><p>nohup</p>\n</li>\n<li><p>&#x2F;dev&#x2F;nullLinux</p>\n</li>\n<li><p>2&gt;&amp;1</p>\n</li>\n<li><p>&amp;</p>\n</li>\n</ul>\n<p>nohup [xxx]&gt; file 2&gt;&amp;1 &amp;xxxfile</p>\n<blockquote>\n<p>:</p>\n</blockquote>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">nohup</span> hive <span class=\"token parameter variable\">--service</span> metastore <span class=\"token operator\"><span class=\"token file-descriptor important\">2</span>></span><span class=\"token file-descriptor important\">&amp;1</span> <span class=\"token operator\">&amp;</span>\n<span class=\"token function\">nohup</span> hive <span class=\"token parameter variable\">--service</span> hiveserver2 <span class=\"token operator\"><span class=\"token file-descriptor important\">2</span>></span><span class=\"token file-descriptor important\">&amp;1</span> <span class=\"token operator\">&amp;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n\n<blockquote>\n<p>()</p>\n</blockquote>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token number\">1</span>.\n<span class=\"token function\">vi</span> <span class=\"token variable\">$HIVE_HOME</span>/bin/hiveservices.sh\n<span class=\"token number\">2</span>.\n<span class=\"token function\">chmod</span> +x <span class=\"token variable\">$HIVE_HOME</span>/bin/hiveservices.sh<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n\n<blockquote>\n<p>:</p>\n</blockquote>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token shebang important\">#!/bin/bash</span>\n\n<span class=\"token assign-left variable\">HIVE_LOG_DIR</span><span class=\"token operator\">=</span><span class=\"token variable\">$HIVE_HOME</span>/logs\n<span class=\"token keyword\">if</span> <span class=\"token punctuation\">[</span> <span class=\"token operator\">!</span> <span class=\"token parameter variable\">-d</span> <span class=\"token variable\">$HIVE_LOG_DIR</span> <span class=\"token punctuation\">]</span>\n<span class=\"token keyword\">then</span>\n\t<span class=\"token function\">mkdir</span> <span class=\"token parameter variable\">-p</span> <span class=\"token variable\">$HIVE_LOG_DIR</span>\n<span class=\"token keyword\">fi</span>\n\n<span class=\"token comment\">#12</span>\n<span class=\"token keyword\">function</span> <span class=\"token function-name function\">check_process</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">&#123;</span>\n    <span class=\"token assign-left variable\">pid</span><span class=\"token operator\">=</span><span class=\"token variable\"><span class=\"token variable\">$(</span><span class=\"token function\">ps</span> <span class=\"token parameter variable\">-ef</span> <span class=\"token operator\"><span class=\"token file-descriptor important\">2</span>></span>/dev/null <span class=\"token operator\">|</span> <span class=\"token function\">grep</span> <span class=\"token parameter variable\">-v</span> <span class=\"token function\">grep</span> <span class=\"token operator\">|</span> <span class=\"token function\">grep</span> <span class=\"token parameter variable\">-i</span> $1 <span class=\"token operator\">|</span> <span class=\"token function\">awk</span> <span class=\"token string\">'&#123;print $2&#125;'</span><span class=\"token variable\">)</span></span>\n    <span class=\"token assign-left variable\">ppid</span><span class=\"token operator\">=</span><span class=\"token variable\"><span class=\"token variable\">$(</span>ss <span class=\"token parameter variable\">-nltp</span> <span class=\"token operator\"><span class=\"token file-descriptor important\">2</span>></span>/dev/null <span class=\"token operator\">|</span> <span class=\"token function\">grep</span> $2 <span class=\"token operator\">|</span> <span class=\"token function\">awk</span> <span class=\"token string\">'&#123;print $7&#125;'</span> <span class=\"token operator\">|</span> <span class=\"token function\">cut</span> <span class=\"token parameter variable\">-d</span> <span class=\"token string\">'/'</span> <span class=\"token parameter variable\">-f</span> <span class=\"token number\">1</span><span class=\"token variable\">)</span></span>\n    <span class=\"token builtin class-name\">echo</span> <span class=\"token variable\">$pid</span>\n    <span class=\"token punctuation\">[</span><span class=\"token punctuation\">[</span> <span class=\"token string\">\"<span class=\"token variable\">$pid</span>\"</span> <span class=\"token operator\">=~</span> <span class=\"token string\">\"<span class=\"token variable\">$ppid</span>\"</span> <span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">&amp;&amp;</span> <span class=\"token punctuation\">[</span> <span class=\"token string\">\"<span class=\"token variable\">$ppid</span>\"</span> <span class=\"token punctuation\">]</span> <span class=\"token operator\">&amp;&amp;</span> <span class=\"token builtin class-name\">return</span> <span class=\"token number\">0</span> <span class=\"token operator\">||</span> <span class=\"token builtin class-name\">return</span> <span class=\"token number\">1</span>\n<span class=\"token punctuation\">&#125;</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function-name function\">hive_start</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">&#123;</span>\n    <span class=\"token assign-left variable\">metapid</span><span class=\"token operator\">=</span><span class=\"token variable\"><span class=\"token variable\">$(</span>check_process HiveMetastore <span class=\"token number\">9083</span><span class=\"token variable\">)</span></span>\n    <span class=\"token assign-left variable\">cmd</span><span class=\"token operator\">=</span><span class=\"token string\">\"nohup hive --service metastore ><span class=\"token variable\">$HIVE_LOG_DIR</span>/metastore.log 2>&amp;1 &amp;\"</span>\n    <span class=\"token punctuation\">[</span> <span class=\"token parameter variable\">-z</span> <span class=\"token string\">\"<span class=\"token variable\">$metapid</span>\"</span> <span class=\"token punctuation\">]</span> <span class=\"token operator\">&amp;&amp;</span> <span class=\"token builtin class-name\">eval</span> <span class=\"token variable\">$cmd</span> <span class=\"token operator\">||</span> <span class=\"token builtin class-name\">echo</span> <span class=\"token string\">\"Metastroe\"</span>\n    <span class=\"token assign-left variable\">server2pid</span><span class=\"token operator\">=</span><span class=\"token variable\"><span class=\"token variable\">$(</span>check_process HiveServer2 <span class=\"token number\">10000</span><span class=\"token variable\">)</span></span>\n    <span class=\"token assign-left variable\">cmd</span><span class=\"token operator\">=</span><span class=\"token string\">\"nohup hive --service hiveserver2 ><span class=\"token variable\">$HIVE_LOG_DIR</span>/hiveServer2.log 2>&amp;1 &amp;\"</span>\n    <span class=\"token punctuation\">[</span> <span class=\"token parameter variable\">-z</span> <span class=\"token string\">\"<span class=\"token variable\">$server2pid</span>\"</span> <span class=\"token punctuation\">]</span> <span class=\"token operator\">&amp;&amp;</span> <span class=\"token builtin class-name\">eval</span> <span class=\"token variable\">$cmd</span> <span class=\"token operator\">||</span> <span class=\"token builtin class-name\">echo</span> <span class=\"token string\">\"HiveServer2\"</span>\n<span class=\"token punctuation\">&#125;</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function-name function\">hive_stop</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">&#123;</span>\n<span class=\"token assign-left variable\">metapid</span><span class=\"token operator\">=</span><span class=\"token variable\"><span class=\"token variable\">$(</span>check_process HiveMetastore <span class=\"token number\">9083</span><span class=\"token variable\">)</span></span>\n    <span class=\"token punctuation\">[</span> <span class=\"token string\">\"<span class=\"token variable\">$metapid</span>\"</span> <span class=\"token punctuation\">]</span> <span class=\"token operator\">&amp;&amp;</span> <span class=\"token function\">kill</span> <span class=\"token variable\">$metapid</span> <span class=\"token operator\">||</span> <span class=\"token builtin class-name\">echo</span> <span class=\"token string\">\"Metastore\"</span>\n    <span class=\"token assign-left variable\">server2pid</span><span class=\"token operator\">=</span><span class=\"token variable\"><span class=\"token variable\">$(</span>check_process HiveServer2 <span class=\"token number\">10000</span><span class=\"token variable\">)</span></span>\n    <span class=\"token punctuation\">[</span> <span class=\"token string\">\"<span class=\"token variable\">$server2pid</span>\"</span> <span class=\"token punctuation\">]</span> <span class=\"token operator\">&amp;&amp;</span> <span class=\"token function\">kill</span> <span class=\"token variable\">$server2pid</span> <span class=\"token operator\">||</span> <span class=\"token builtin class-name\">echo</span> <span class=\"token string\">\"HiveServer2\"</span>\n<span class=\"token punctuation\">&#125;</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function-name function\">hive_status</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">&#123;</span>\n  ss <span class=\"token parameter variable\">-tunlp</span> <span class=\"token operator\">|</span> <span class=\"token function\">grep</span> <span class=\"token number\">10000</span> <span class=\"token operator\">></span> /dev/null\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">[</span> <span class=\"token variable\">$?</span> <span class=\"token parameter variable\">-ne</span> <span class=\"token number\">0</span> <span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span><span class=\"token keyword\">then</span>\n    <span class=\"token function\">sleep</span> <span class=\"token number\">3</span>\n    <span class=\"token builtin class-name\">echo</span> <span class=\"token string\">\"HiveServer2\"</span>\n  <span class=\"token keyword\">else</span>\n    <span class=\"token function\">sleep</span> <span class=\"token number\">3</span>\n    <span class=\"token builtin class-name\">echo</span> <span class=\"token string\">\"HiveServer2\"</span>\n  <span class=\"token keyword\">fi</span>\n  ss <span class=\"token parameter variable\">-tunlp</span> <span class=\"token operator\">|</span> <span class=\"token function\">grep</span> <span class=\"token number\">9083</span> <span class=\"token operator\">></span> /dev/null\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">[</span> <span class=\"token variable\">$?</span> <span class=\"token parameter variable\">-ne</span> <span class=\"token number\">0</span> <span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span><span class=\"token keyword\">then</span>\n    <span class=\"token builtin class-name\">echo</span> <span class=\"token string\">\"Metastore\"</span>\n  <span class=\"token keyword\">else</span>\n    <span class=\"token builtin class-name\">echo</span> <span class=\"token string\">\"Metastore\"</span>\n  <span class=\"token keyword\">fi</span>\n<span class=\"token punctuation\">&#125;</span>\n\n\n<span class=\"token keyword\">case</span> <span class=\"token variable\">$1</span> <span class=\"token keyword\">in</span>\n<span class=\"token string\">\"start\"</span><span class=\"token punctuation\">)</span>\n    hive_start\n    <span class=\"token punctuation\">;</span><span class=\"token punctuation\">;</span>\n<span class=\"token string\">\"stop\"</span><span class=\"token punctuation\">)</span>\n    hive_stop\n    <span class=\"token punctuation\">;</span><span class=\"token punctuation\">;</span>\n<span class=\"token string\">\"restart\"</span><span class=\"token punctuation\">)</span>\n    hive_stop\n    <span class=\"token function\">sleep</span> <span class=\"token number\">2</span>\n    hive_start\n    <span class=\"token punctuation\">;</span><span class=\"token punctuation\">;</span>\n<span class=\"token string\">\"status\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token comment\">#    check_process HiveMetastore 9083 >/dev/null &amp;&amp; echo \"Metastore\" || echo \"Metastore\"</span>\n<span class=\"token comment\">#    check_process HiveServer2 10000 >/dev/null &amp;&amp; echo \"HiveServer2\" || echo \"HiveServer2\"</span>\n    hive_status\n    <span class=\"token punctuation\">;</span><span class=\"token punctuation\">;</span>\n*<span class=\"token punctuation\">)</span>\n    <span class=\"token builtin class-name\">echo</span> Invalid Args<span class=\"token operator\">!</span>\n    <span class=\"token builtin class-name\">echo</span> <span class=\"token string\">'Usage: '</span><span class=\"token variable\"><span class=\"token variable\">$(</span><span class=\"token function\">basename</span> $0<span class=\"token variable\">)</span></span><span class=\"token string\">' start|stop|restart|status'</span>\n    <span class=\"token punctuation\">;</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">esac</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<blockquote>\n<p></p>\n</blockquote>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token punctuation\">[</span>root@master ~<span class=\"token punctuation\">]</span><span class=\"token comment\"># hiveservices.sh start</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p>:</p>\n<p><img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202401141130477.png\" alt=\"image-20240114113057354\"></p>\n<p>!</p>\n<p>!!!</p>\n<h3 id=\"2-4-Hive\"><a href=\"#2-4-Hive\" class=\"headerlink\" title=\"2.4  Hive\"></a>2.4  Hive</h3><h4 id=\"2-4-1-Hive\"><a href=\"#2-4-1-Hive\" class=\"headerlink\" title=\"2.4.1 Hive\"></a>2.4.1 Hive</h4><pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">:\n<span class=\"token punctuation\">[</span>root@master hive<span class=\"token punctuation\">]</span>$ bin/hive <span class=\"token parameter variable\">-help</span>\nusage: hive\n -d,--define <span class=\"token operator\">&lt;</span>key<span class=\"token operator\">=</span>value<span class=\"token operator\">></span>          Variable subsitution to apply to hive\n                                  commands. e.g. <span class=\"token parameter variable\">-d</span> <span class=\"token assign-left variable\">A</span><span class=\"token operator\">=</span>B or <span class=\"token parameter variable\">--define</span> <span class=\"token assign-left variable\">A</span><span class=\"token operator\">=</span>B\n    <span class=\"token parameter variable\">--database</span> <span class=\"token operator\">&lt;</span>databasename<span class=\"token operator\">></span>     Specify the database to use\n <span class=\"token parameter variable\">-e</span> <span class=\"token operator\">&lt;</span>quoted-query-string<span class=\"token operator\">></span>         SQL from <span class=\"token builtin class-name\">command</span> line\n <span class=\"token parameter variable\">-f</span> <span class=\"token operator\">&lt;</span>filename<span class=\"token operator\">></span>                      SQL from files\n -H,--help                        Print <span class=\"token builtin class-name\">help</span> information\n    <span class=\"token parameter variable\">--hiveconf</span> <span class=\"token operator\">&lt;</span>property<span class=\"token operator\">=</span>value<span class=\"token operator\">></span>   Use value <span class=\"token keyword\">for</span> given property\n    <span class=\"token parameter variable\">--hivevar</span> <span class=\"token operator\">&lt;</span>key<span class=\"token operator\">=</span>value<span class=\"token operator\">></span>         Variable subsitution to apply to hive\n                                  commands. e.g. <span class=\"token parameter variable\">--hivevar</span> <span class=\"token assign-left variable\">A</span><span class=\"token operator\">=</span>B\n <span class=\"token parameter variable\">-i</span> <span class=\"token operator\">&lt;</span>filename<span class=\"token operator\">></span>                    Initialization SQL <span class=\"token function\">file</span>\n -S,--silent                      Silent mode <span class=\"token keyword\">in</span> interactive shell\n -v,--verbose                     Verbose mode <span class=\"token punctuation\">(</span>echo executed SQL to the console<span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>1:</p>\n<pre class=\"line-numbers language-sql\" data-language=\"sql\"><code class=\"language-sql\"><span class=\"token number\">1</span>Hivestudent<span class=\"token number\">1</span>\nhive <span class=\"token punctuation\">(</span><span class=\"token keyword\">default</span><span class=\"token punctuation\">)</span><span class=\"token operator\">></span> <span class=\"token keyword\">create</span> <span class=\"token keyword\">table</span> student<span class=\"token punctuation\">(</span>id <span class=\"token keyword\">int</span><span class=\"token punctuation\">,</span>name string<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nOK\n<span class=\"token keyword\">Time</span> taken: <span class=\"token number\">1.291</span> seconds\n\nhive <span class=\"token punctuation\">(</span><span class=\"token keyword\">default</span><span class=\"token punctuation\">)</span><span class=\"token operator\">></span> <span class=\"token keyword\">insert</span> <span class=\"token keyword\">into</span> <span class=\"token keyword\">table</span> student <span class=\"token keyword\">values</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"zhangsan\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nhive <span class=\"token punctuation\">(</span><span class=\"token keyword\">default</span><span class=\"token punctuation\">)</span><span class=\"token operator\">></span> <span class=\"token keyword\">select</span> <span class=\"token operator\">*</span> <span class=\"token keyword\">from</span> student<span class=\"token punctuation\">;</span>\nOK\nstudent<span class=\"token punctuation\">.</span>id\tstudent<span class=\"token punctuation\">.</span>name\n<span class=\"token number\">1</span>\tzhangsan\n<span class=\"token keyword\">Time</span> taken: <span class=\"token number\">0.144</span> seconds<span class=\"token punctuation\">,</span> Fetched: <span class=\"token number\">1</span> <span class=\"token keyword\">row</span><span class=\"token punctuation\">(</span>s<span class=\"token punctuation\">)</span>\n\n<span class=\"token number\">2</span><span class=\"token operator\">-</span>ehivehql\n<span class=\"token punctuation\">[</span>root<span class=\"token variable\">@master</span> hive<span class=\"token punctuation\">]</span>$ bin<span class=\"token operator\">/</span>hive <span class=\"token operator\">-</span>e <span class=\"token string\">\"select id from student;\"</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token number\">3</span>-fhql\n1/opt/module/hive/datasdatashivef.sql\n<span class=\"token punctuation\">[</span>atguigu@master hive<span class=\"token punctuation\">]</span>$ <span class=\"token function\">mkdir</span> datas\n<span class=\"token punctuation\">[</span>atguigu@master datas<span class=\"token punctuation\">]</span>$ <span class=\"token function\">vim</span> hivef.sql\n2hql\n<span class=\"token keyword\">select</span> * from student<span class=\"token punctuation\">;</span>\n3hql\n<span class=\"token punctuation\">[</span>atguigu@master hive<span class=\"token punctuation\">]</span>$ bin/hive <span class=\"token parameter variable\">-f</span> /opt/module/hive/datas/hivef.sql\n4hql\n<span class=\"token punctuation\">[</span>atguigu@master hive<span class=\"token punctuation\">]</span>$ bin/hive <span class=\"token parameter variable\">-f</span> /opt/module/hive/datas/hivef.sql  <span class=\"token operator\">></span> /opt/module/hive/datas/hive_result.txt<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>2:</p>\n<pre class=\"line-numbers language-sql\" data-language=\"sql\"><code class=\"language-sql\"><span class=\"token keyword\">create</span> <span class=\"token keyword\">table</span> <span class=\"token keyword\">if</span>  <span class=\"token operator\">not</span> <span class=\"token keyword\">exists</span> orders<span class=\"token punctuation\">(</span>\nid string<span class=\"token punctuation\">,</span>\nuserno string<span class=\"token punctuation\">,</span>\npassword string<span class=\"token punctuation\">,</span>\nemail string<span class=\"token punctuation\">,</span>\nphone string<span class=\"token punctuation\">,</span>\nname string<span class=\"token punctuation\">,</span>\nidcard string<span class=\"token punctuation\">,</span>\n<span class=\"token keyword\">status</span> <span class=\"token keyword\">int</span><span class=\"token punctuation\">,</span>\ndepid string\n<span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">row</span> format  delimited <span class=\"token keyword\">fields</span> <span class=\"token keyword\">terminated</span> <span class=\"token keyword\">by</span> <span class=\"token string\">','</span><span class=\"token punctuation\">;</span>\n<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>csvhive()</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">load data <span class=\"token builtin class-name\">local</span> inpath <span class=\"token string\">''</span> into table <span class=\"token punctuation\">;</span>\nload data <span class=\"token builtin class-name\">local</span> inpath <span class=\"token string\">'/opt/user.csv'</span> into table orders<span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n\n<p>hdfshive</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">load data inpath hdfscsv into table <span class=\"token punctuation\">;</span>\nload data inpath <span class=\"token string\">'/data081/order.csv'</span> into table orders<span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n\n<p></p>\n<p></p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"> load data inpath /tmp/fun_user.txt into table fun_user_external<span class=\"token punctuation\">;</span>\n load data <span class=\"token builtin class-name\">local</span> inpath /tmp/fun_user.txt into table fun_user_external<span class=\"token punctuation\">;</span>\nlocallocal<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n\n\n"},{"title":"MYSQL","date":"2024-11-09T17:48:04.000Z","_content":"# MYSQL \n\n## 1. \n\n1. **2binlog,**\n2. **73**\n\n## 2. \n\n:one: \n:two: binlog \n:three: \n:four: \n\n\n\n```sh\n#!/bin/bash\n\n# \nBACKUP_DIR=\"/path/to/backup\"               # \nBINLOG_DIR=\"/path/to/binlog_backup\"        #  binlog \nREMOTE_SERVER=\"user@remote_server:/remote/backup/directory\"  # ssh\nMYSQL_USER=\"your_mysql_user\"               # MySQL \nMYSQL_PASSWORD=\"your_mysql_password\"       # MySQL \nMYSQL_HOST=\"localhost\"                     # MySQL \nMYSQL_PORT=\"3306\"                          # MySQL \nDATE=$(date +\"%Y%m%d%H%M\")                 # \n\n# \nmkdir -p $BACKUP_DIR/$DATE\nmkdir -p $BINLOG_DIR/$DATE\n\n# \necho \"Starting full backup...\"\nmysqldump -u $MYSQL_USER -p$MYSQL_PASSWORD -h $MYSQL_HOST -P $MYSQL_PORT --all-databases > $BACKUP_DIR/$DATE/full_backup.sql\nif [ $? -eq 0 ]; then\n  echo \"Full backup successful!\"\nelse\n  echo \"Full backup failed!\"\n  exit 1\nfi\n\n# binlog \necho \"Starting binlog backup...\"\nmysqladmin -u $MYSQL_USER -p$MYSQL_PASSWORD flush-logs\ncp /data/mysql/binlog/mysql-bin.* $BINLOG_DIR/$DATE     #binlog\nif [ $? -eq 0 ]; then\n  echo \"Binlog backup successful!\"\nelse\n  echo \"Binlog backup failed!\"\n  exit 1\nfi\n\n# \necho \"Compressing backup files...\"\ntar -czf $BACKUP_DIR/$DATE/full_backup.tar.gz -C $BACKUP_DIR/$DATE full_backup.sql\ntar -czf $BINLOG_DIR/$DATE/binlog_backup.tar.gz -C $BINLOG_DIR/$DATE .\nif [ $? -eq 0 ]; then\n  echo \"Compression successful!\"\nelse\n  echo \"Compression failed!\"\n  exit 1\nfi\n\n# \necho \"Syncing backups to remote server...\"\nrsync -avz $BACKUP_DIR/$DATE/full_backup.tar.gz $REMOTE_SERVER\nrsync -avz $BINLOG_DIR/$DATE/binlog_backup.tar.gz $REMOTE_SERVER\nif [ $? -eq 0 ]; then\n  echo \"Backup sync successful!\"\nelse\n  echo \"Backup sync failed!\"\n  exit 1\nfi\n\n#  7 \necho \"Cleaning up local backups older than 7 days...\"\nfind $BACKUP_DIR -type d -mtime +7 -exec rm -rf {} \\;\nfind $BINLOG_DIR -type d -mtime +7 -exec rm -rf {} \\;\n\n#  3 \necho \"Cleaning up remote backups older than 3 months...\"\nssh user@remote_server \"find /remote/backup/directory -type f -mtime +90 -exec rm -f {} \\;\"\n\necho \"All backup tasks completed successfully!\"\n```\n\n> \n\n1. ****\n\n2. - `BACKUP_DIR`\n   - `BINLOG_DIR` binlog \n   - `REMOTE_SERVER`\n   - `MYSQL_USER` MySQL \n   - `MYSQL_PASSWORD` MySQL \n   - `MYSQL_HOST` MySQL \n   - `MYSQL_PORT` MySQL \n   - `DATE`\n\n3. ****\n\n4. - **** `mkdir`  binlog \n   - **** `mysqldump` \n   - **binlog ** `mysqladmin flush-logs`  binlog `cp`  binlog \n   - **** `tar`  binlog \n   - **** `rsync` \n\n5. ****\n\n6. - **** `find`  7 \n   - **** `ssh`  `find`  3 \n\n## 3. \n\n `cron` \n\n```sh\n#  cron \ncrontab -e\n\n# \n0 2 * * * /path/to/backup_script.sh\n```\n\n`cron` ","source":"_posts/MYSQL.md","raw":"---\ntitle: MYSQL\ndate: 2024-11-10 01:48:04\ntags: Mysql\ncategories: \n  - \n---\n# MYSQL \n\n## 1. \n\n1. **2binlog,**\n2. **73**\n\n## 2. \n\n:one: \n:two: binlog \n:three: \n:four: \n\n\n\n```sh\n#!/bin/bash\n\n# \nBACKUP_DIR=\"/path/to/backup\"               # \nBINLOG_DIR=\"/path/to/binlog_backup\"        #  binlog \nREMOTE_SERVER=\"user@remote_server:/remote/backup/directory\"  # ssh\nMYSQL_USER=\"your_mysql_user\"               # MySQL \nMYSQL_PASSWORD=\"your_mysql_password\"       # MySQL \nMYSQL_HOST=\"localhost\"                     # MySQL \nMYSQL_PORT=\"3306\"                          # MySQL \nDATE=$(date +\"%Y%m%d%H%M\")                 # \n\n# \nmkdir -p $BACKUP_DIR/$DATE\nmkdir -p $BINLOG_DIR/$DATE\n\n# \necho \"Starting full backup...\"\nmysqldump -u $MYSQL_USER -p$MYSQL_PASSWORD -h $MYSQL_HOST -P $MYSQL_PORT --all-databases > $BACKUP_DIR/$DATE/full_backup.sql\nif [ $? -eq 0 ]; then\n  echo \"Full backup successful!\"\nelse\n  echo \"Full backup failed!\"\n  exit 1\nfi\n\n# binlog \necho \"Starting binlog backup...\"\nmysqladmin -u $MYSQL_USER -p$MYSQL_PASSWORD flush-logs\ncp /data/mysql/binlog/mysql-bin.* $BINLOG_DIR/$DATE     #binlog\nif [ $? -eq 0 ]; then\n  echo \"Binlog backup successful!\"\nelse\n  echo \"Binlog backup failed!\"\n  exit 1\nfi\n\n# \necho \"Compressing backup files...\"\ntar -czf $BACKUP_DIR/$DATE/full_backup.tar.gz -C $BACKUP_DIR/$DATE full_backup.sql\ntar -czf $BINLOG_DIR/$DATE/binlog_backup.tar.gz -C $BINLOG_DIR/$DATE .\nif [ $? -eq 0 ]; then\n  echo \"Compression successful!\"\nelse\n  echo \"Compression failed!\"\n  exit 1\nfi\n\n# \necho \"Syncing backups to remote server...\"\nrsync -avz $BACKUP_DIR/$DATE/full_backup.tar.gz $REMOTE_SERVER\nrsync -avz $BINLOG_DIR/$DATE/binlog_backup.tar.gz $REMOTE_SERVER\nif [ $? -eq 0 ]; then\n  echo \"Backup sync successful!\"\nelse\n  echo \"Backup sync failed!\"\n  exit 1\nfi\n\n#  7 \necho \"Cleaning up local backups older than 7 days...\"\nfind $BACKUP_DIR -type d -mtime +7 -exec rm -rf {} \\;\nfind $BINLOG_DIR -type d -mtime +7 -exec rm -rf {} \\;\n\n#  3 \necho \"Cleaning up remote backups older than 3 months...\"\nssh user@remote_server \"find /remote/backup/directory -type f -mtime +90 -exec rm -f {} \\;\"\n\necho \"All backup tasks completed successfully!\"\n```\n\n> \n\n1. ****\n\n2. - `BACKUP_DIR`\n   - `BINLOG_DIR` binlog \n   - `REMOTE_SERVER`\n   - `MYSQL_USER` MySQL \n   - `MYSQL_PASSWORD` MySQL \n   - `MYSQL_HOST` MySQL \n   - `MYSQL_PORT` MySQL \n   - `DATE`\n\n3. ****\n\n4. - **** `mkdir`  binlog \n   - **** `mysqldump` \n   - **binlog ** `mysqladmin flush-logs`  binlog `cp`  binlog \n   - **** `tar`  binlog \n   - **** `rsync` \n\n5. ****\n\n6. - **** `find`  7 \n   - **** `ssh`  `find`  3 \n\n## 3. \n\n `cron` \n\n```sh\n#  cron \ncrontab -e\n\n# \n0 2 * * * /path/to/backup_script.sh\n```\n\n`cron` ","slug":"MYSQL","published":1,"updated":"2024-11-10T14:52:12.384Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cm3cx7o5w000wkmmjhepyc5zm","content":"<h1 id=\"MYSQL-\"><a href=\"#MYSQL-\" class=\"headerlink\" title=\"MYSQL \"></a>MYSQL </h1><h2 id=\"1-\"><a href=\"#1-\" class=\"headerlink\" title=\"1. \"></a>1. </h2><ol>\n<li><strong>2binlog,</strong></li>\n<li><strong>73</strong></li>\n</ol>\n<h2 id=\"2-\"><a href=\"#2-\" class=\"headerlink\" title=\"2. \"></a>2. </h2><p>:one: <br>:two: binlog <br>:three: <br>:four: </p>\n<p></p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token shebang important\">#!/bin/bash</span>\n\n<span class=\"token comment\"># </span>\n<span class=\"token assign-left variable\">BACKUP_DIR</span><span class=\"token operator\">=</span><span class=\"token string\">\"/path/to/backup\"</span>               <span class=\"token comment\"># </span>\n<span class=\"token assign-left variable\">BINLOG_DIR</span><span class=\"token operator\">=</span><span class=\"token string\">\"/path/to/binlog_backup\"</span>        <span class=\"token comment\">#  binlog </span>\n<span class=\"token assign-left variable\">REMOTE_SERVER</span><span class=\"token operator\">=</span><span class=\"token string\">\"user@remote_server:/remote/backup/directory\"</span>  <span class=\"token comment\"># ssh</span>\n<span class=\"token assign-left variable\">MYSQL_USER</span><span class=\"token operator\">=</span><span class=\"token string\">\"your_mysql_user\"</span>               <span class=\"token comment\"># MySQL </span>\n<span class=\"token assign-left variable\">MYSQL_PASSWORD</span><span class=\"token operator\">=</span><span class=\"token string\">\"your_mysql_password\"</span>       <span class=\"token comment\"># MySQL </span>\n<span class=\"token assign-left variable\">MYSQL_HOST</span><span class=\"token operator\">=</span><span class=\"token string\">\"localhost\"</span>                     <span class=\"token comment\"># MySQL </span>\n<span class=\"token assign-left variable\">MYSQL_PORT</span><span class=\"token operator\">=</span><span class=\"token string\">\"3306\"</span>                          <span class=\"token comment\"># MySQL </span>\n<span class=\"token assign-left variable\">DATE</span><span class=\"token operator\">=</span><span class=\"token variable\"><span class=\"token variable\">$(</span><span class=\"token function\">date</span> +<span class=\"token string\">\"%Y%m%d%H%M\"</span><span class=\"token variable\">)</span></span>                 <span class=\"token comment\"># </span>\n\n<span class=\"token comment\"># </span>\n<span class=\"token function\">mkdir</span> <span class=\"token parameter variable\">-p</span> <span class=\"token variable\">$BACKUP_DIR</span>/<span class=\"token variable\">$DATE</span>\n<span class=\"token function\">mkdir</span> <span class=\"token parameter variable\">-p</span> <span class=\"token variable\">$BINLOG_DIR</span>/<span class=\"token variable\">$DATE</span>\n\n<span class=\"token comment\"># </span>\n<span class=\"token builtin class-name\">echo</span> <span class=\"token string\">\"Starting full backup...\"</span>\nmysqldump <span class=\"token parameter variable\">-u</span> <span class=\"token variable\">$MYSQL_USER</span> -p<span class=\"token variable\">$MYSQL_PASSWORD</span> <span class=\"token parameter variable\">-h</span> <span class=\"token variable\">$MYSQL_HOST</span> <span class=\"token parameter variable\">-P</span> <span class=\"token variable\">$MYSQL_PORT</span> --all-databases <span class=\"token operator\">></span> <span class=\"token variable\">$BACKUP_DIR</span>/<span class=\"token variable\">$DATE</span>/full_backup.sql\n<span class=\"token keyword\">if</span> <span class=\"token punctuation\">[</span> <span class=\"token variable\">$?</span> <span class=\"token parameter variable\">-eq</span> <span class=\"token number\">0</span> <span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span> <span class=\"token keyword\">then</span>\n  <span class=\"token builtin class-name\">echo</span> <span class=\"token string\">\"Full backup successful!\"</span>\n<span class=\"token keyword\">else</span>\n  <span class=\"token builtin class-name\">echo</span> <span class=\"token string\">\"Full backup failed!\"</span>\n  <span class=\"token builtin class-name\">exit</span> <span class=\"token number\">1</span>\n<span class=\"token keyword\">fi</span>\n\n<span class=\"token comment\"># binlog </span>\n<span class=\"token builtin class-name\">echo</span> <span class=\"token string\">\"Starting binlog backup...\"</span>\nmysqladmin <span class=\"token parameter variable\">-u</span> <span class=\"token variable\">$MYSQL_USER</span> -p<span class=\"token variable\">$MYSQL_PASSWORD</span> flush-logs\n<span class=\"token function\">cp</span> /data/mysql/binlog/mysql-bin.* <span class=\"token variable\">$BINLOG_DIR</span>/<span class=\"token variable\">$DATE</span>     <span class=\"token comment\">#binlog</span>\n<span class=\"token keyword\">if</span> <span class=\"token punctuation\">[</span> <span class=\"token variable\">$?</span> <span class=\"token parameter variable\">-eq</span> <span class=\"token number\">0</span> <span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span> <span class=\"token keyword\">then</span>\n  <span class=\"token builtin class-name\">echo</span> <span class=\"token string\">\"Binlog backup successful!\"</span>\n<span class=\"token keyword\">else</span>\n  <span class=\"token builtin class-name\">echo</span> <span class=\"token string\">\"Binlog backup failed!\"</span>\n  <span class=\"token builtin class-name\">exit</span> <span class=\"token number\">1</span>\n<span class=\"token keyword\">fi</span>\n\n<span class=\"token comment\"># </span>\n<span class=\"token builtin class-name\">echo</span> <span class=\"token string\">\"Compressing backup files...\"</span>\n<span class=\"token function\">tar</span> <span class=\"token parameter variable\">-czf</span> <span class=\"token variable\">$BACKUP_DIR</span>/<span class=\"token variable\">$DATE</span>/full_backup.tar.gz <span class=\"token parameter variable\">-C</span> <span class=\"token variable\">$BACKUP_DIR</span>/<span class=\"token variable\">$DATE</span> full_backup.sql\n<span class=\"token function\">tar</span> <span class=\"token parameter variable\">-czf</span> <span class=\"token variable\">$BINLOG_DIR</span>/<span class=\"token variable\">$DATE</span>/binlog_backup.tar.gz <span class=\"token parameter variable\">-C</span> <span class=\"token variable\">$BINLOG_DIR</span>/<span class=\"token variable\">$DATE</span> <span class=\"token builtin class-name\">.</span>\n<span class=\"token keyword\">if</span> <span class=\"token punctuation\">[</span> <span class=\"token variable\">$?</span> <span class=\"token parameter variable\">-eq</span> <span class=\"token number\">0</span> <span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span> <span class=\"token keyword\">then</span>\n  <span class=\"token builtin class-name\">echo</span> <span class=\"token string\">\"Compression successful!\"</span>\n<span class=\"token keyword\">else</span>\n  <span class=\"token builtin class-name\">echo</span> <span class=\"token string\">\"Compression failed!\"</span>\n  <span class=\"token builtin class-name\">exit</span> <span class=\"token number\">1</span>\n<span class=\"token keyword\">fi</span>\n\n<span class=\"token comment\"># </span>\n<span class=\"token builtin class-name\">echo</span> <span class=\"token string\">\"Syncing backups to remote server...\"</span>\n<span class=\"token function\">rsync</span> <span class=\"token parameter variable\">-avz</span> <span class=\"token variable\">$BACKUP_DIR</span>/<span class=\"token variable\">$DATE</span>/full_backup.tar.gz <span class=\"token variable\">$REMOTE_SERVER</span>\n<span class=\"token function\">rsync</span> <span class=\"token parameter variable\">-avz</span> <span class=\"token variable\">$BINLOG_DIR</span>/<span class=\"token variable\">$DATE</span>/binlog_backup.tar.gz <span class=\"token variable\">$REMOTE_SERVER</span>\n<span class=\"token keyword\">if</span> <span class=\"token punctuation\">[</span> <span class=\"token variable\">$?</span> <span class=\"token parameter variable\">-eq</span> <span class=\"token number\">0</span> <span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span> <span class=\"token keyword\">then</span>\n  <span class=\"token builtin class-name\">echo</span> <span class=\"token string\">\"Backup sync successful!\"</span>\n<span class=\"token keyword\">else</span>\n  <span class=\"token builtin class-name\">echo</span> <span class=\"token string\">\"Backup sync failed!\"</span>\n  <span class=\"token builtin class-name\">exit</span> <span class=\"token number\">1</span>\n<span class=\"token keyword\">fi</span>\n\n<span class=\"token comment\">#  7 </span>\n<span class=\"token builtin class-name\">echo</span> <span class=\"token string\">\"Cleaning up local backups older than 7 days...\"</span>\n<span class=\"token function\">find</span> <span class=\"token variable\">$BACKUP_DIR</span> <span class=\"token parameter variable\">-type</span> d <span class=\"token parameter variable\">-mtime</span> +7 <span class=\"token parameter variable\">-exec</span> <span class=\"token function\">rm</span> <span class=\"token parameter variable\">-rf</span> <span class=\"token punctuation\">&#123;</span><span class=\"token punctuation\">&#125;</span> <span class=\"token punctuation\">\\</span><span class=\"token punctuation\">;</span>\n<span class=\"token function\">find</span> <span class=\"token variable\">$BINLOG_DIR</span> <span class=\"token parameter variable\">-type</span> d <span class=\"token parameter variable\">-mtime</span> +7 <span class=\"token parameter variable\">-exec</span> <span class=\"token function\">rm</span> <span class=\"token parameter variable\">-rf</span> <span class=\"token punctuation\">&#123;</span><span class=\"token punctuation\">&#125;</span> <span class=\"token punctuation\">\\</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">#  3 </span>\n<span class=\"token builtin class-name\">echo</span> <span class=\"token string\">\"Cleaning up remote backups older than 3 months...\"</span>\n<span class=\"token function\">ssh</span> user@remote_server <span class=\"token string\">\"find /remote/backup/directory -type f -mtime +90 -exec rm -f &#123;&#125; \\;\"</span>\n\n<span class=\"token builtin class-name\">echo</span> <span class=\"token string\">\"All backup tasks completed successfully!\"</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<blockquote>\n<p></p>\n</blockquote>\n<ol>\n<li><p><strong></strong></p>\n</li>\n<li><ul>\n<li><code>BACKUP_DIR</code></li>\n<li><code>BINLOG_DIR</code> binlog </li>\n<li><code>REMOTE_SERVER</code></li>\n<li><code>MYSQL_USER</code> MySQL </li>\n<li><code>MYSQL_PASSWORD</code> MySQL </li>\n<li><code>MYSQL_HOST</code> MySQL </li>\n<li><code>MYSQL_PORT</code> MySQL </li>\n<li><code>DATE</code></li>\n</ul>\n</li>\n<li><p><strong></strong></p>\n</li>\n<li><ul>\n<li><strong></strong> <code>mkdir</code>  binlog </li>\n<li><strong></strong> <code>mysqldump</code> </li>\n<li><strong>binlog </strong> <code>mysqladmin flush-logs</code>  binlog <code>cp</code>  binlog </li>\n<li><strong></strong> <code>tar</code>  binlog </li>\n<li><strong></strong> <code>rsync</code> </li>\n</ul>\n</li>\n<li><p><strong></strong></p>\n</li>\n<li><ul>\n<li><strong></strong> <code>find</code>  7 </li>\n<li><strong></strong> <code>ssh</code>  <code>find</code>  3 </li>\n</ul>\n</li>\n</ol>\n<h2 id=\"3-\"><a href=\"#3-\" class=\"headerlink\" title=\"3. \"></a>3. </h2><p> <code>cron</code> </p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token comment\">#  cron </span>\n<span class=\"token function\">crontab</span> <span class=\"token parameter variable\">-e</span>\n\n<span class=\"token comment\"># </span>\n<span class=\"token number\">0</span> <span class=\"token number\">2</span> * * * /path/to/backup_script.sh<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p><code>cron</code> </p>\n","site":{"data":{"friends":[{"avatar":"https://cdn.jsdelivr.net/gh/wylblog/cdn@master/static/image/sidebar/avatar_wyl.jpg","name":"","introduction":"","url":"https://wylblog.github.io","title":"Read More"},{"avatar":"https://img.picui.cn/free/2024/11/10/67304c2431937.jpg","name":"","introduction":".","url":"https://almost181209.github.io/","title":"Read More"}]}},"excerpt":"","more":"<h1 id=\"MYSQL-\"><a href=\"#MYSQL-\" class=\"headerlink\" title=\"MYSQL \"></a>MYSQL </h1><h2 id=\"1-\"><a href=\"#1-\" class=\"headerlink\" title=\"1. \"></a>1. </h2><ol>\n<li><strong>2binlog,</strong></li>\n<li><strong>73</strong></li>\n</ol>\n<h2 id=\"2-\"><a href=\"#2-\" class=\"headerlink\" title=\"2. \"></a>2. </h2><p>:one: <br>:two: binlog <br>:three: <br>:four: </p>\n<p></p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token shebang important\">#!/bin/bash</span>\n\n<span class=\"token comment\"># </span>\n<span class=\"token assign-left variable\">BACKUP_DIR</span><span class=\"token operator\">=</span><span class=\"token string\">\"/path/to/backup\"</span>               <span class=\"token comment\"># </span>\n<span class=\"token assign-left variable\">BINLOG_DIR</span><span class=\"token operator\">=</span><span class=\"token string\">\"/path/to/binlog_backup\"</span>        <span class=\"token comment\">#  binlog </span>\n<span class=\"token assign-left variable\">REMOTE_SERVER</span><span class=\"token operator\">=</span><span class=\"token string\">\"user@remote_server:/remote/backup/directory\"</span>  <span class=\"token comment\"># ssh</span>\n<span class=\"token assign-left variable\">MYSQL_USER</span><span class=\"token operator\">=</span><span class=\"token string\">\"your_mysql_user\"</span>               <span class=\"token comment\"># MySQL </span>\n<span class=\"token assign-left variable\">MYSQL_PASSWORD</span><span class=\"token operator\">=</span><span class=\"token string\">\"your_mysql_password\"</span>       <span class=\"token comment\"># MySQL </span>\n<span class=\"token assign-left variable\">MYSQL_HOST</span><span class=\"token operator\">=</span><span class=\"token string\">\"localhost\"</span>                     <span class=\"token comment\"># MySQL </span>\n<span class=\"token assign-left variable\">MYSQL_PORT</span><span class=\"token operator\">=</span><span class=\"token string\">\"3306\"</span>                          <span class=\"token comment\"># MySQL </span>\n<span class=\"token assign-left variable\">DATE</span><span class=\"token operator\">=</span><span class=\"token variable\"><span class=\"token variable\">$(</span><span class=\"token function\">date</span> +<span class=\"token string\">\"%Y%m%d%H%M\"</span><span class=\"token variable\">)</span></span>                 <span class=\"token comment\"># </span>\n\n<span class=\"token comment\"># </span>\n<span class=\"token function\">mkdir</span> <span class=\"token parameter variable\">-p</span> <span class=\"token variable\">$BACKUP_DIR</span>/<span class=\"token variable\">$DATE</span>\n<span class=\"token function\">mkdir</span> <span class=\"token parameter variable\">-p</span> <span class=\"token variable\">$BINLOG_DIR</span>/<span class=\"token variable\">$DATE</span>\n\n<span class=\"token comment\"># </span>\n<span class=\"token builtin class-name\">echo</span> <span class=\"token string\">\"Starting full backup...\"</span>\nmysqldump <span class=\"token parameter variable\">-u</span> <span class=\"token variable\">$MYSQL_USER</span> -p<span class=\"token variable\">$MYSQL_PASSWORD</span> <span class=\"token parameter variable\">-h</span> <span class=\"token variable\">$MYSQL_HOST</span> <span class=\"token parameter variable\">-P</span> <span class=\"token variable\">$MYSQL_PORT</span> --all-databases <span class=\"token operator\">></span> <span class=\"token variable\">$BACKUP_DIR</span>/<span class=\"token variable\">$DATE</span>/full_backup.sql\n<span class=\"token keyword\">if</span> <span class=\"token punctuation\">[</span> <span class=\"token variable\">$?</span> <span class=\"token parameter variable\">-eq</span> <span class=\"token number\">0</span> <span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span> <span class=\"token keyword\">then</span>\n  <span class=\"token builtin class-name\">echo</span> <span class=\"token string\">\"Full backup successful!\"</span>\n<span class=\"token keyword\">else</span>\n  <span class=\"token builtin class-name\">echo</span> <span class=\"token string\">\"Full backup failed!\"</span>\n  <span class=\"token builtin class-name\">exit</span> <span class=\"token number\">1</span>\n<span class=\"token keyword\">fi</span>\n\n<span class=\"token comment\"># binlog </span>\n<span class=\"token builtin class-name\">echo</span> <span class=\"token string\">\"Starting binlog backup...\"</span>\nmysqladmin <span class=\"token parameter variable\">-u</span> <span class=\"token variable\">$MYSQL_USER</span> -p<span class=\"token variable\">$MYSQL_PASSWORD</span> flush-logs\n<span class=\"token function\">cp</span> /data/mysql/binlog/mysql-bin.* <span class=\"token variable\">$BINLOG_DIR</span>/<span class=\"token variable\">$DATE</span>     <span class=\"token comment\">#binlog</span>\n<span class=\"token keyword\">if</span> <span class=\"token punctuation\">[</span> <span class=\"token variable\">$?</span> <span class=\"token parameter variable\">-eq</span> <span class=\"token number\">0</span> <span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span> <span class=\"token keyword\">then</span>\n  <span class=\"token builtin class-name\">echo</span> <span class=\"token string\">\"Binlog backup successful!\"</span>\n<span class=\"token keyword\">else</span>\n  <span class=\"token builtin class-name\">echo</span> <span class=\"token string\">\"Binlog backup failed!\"</span>\n  <span class=\"token builtin class-name\">exit</span> <span class=\"token number\">1</span>\n<span class=\"token keyword\">fi</span>\n\n<span class=\"token comment\"># </span>\n<span class=\"token builtin class-name\">echo</span> <span class=\"token string\">\"Compressing backup files...\"</span>\n<span class=\"token function\">tar</span> <span class=\"token parameter variable\">-czf</span> <span class=\"token variable\">$BACKUP_DIR</span>/<span class=\"token variable\">$DATE</span>/full_backup.tar.gz <span class=\"token parameter variable\">-C</span> <span class=\"token variable\">$BACKUP_DIR</span>/<span class=\"token variable\">$DATE</span> full_backup.sql\n<span class=\"token function\">tar</span> <span class=\"token parameter variable\">-czf</span> <span class=\"token variable\">$BINLOG_DIR</span>/<span class=\"token variable\">$DATE</span>/binlog_backup.tar.gz <span class=\"token parameter variable\">-C</span> <span class=\"token variable\">$BINLOG_DIR</span>/<span class=\"token variable\">$DATE</span> <span class=\"token builtin class-name\">.</span>\n<span class=\"token keyword\">if</span> <span class=\"token punctuation\">[</span> <span class=\"token variable\">$?</span> <span class=\"token parameter variable\">-eq</span> <span class=\"token number\">0</span> <span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span> <span class=\"token keyword\">then</span>\n  <span class=\"token builtin class-name\">echo</span> <span class=\"token string\">\"Compression successful!\"</span>\n<span class=\"token keyword\">else</span>\n  <span class=\"token builtin class-name\">echo</span> <span class=\"token string\">\"Compression failed!\"</span>\n  <span class=\"token builtin class-name\">exit</span> <span class=\"token number\">1</span>\n<span class=\"token keyword\">fi</span>\n\n<span class=\"token comment\"># </span>\n<span class=\"token builtin class-name\">echo</span> <span class=\"token string\">\"Syncing backups to remote server...\"</span>\n<span class=\"token function\">rsync</span> <span class=\"token parameter variable\">-avz</span> <span class=\"token variable\">$BACKUP_DIR</span>/<span class=\"token variable\">$DATE</span>/full_backup.tar.gz <span class=\"token variable\">$REMOTE_SERVER</span>\n<span class=\"token function\">rsync</span> <span class=\"token parameter variable\">-avz</span> <span class=\"token variable\">$BINLOG_DIR</span>/<span class=\"token variable\">$DATE</span>/binlog_backup.tar.gz <span class=\"token variable\">$REMOTE_SERVER</span>\n<span class=\"token keyword\">if</span> <span class=\"token punctuation\">[</span> <span class=\"token variable\">$?</span> <span class=\"token parameter variable\">-eq</span> <span class=\"token number\">0</span> <span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span> <span class=\"token keyword\">then</span>\n  <span class=\"token builtin class-name\">echo</span> <span class=\"token string\">\"Backup sync successful!\"</span>\n<span class=\"token keyword\">else</span>\n  <span class=\"token builtin class-name\">echo</span> <span class=\"token string\">\"Backup sync failed!\"</span>\n  <span class=\"token builtin class-name\">exit</span> <span class=\"token number\">1</span>\n<span class=\"token keyword\">fi</span>\n\n<span class=\"token comment\">#  7 </span>\n<span class=\"token builtin class-name\">echo</span> <span class=\"token string\">\"Cleaning up local backups older than 7 days...\"</span>\n<span class=\"token function\">find</span> <span class=\"token variable\">$BACKUP_DIR</span> <span class=\"token parameter variable\">-type</span> d <span class=\"token parameter variable\">-mtime</span> +7 <span class=\"token parameter variable\">-exec</span> <span class=\"token function\">rm</span> <span class=\"token parameter variable\">-rf</span> <span class=\"token punctuation\">&#123;</span><span class=\"token punctuation\">&#125;</span> <span class=\"token punctuation\">\\</span><span class=\"token punctuation\">;</span>\n<span class=\"token function\">find</span> <span class=\"token variable\">$BINLOG_DIR</span> <span class=\"token parameter variable\">-type</span> d <span class=\"token parameter variable\">-mtime</span> +7 <span class=\"token parameter variable\">-exec</span> <span class=\"token function\">rm</span> <span class=\"token parameter variable\">-rf</span> <span class=\"token punctuation\">&#123;</span><span class=\"token punctuation\">&#125;</span> <span class=\"token punctuation\">\\</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">#  3 </span>\n<span class=\"token builtin class-name\">echo</span> <span class=\"token string\">\"Cleaning up remote backups older than 3 months...\"</span>\n<span class=\"token function\">ssh</span> user@remote_server <span class=\"token string\">\"find /remote/backup/directory -type f -mtime +90 -exec rm -f &#123;&#125; \\;\"</span>\n\n<span class=\"token builtin class-name\">echo</span> <span class=\"token string\">\"All backup tasks completed successfully!\"</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<blockquote>\n<p></p>\n</blockquote>\n<ol>\n<li><p><strong></strong></p>\n</li>\n<li><ul>\n<li><code>BACKUP_DIR</code></li>\n<li><code>BINLOG_DIR</code> binlog </li>\n<li><code>REMOTE_SERVER</code></li>\n<li><code>MYSQL_USER</code> MySQL </li>\n<li><code>MYSQL_PASSWORD</code> MySQL </li>\n<li><code>MYSQL_HOST</code> MySQL </li>\n<li><code>MYSQL_PORT</code> MySQL </li>\n<li><code>DATE</code></li>\n</ul>\n</li>\n<li><p><strong></strong></p>\n</li>\n<li><ul>\n<li><strong></strong> <code>mkdir</code>  binlog </li>\n<li><strong></strong> <code>mysqldump</code> </li>\n<li><strong>binlog </strong> <code>mysqladmin flush-logs</code>  binlog <code>cp</code>  binlog </li>\n<li><strong></strong> <code>tar</code>  binlog </li>\n<li><strong></strong> <code>rsync</code> </li>\n</ul>\n</li>\n<li><p><strong></strong></p>\n</li>\n<li><ul>\n<li><strong></strong> <code>find</code>  7 </li>\n<li><strong></strong> <code>ssh</code>  <code>find</code>  3 </li>\n</ul>\n</li>\n</ol>\n<h2 id=\"3-\"><a href=\"#3-\" class=\"headerlink\" title=\"3. \"></a>3. </h2><p> <code>cron</code> </p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token comment\">#  cron </span>\n<span class=\"token function\">crontab</span> <span class=\"token parameter variable\">-e</span>\n\n<span class=\"token comment\"># </span>\n<span class=\"token number\">0</span> <span class=\"token number\">2</span> * * * /path/to/backup_script.sh<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p><code>cron</code> </p>\n"},{"title":"Ubuntu(18.04)+Docker+centos7","date":"2024-11-10T14:48:05.000Z","_content":"## 1.ubuntu \n\n`ubuntu 18.04`\n\nUbunturootUbunturoot\n\n### 1.1root\n\n1.Ubuntu\nUbuntu\n\n2.sudo passwd root\n\n```shell\nsudo passwd root\n```\n\n![image-20230320172400074](https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202309241324207.png)\n\n\n\n**su -** \n\n### 1.2 \n\ndocker\n\n``` shell\nsudo apt install vim \nsudo cp /etc/apt/sources.list /etc/apt/sources.list.bak\t\t\nsudo vi /etc/apt/sources.list    #\n```\n\n\n\n[ubuntu |  |  | Tsinghua Open Source Mirror](https://mirrors.tuna.tsinghua.edu.cn/help/ubuntu/)\n\n```shell\n#  apt update \ndeb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic main restricted universe multiverse\n# deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic main restricted universe multiverse\ndeb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic-updates main restricted universe multiverse\n# deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic-updates main restricted universe multiverse\ndeb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic-backports main restricted universe multiverse\n# deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic-backports main restricted universe multiverse\n\n# deb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic-security main restricted universe multiverse\n# # deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic-security main restricted universe multiverse\n\ndeb http://security.ubuntu.com/ubuntu/ bionic-security main restricted universe multiverse\n# deb-src http://security.ubuntu.com/ubuntu/ bionic-security main restricted universe multiverse\n\n# \n# deb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic-proposed main restricted universe multiverse\n# # deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic-proposed main restricted universe multiverse\n```\n\n```shell\n#\nsudo apt update\n```\n\n### 1.3 ssh\n\nxshell\n\n```shell\nsudo apt install openssh-server -y\n```\n\nwindows Ubuntu \n\n```shell\nsudo apt-get autoremove open-vm-tools -y\t//\nsudo apt-get install open-vm-tools -y\t\t//open-vm-tools\nsudo apt-get install open-vm-tools-desktop -y //open-vm-tools-desktop\n```\n\nubuntuasbru-cm\n\nAsbru-CMWeb\n\n```shell\nsudo apt install curl -y\n\ncurl -s https://packagecloud.io/install/repositories/asbru-cm/asbru-cm/script.deb.sh | sudo bash\n\nsudo apt install asbru-cm -y\n```\n\n\n\n## 2. Docker\n\n,docker,docker\n\n[Ubuntu18.04Docker_ubuntu-CSDN](https://blog.csdn.net/single_0910/article/details/120562065)\n\n### 2.1 dockerdocker\n\n```shell\nsudo apt-get remove docker docker-engine docker.io containerd runc\n```\n\n### 2.2 \n\n#### 2.2.1 \n\n```shell\nsudo apt-get update\n```\n\n#### 2.2.2 \n\n```shell\nsudo apt-get install apt-transport-https ca-certificates curl gnupg lsb-release -y\n```\n\n#### 2.2.3 dockerGPG key\n\ngpgkey \n\n```shell\nsudo curl -fsSL http://mirrors.aliyun.com/docker-ce/linux/ubuntu/gpg | sudo gpg --dearmor -o /usr/share/keyrings/docker-archive-keyring.gpg\n```\n\n2.2.4 \n\n```shell\nsudo echo \"deb [arch=amd64 signed-by=/usr/share/keyrings/docker-archive-keyring.gpg] http://mirrors.aliyun.com/docker-ce/linux/ubuntu/gpg$(lsb_release -cs) stable\" | sudo tee /etc/apt/sources.list.d/docker.list > /dev/null\n```\n\n### 2.3 docker\n\n#### 2.3.1 \n\n```shell\nsudo apt-get update\n```\n\n#### 2.3.2 docker-ce\n\n```shell\nsudo apt-get install docker-ce docker-ce-cli containerd.io -y\n```\n\n### 2.4 docker\n\ndocker\n\n```shell\nps aux|grep docker\n```\n\n![image-20230812180124831](https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202309241324877.png)\n\n\n\n## 3. Docker \n\n### 3.1 \n\n```shell\nsudo service docker start  # Docker\nsudo service docker stop  # Docker\nsudo service docker restart  # Docker\nsudo service docker status  # Docker\n```\n\n```shell\n#docker\ndocker ps    #\ndocker ps -a    #\ndocker rm -f $(docker ps -aq)  #\ndocker images  #docker\n```\n\n```shell\n#,\ndocker load < /home/hj//bigdata.tar\ndocker load -i < /home/hj//bigdata.tar\n#,\ndocker import \n\n#\ndocker rmi ID\n\n#\ndocker rm -f $(docker ps -aq)\ndocker rm \n\n#\ndocker start id\n\n#\ndocker exec -it id /bin/bash\n\n#\nsudo docker commit -a \"\" -m \"\"  :\n\ndocker \ndocker cp /home/hj/clickhouse-21.9.4.35tgz master:/opt/\n\n\ndocker cp master:/opt/ /home/hj\n```\n\n### 3.2 Docker \n\n#### 3.2.1 \n\n```shell\ndocker images\n```\n\n![image-20230812180956921](https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202309241324626.png)\n\n|        |                                  |\n| ---------- | ------------------------------------ |\n| REPOSITORY |                    |\n| TAG        | ()                       |\n| IMAGEID    | ID                               |\n| CREATED    | () |\n| SIZE       |                              |\n\n#### 3.2.2 \n\n```shell\ndocker search \n```\n\n#### 3.2.3 \n\npull\n\n latest \n\n```shell\ndocker pull /\n```\n\n#### 3.2.4 \n\n\n\n```shell\n#\ndocker rmi ID\n#\ndocker rmi -f ID\n```\n\n#### 3.2.5 \n\n```shell\n#1\ndocker load < \n#2\nsudo docker load -i \n```\n\n#### 3.2.6 \n\n```shell\ndocker save o /opt/.tar :\n```\n\n### 3.3 Docker\n\n#### 3.3.1 \n\n```shell\ndocker run [option] :tag []\n```\n\n \n\n|      |                                                          |\n| -------- | ------------------------------------------------------------ |\n| -i       |                                      |\n| -t       |  |\n| name    |                                              |\n| -v       | ( :)-v :  |\n| -d       | run-d,( -i -t ) |\n| -p       | -p  |\n| -e       |                                            |\n| network |                                                      |\n\n#### 3.3.2 \n\n```shell\ndocker exec -it ID /bin/bash\n```\n\n#### 3.3.3 \n\n```shell\ndocker ps     #\ndocker ps a    #\n```\n\n#### 3.3.4 \n\n```shell\ndocker start ID\n```\n\n#### 3.3.5 \n\n```shell\ndocker stop ID\n```\n\n#### 3.3.6    \n\n\n\n```shell\ndocker rm ID \n```\n\n#### 3.3.7 \n\n```shell\ndocker commit [OPTIONS] CONTAINER [REPOSITORY]:[TAG]\n```\n\nOPTIONS\n\n-a :\n\n-c :Dockerfile\n\n-m :\n\n-p :commit\n\n$ docker commit  :tag\n\n### 3.4 docker\n\n#### 3.4.1 Docker\n\n`Docker3bridgehostnone`\n\nDockerdocker0172.17.0.1/16docker0ip\n\n| bridge                                         |\n| :----------------------------------------------------------- |\n| 1IPdocker0 |\n| 2IP |\n| 3                        |\n| 4docker                |\n\n| host                                      |\n| :---------------------------------------------------------- |\n| 1dockerip |\n| 2docker               |\n| 3                                     |\n\n| overlay                                |\n| :--------------------------------------------------- |\n| ip                       |\n| docker                 |\n|              |\n|  windows |\n\n``\n\n```shell\ndocker network ls            #\ndocker network inspect    #\n\n#default bridge   \n\ndocker network create --driver bridge --subnet 192.168.1.1/24 --gateway 192.168.1.1 mynet #mynet\n\ndocker network rm id  #\n```\n\n## 4.DockerCentos7\n\n### 4.1 Dockerfile\n\nPullcentos7sshjdkhadoophadoop\n\n> :\n>\n> ```\n> registry.cn-hangzhou.aliyuncs.com/shangguan-hj/bigdata:gxjzy\n> ```\n>\n> \n>\n> ```\n> docker pull registry.cn-hangzhou.aliyuncs.com/510_repo/bigdata:gxjzy\n> ```\n\n#### 4.1.2 dockerfile\n\n```shell\n# os  \nFROM centos:7\n# openssh-serversudo  \nRUN yum install -y --nogpgcheck openssh-server sudo\n#openssh-clients\nRUN yum install -y --nogpgcheck openssh-clients\n# sshrootssh\nRUN sed -i 's/ GSSAPIAuthentication yes /#GSSAPIAuthentication yes/g' /etc/ssh/sshd_config\nRUN sed -i 's/ GSSAPICleanupCredentials no /#GSSAPICleanupCredentials no/g' /etc/ssh/sshd_config\n\n#initscripts ip addr \nRUN yum install -y --nogpgcheck initscripts\n\n# \nRUN yum install firewalld -y\n\n#which  hadoop  \nRUN yum install which -y\n\n#mysql  libnuma.so.1 \nRUN yum install numactl -y\nRUN yum install libaio -y\nRUN yum install libnuma.so.1 -y\n\n\n# root123sudoers  \nRUN echo \"root:123\" | chpasswd\nRUN echo \"root   ALL=(ALL)       ALL\" >> /etc/sudoers\n\n# sshd22  \nRUN mkdir /var/run/sshd\nEXPOSE 22\nCMD [\"/usr/sbin/sshd\", \"-D\"]\nRUN mkdir /opt/{software,module}\n#docker build -t\"centos-ssh-root\" . \n```\n\nbuild\n\ndocker build -t . \n\n```shell\ndocker build -t\"centos-ssh-root\" .\n```\n\n![image-20230812190933232](https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202309241324924.png)\n\n\n\n ![image-20230812191126430](https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202309241324183.png)\n\n#### 4.1.3 Dockerfile\n\nssh22root\n\n```shell\n#\nFROM centos-ssh-root\nCOPY apache-flume-1.9.0-bin.tar.gz /opt/software/\nCOPY apache-hive-3.1.2-bin.tar.gz /opt/software/\nCOPY flink-1.14.0-bin-scala_2.12.tgz /opt/software/\nCOPY hadoop-3.1.3.tar.gz /opt/software/\nCOPY hbase-2.2.3-bin.tar.gz /opt/software/\nCOPY jdk-8u162-linux-x64.tar.gz /opt/software/\nCOPY kafka_2.12-2.4.1.tgz /opt/software/\nCOPY maxwell-1.29.0.tar.gz /opt/software/\nCOPY redis-6.2.6.tar.gz /opt/software/\nCOPY scala-2.12.0.tgz /opt/software/\nCOPY spark-3.1.1-bin-hadoop3.2.tgz /opt/software/\nCOPY clickhouse-21.9.4.35 /opt/software/\nCOPY mysql /opt/software/\nCOPY zookeeper-3.4.6.tar.gz /opt/software/\nCOPY sqoop-1.4.2.bin__hadoop-2.0.0-alpha.tar.gz /opt/software/\n\n#docker build -t\"bigdata\" . \n```\n\nbuild\n\ndocker build -t . \n\n```shell\ndocker build -t\"bigdata\" .\n```\n\n![image-20230812191358805](https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202309241324473.png)\n\n\n\n![image-20230812192151801](https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202309241324220.png)\n\n\n\n#### 4.1.4 :star:\n\n> dockerfile\n\n```sh\nFROM centos:7\nRUN yum install -y --nogpgcheck openssh-server sudo && \\\n    yum install -y --nogpgcheck openssh-clients && \\\n    sed -i 's/ GSSAPIAuthentication yes /#GSSAPIAuthentication yes/g' /etc/ssh/sshd_config && \\\n    sed -i 's/ GSSAPICleanupCredentials no /#GSSAPICleanupCredentials no/g' /etc/ssh/sshd_config && \\\n    yum install -y --nogpgcheck initscripts && \\\n    yum install which -y && \\\n    yum install numactl libaio libnuma.so.1 -y && \\\n    echo \"root:1\" | chpasswd && \\\n    echo \"root   ALL=(ALL)       ALL\" >> /etc/sudoers && \\\n    mkdir /var/run/sshd && \\\n    mkdir /opt/{software,module} \nCOPY . /opt/software \nEXPOSE 22\nCMD [\"/usr/sbin/sshd\", \"-D\"]\n```\n\n> \n\n```sh\n[root@docker-server ~/bigdata]# docker build -t bigdata .\n```\n\n> \n\n```sh\n[root@docker-server ~/bigdata]# docker images | grep bigdata\nbigdata                                                  latest    78d3e81ed5ac   4 hours ago   5.57GB\n```\n\n\n\n### 4.2 Hadoop\n\n****\n\n\n\n> master:\n\n:\n\n```shell\ndocker run -id --name master --hostname master --net mynet --privileged=true -v /sys/fs/cgroup:/sys/fs/cgroup -P -p 50070:50070 -p 8088:8088 bigdata /usr/sbin/init\n```\n\n:star: :\n\ndocker:\n\n(IP`192.168.1.0/24`)\n\n```sh\nsudo docker network create --subnet=192.168.1.0/24 mynet\n```\n\nmaster,ip192.168.1.10:\n\n```sh\nsudo docker run -d --privileged --name master --hostname master --network mynet --ip 192.168.1.10 \\\n  -p 16010:16010 -p 2181:2181 -p 3306:3306 -p 6379:6379 -p 8031:8031 -p 8032:8032 \\\n  -p 8033:8033 -p 8080:8080 -p 8081:8081 -p 8020:8020 -p 8088:8088 -p 8123:8123 \\\n  -p 9000:9000 -p 9083:9083 -p 9092:9092 -p 9866:9866 -p 9870:9870 -p 10000:10000 \\\n  -p 60010:60010 -p 12321:12321 -p 4040:4040 \\\n  -v /sys/fs/cgroup:/sys/fs/cgroup \\\n  bigdata:gxjzy /usr/sbin/init\n```\n\n\n\n> slave1:\n\n\n\n:\n\n```shell\ndocker run -id --name slave1 --hostname slave1 --net mynet --privileged=true -P bigdata /usr/sbin/init\n```\n\n:star: :\n\nmaster,ip192.168.1.10:\n\n```sh\nsudo docker run -d --privileged --name slave1 --hostname slave1 --network mynet --ip 192.168.1.20 \\\n  -v /sys/fs/cgroup:/sys/fs/cgroup \\\n  bigdata:gxjzy /usr/sbin/init\n```\n\n\n\n\n\n> slave2:\n\n\n\n:\n\n```shell\ndocker run -id --name slave2 --hostname slave2 --net mynet --privileged=true -P bigdata /usr/sbin/init\n```\n\n:star: :\n\n```sh\nsudo docker run -d --privileged --name slave2 --hostname slave2 --network mynet --ip 192.168.1.30 \\\n  -v /sys/fs/cgroup:/sys/fs/cgroup \\\n  bigdata:gxjzy /usr/sbin/init\n```\n\n\n\n```sh\ndocker ps\n```\n\n![image-20240108011713901](https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202401080117475.png)\n\n\n\niptables()\n\n```shell\niptables -t nat -vnL  #\n\niptables -t nat -A DOCKER -p tcp --dport 8089 -j DNAT --to-destination 192.168.12.10:8088  #\n\niptables -t nat -vnL DOCKER --line-number #\n\niptables -t nat -D DOCKER {}  #\n```\n\n\n\n```shell\ndocker exec -it master bash\n```\n\n## 5. docker-compose\n\n> docker-compose()\n\n\n\n### 5.1 docker-compose.yml\n\nip:\n\n|    | ip           |\n| ------ | ------------ |\n| master | 192.168.1.10 |\n| slave1 | 192.168.1.20 |\n| slave2 | 192.168.1.30 |\n\n\n\n```sh\n[root@docker-server ~/bigdata-work]# vim docker-compose.yml \n```\n\n```yml\nversion: \"2.2\"\nservices:\n  master:\n    restart: always\n    image: registry.cn-hangzhou.aliyuncs.com/shangguan-hj/bigdata:gxjzy\n    container_name: master\n    hostname: master\n    networks:\n      mynet:\n        ipv4_address: \"192.168.1.10\"\n    privileged: true\n    ports:\n      - 1022:22\n      - 50070:50070\n      - 8088:8088\n    volumes:\n      - /sys/fs/cgroup:/sys/fs/cgroup\n    command: /usr/sbin/init\n\n  slave1:\n    restart: always\n    image: registry.cn-hangzhou.aliyuncs.com/shangguan-hj/bigdata:gxjzy\n    container_name: slave1\n    hostname: slave1\n    networks:\n      mynet:\n        ipv4_address: \"192.168.1.20\"\n    privileged: true\n    ports:\n      - 1023:22\n    volumes:\n      - /sys/fs/cgroup:/sys/fs/cgroup\n    command: /usr/sbin/init\n    \n  slave2:\n    restart: always\n    image: registry.cn-hangzhou.aliyuncs.com/shangguan-hj/bigdata:gxjzy\n    container_name: slave2\n    hostname: slave2\n    networks:\n      mynet:\n        ipv4_address: \"192.168.1.30\"\n    privileged: true\n    ports:\n      - 1024:22\n    volumes:\n      - /sys/fs/cgroup:/sys/fs/cgroup\n    command: /usr/sbin/init\n\n# \nnetworks:\n  mynet:\n    ipam:\n      config:\n      - subnet: 192.168.1.0/24\n```\n\n### 5.2 docker\n\n```sh\n[root@docker-server ~/bigdata-work]# docker-compose up -d\n```\n\n![image-20231211150006708](https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202312111500849.png)\n\n### 5.3 \n\n#### 5.3.1 ():\n\n```sh\n[root@docker-server ~/bigdata-work]# docker-compose ps\n```\n\n![image-20231211150148532](https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202312111501626.png)\n\n#### 5.3.2 :\n\n```sh\n[root@docker-server ~/bigdata-work]# docker ps\n```\n\n![image-20231211150204022](https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202312111502108.png)\n\n\n\n### 5.4 \n\n**master:**\n\n```sh\n[root@docker-server ~/bigdata-work]# docker exec -it master bash\n[root@master /]# ip a\n1: lo: <LOOPBACK,UP,LOWER_UP> mtu 65536 qdisc noqueue state UNKNOWN group default qlen 1000\n    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00\n    inet 127.0.0.1/8 scope host lo\n       valid_lft forever preferred_lft forever\n96: eth0@if97: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1500 qdisc noqueue state UP group default \n    link/ether 02:42:c0:a8:01:02 brd ff:ff:ff:ff:ff:ff link-netnsid 0\n    inet 192.168.1.2/24 brd 192.168.1.255 scope global eth0\n       valid_lft forever preferred_lft forever\n[root@master /]# \n```\n\n**slave1:**\n\n```sh\n[root@docker-server ~/bigdata-work]# docker exec -it slave1 bash\n[root@slave1 /]# ip a\n1: lo: <LOOPBACK,UP,LOWER_UP> mtu 65536 qdisc noqueue state UNKNOWN group default qlen 1000\n    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00\n    inet 127.0.0.1/8 scope host lo\n       valid_lft forever preferred_lft forever\n34: eth0@if35: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1500 qdisc noqueue state UP group default \n    link/ether 02:42:c0:a8:01:04 brd ff:ff:ff:ff:ff:ff link-netnsid 0\n    inet 192.168.1.4/24 brd 192.168.1.255 scope global eth0\n       valid_lft forever preferred_lft forever\n[root@slave1 /]# \n```\n\n**slave2:**\n\n```sh\n[root@docker-server ~/bigdata-work]# docker exec -it slave2 bash\n[root@slave2 /]# ip a\n1: lo: <LOOPBACK,UP,LOWER_UP> mtu 65536 qdisc noqueue state UNKNOWN group default qlen 1000\n    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00\n    inet 127.0.0.1/8 scope host lo\n       valid_lft forever preferred_lft forever\n32: eth0@if33: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1500 qdisc noqueue state UP group default \n    link/ether 02:42:c0:a8:01:03 brd ff:ff:ff:ff:ff:ff link-netnsid 0\n    inet 192.168.1.3/24 brd 192.168.1.255 scope global eth0\n       valid_lft forever preferred_lft forever\n[root@slave2 /]# \n```\n\n\n\n### 5.5 xshell\n\n==ssh==\n\n\n\n> master\n\n![](https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202312111517302.png)\n\n![image-20231211151542886](https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202312111515957.png)\n\n\n\n> slave1\n\n![image-20231211151638743](https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202312111516827.png)\n\n![image-20231211151651296](https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202312111516374.png)\n\n\n\n> slave2\n\n![image-20231211151809445](https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202312111518533.png)\n\n![image-20231211151826289](https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202312111518365.png)\n\n\n\n## 6. asbru-cm\n\n1\n\n![image-20230320175907854](https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202401080134495.png)\n\n2\n\n![image-20230320180309740](https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202401080134744.png)\n","source":"_posts/Ubuntu-18-04-Docker-centos7.md","raw":"---\ntitle: Ubuntu(18.04)+Docker+centos7\ndate: 2024-11-10 22:48:05\ntags: \n  - Bigdata\n  - Docker\ncategories: \n  - \n---\n## 1.ubuntu \n\n`ubuntu 18.04`\n\nUbunturootUbunturoot\n\n### 1.1root\n\n1.Ubuntu\nUbuntu\n\n2.sudo passwd root\n\n```shell\nsudo passwd root\n```\n\n![image-20230320172400074](https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202309241324207.png)\n\n\n\n**su -** \n\n### 1.2 \n\ndocker\n\n``` shell\nsudo apt install vim \nsudo cp /etc/apt/sources.list /etc/apt/sources.list.bak\t\t\nsudo vi /etc/apt/sources.list    #\n```\n\n\n\n[ubuntu |  |  | Tsinghua Open Source Mirror](https://mirrors.tuna.tsinghua.edu.cn/help/ubuntu/)\n\n```shell\n#  apt update \ndeb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic main restricted universe multiverse\n# deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic main restricted universe multiverse\ndeb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic-updates main restricted universe multiverse\n# deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic-updates main restricted universe multiverse\ndeb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic-backports main restricted universe multiverse\n# deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic-backports main restricted universe multiverse\n\n# deb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic-security main restricted universe multiverse\n# # deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic-security main restricted universe multiverse\n\ndeb http://security.ubuntu.com/ubuntu/ bionic-security main restricted universe multiverse\n# deb-src http://security.ubuntu.com/ubuntu/ bionic-security main restricted universe multiverse\n\n# \n# deb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic-proposed main restricted universe multiverse\n# # deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic-proposed main restricted universe multiverse\n```\n\n```shell\n#\nsudo apt update\n```\n\n### 1.3 ssh\n\nxshell\n\n```shell\nsudo apt install openssh-server -y\n```\n\nwindows Ubuntu \n\n```shell\nsudo apt-get autoremove open-vm-tools -y\t//\nsudo apt-get install open-vm-tools -y\t\t//open-vm-tools\nsudo apt-get install open-vm-tools-desktop -y //open-vm-tools-desktop\n```\n\nubuntuasbru-cm\n\nAsbru-CMWeb\n\n```shell\nsudo apt install curl -y\n\ncurl -s https://packagecloud.io/install/repositories/asbru-cm/asbru-cm/script.deb.sh | sudo bash\n\nsudo apt install asbru-cm -y\n```\n\n\n\n## 2. Docker\n\n,docker,docker\n\n[Ubuntu18.04Docker_ubuntu-CSDN](https://blog.csdn.net/single_0910/article/details/120562065)\n\n### 2.1 dockerdocker\n\n```shell\nsudo apt-get remove docker docker-engine docker.io containerd runc\n```\n\n### 2.2 \n\n#### 2.2.1 \n\n```shell\nsudo apt-get update\n```\n\n#### 2.2.2 \n\n```shell\nsudo apt-get install apt-transport-https ca-certificates curl gnupg lsb-release -y\n```\n\n#### 2.2.3 dockerGPG key\n\ngpgkey \n\n```shell\nsudo curl -fsSL http://mirrors.aliyun.com/docker-ce/linux/ubuntu/gpg | sudo gpg --dearmor -o /usr/share/keyrings/docker-archive-keyring.gpg\n```\n\n2.2.4 \n\n```shell\nsudo echo \"deb [arch=amd64 signed-by=/usr/share/keyrings/docker-archive-keyring.gpg] http://mirrors.aliyun.com/docker-ce/linux/ubuntu/gpg$(lsb_release -cs) stable\" | sudo tee /etc/apt/sources.list.d/docker.list > /dev/null\n```\n\n### 2.3 docker\n\n#### 2.3.1 \n\n```shell\nsudo apt-get update\n```\n\n#### 2.3.2 docker-ce\n\n```shell\nsudo apt-get install docker-ce docker-ce-cli containerd.io -y\n```\n\n### 2.4 docker\n\ndocker\n\n```shell\nps aux|grep docker\n```\n\n![image-20230812180124831](https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202309241324877.png)\n\n\n\n## 3. Docker \n\n### 3.1 \n\n```shell\nsudo service docker start  # Docker\nsudo service docker stop  # Docker\nsudo service docker restart  # Docker\nsudo service docker status  # Docker\n```\n\n```shell\n#docker\ndocker ps    #\ndocker ps -a    #\ndocker rm -f $(docker ps -aq)  #\ndocker images  #docker\n```\n\n```shell\n#,\ndocker load < /home/hj//bigdata.tar\ndocker load -i < /home/hj//bigdata.tar\n#,\ndocker import \n\n#\ndocker rmi ID\n\n#\ndocker rm -f $(docker ps -aq)\ndocker rm \n\n#\ndocker start id\n\n#\ndocker exec -it id /bin/bash\n\n#\nsudo docker commit -a \"\" -m \"\"  :\n\ndocker \ndocker cp /home/hj/clickhouse-21.9.4.35tgz master:/opt/\n\n\ndocker cp master:/opt/ /home/hj\n```\n\n### 3.2 Docker \n\n#### 3.2.1 \n\n```shell\ndocker images\n```\n\n![image-20230812180956921](https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202309241324626.png)\n\n|        |                                  |\n| ---------- | ------------------------------------ |\n| REPOSITORY |                    |\n| TAG        | ()                       |\n| IMAGEID    | ID                               |\n| CREATED    | () |\n| SIZE       |                              |\n\n#### 3.2.2 \n\n```shell\ndocker search \n```\n\n#### 3.2.3 \n\npull\n\n latest \n\n```shell\ndocker pull /\n```\n\n#### 3.2.4 \n\n\n\n```shell\n#\ndocker rmi ID\n#\ndocker rmi -f ID\n```\n\n#### 3.2.5 \n\n```shell\n#1\ndocker load < \n#2\nsudo docker load -i \n```\n\n#### 3.2.6 \n\n```shell\ndocker save o /opt/.tar :\n```\n\n### 3.3 Docker\n\n#### 3.3.1 \n\n```shell\ndocker run [option] :tag []\n```\n\n \n\n|      |                                                          |\n| -------- | ------------------------------------------------------------ |\n| -i       |                                      |\n| -t       |  |\n| name    |                                              |\n| -v       | ( :)-v :  |\n| -d       | run-d,( -i -t ) |\n| -p       | -p  |\n| -e       |                                            |\n| network |                                                      |\n\n#### 3.3.2 \n\n```shell\ndocker exec -it ID /bin/bash\n```\n\n#### 3.3.3 \n\n```shell\ndocker ps     #\ndocker ps a    #\n```\n\n#### 3.3.4 \n\n```shell\ndocker start ID\n```\n\n#### 3.3.5 \n\n```shell\ndocker stop ID\n```\n\n#### 3.3.6    \n\n\n\n```shell\ndocker rm ID \n```\n\n#### 3.3.7 \n\n```shell\ndocker commit [OPTIONS] CONTAINER [REPOSITORY]:[TAG]\n```\n\nOPTIONS\n\n-a :\n\n-c :Dockerfile\n\n-m :\n\n-p :commit\n\n$ docker commit  :tag\n\n### 3.4 docker\n\n#### 3.4.1 Docker\n\n`Docker3bridgehostnone`\n\nDockerdocker0172.17.0.1/16docker0ip\n\n| bridge                                         |\n| :----------------------------------------------------------- |\n| 1IPdocker0 |\n| 2IP |\n| 3                        |\n| 4docker                |\n\n| host                                      |\n| :---------------------------------------------------------- |\n| 1dockerip |\n| 2docker               |\n| 3                                     |\n\n| overlay                                |\n| :--------------------------------------------------- |\n| ip                       |\n| docker                 |\n|              |\n|  windows |\n\n``\n\n```shell\ndocker network ls            #\ndocker network inspect    #\n\n#default bridge   \n\ndocker network create --driver bridge --subnet 192.168.1.1/24 --gateway 192.168.1.1 mynet #mynet\n\ndocker network rm id  #\n```\n\n## 4.DockerCentos7\n\n### 4.1 Dockerfile\n\nPullcentos7sshjdkhadoophadoop\n\n> :\n>\n> ```\n> registry.cn-hangzhou.aliyuncs.com/shangguan-hj/bigdata:gxjzy\n> ```\n>\n> \n>\n> ```\n> docker pull registry.cn-hangzhou.aliyuncs.com/510_repo/bigdata:gxjzy\n> ```\n\n#### 4.1.2 dockerfile\n\n```shell\n# os  \nFROM centos:7\n# openssh-serversudo  \nRUN yum install -y --nogpgcheck openssh-server sudo\n#openssh-clients\nRUN yum install -y --nogpgcheck openssh-clients\n# sshrootssh\nRUN sed -i 's/ GSSAPIAuthentication yes /#GSSAPIAuthentication yes/g' /etc/ssh/sshd_config\nRUN sed -i 's/ GSSAPICleanupCredentials no /#GSSAPICleanupCredentials no/g' /etc/ssh/sshd_config\n\n#initscripts ip addr \nRUN yum install -y --nogpgcheck initscripts\n\n# \nRUN yum install firewalld -y\n\n#which  hadoop  \nRUN yum install which -y\n\n#mysql  libnuma.so.1 \nRUN yum install numactl -y\nRUN yum install libaio -y\nRUN yum install libnuma.so.1 -y\n\n\n# root123sudoers  \nRUN echo \"root:123\" | chpasswd\nRUN echo \"root   ALL=(ALL)       ALL\" >> /etc/sudoers\n\n# sshd22  \nRUN mkdir /var/run/sshd\nEXPOSE 22\nCMD [\"/usr/sbin/sshd\", \"-D\"]\nRUN mkdir /opt/{software,module}\n#docker build -t\"centos-ssh-root\" . \n```\n\nbuild\n\ndocker build -t . \n\n```shell\ndocker build -t\"centos-ssh-root\" .\n```\n\n![image-20230812190933232](https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202309241324924.png)\n\n\n\n ![image-20230812191126430](https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202309241324183.png)\n\n#### 4.1.3 Dockerfile\n\nssh22root\n\n```shell\n#\nFROM centos-ssh-root\nCOPY apache-flume-1.9.0-bin.tar.gz /opt/software/\nCOPY apache-hive-3.1.2-bin.tar.gz /opt/software/\nCOPY flink-1.14.0-bin-scala_2.12.tgz /opt/software/\nCOPY hadoop-3.1.3.tar.gz /opt/software/\nCOPY hbase-2.2.3-bin.tar.gz /opt/software/\nCOPY jdk-8u162-linux-x64.tar.gz /opt/software/\nCOPY kafka_2.12-2.4.1.tgz /opt/software/\nCOPY maxwell-1.29.0.tar.gz /opt/software/\nCOPY redis-6.2.6.tar.gz /opt/software/\nCOPY scala-2.12.0.tgz /opt/software/\nCOPY spark-3.1.1-bin-hadoop3.2.tgz /opt/software/\nCOPY clickhouse-21.9.4.35 /opt/software/\nCOPY mysql /opt/software/\nCOPY zookeeper-3.4.6.tar.gz /opt/software/\nCOPY sqoop-1.4.2.bin__hadoop-2.0.0-alpha.tar.gz /opt/software/\n\n#docker build -t\"bigdata\" . \n```\n\nbuild\n\ndocker build -t . \n\n```shell\ndocker build -t\"bigdata\" .\n```\n\n![image-20230812191358805](https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202309241324473.png)\n\n\n\n![image-20230812192151801](https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202309241324220.png)\n\n\n\n#### 4.1.4 :star:\n\n> dockerfile\n\n```sh\nFROM centos:7\nRUN yum install -y --nogpgcheck openssh-server sudo && \\\n    yum install -y --nogpgcheck openssh-clients && \\\n    sed -i 's/ GSSAPIAuthentication yes /#GSSAPIAuthentication yes/g' /etc/ssh/sshd_config && \\\n    sed -i 's/ GSSAPICleanupCredentials no /#GSSAPICleanupCredentials no/g' /etc/ssh/sshd_config && \\\n    yum install -y --nogpgcheck initscripts && \\\n    yum install which -y && \\\n    yum install numactl libaio libnuma.so.1 -y && \\\n    echo \"root:1\" | chpasswd && \\\n    echo \"root   ALL=(ALL)       ALL\" >> /etc/sudoers && \\\n    mkdir /var/run/sshd && \\\n    mkdir /opt/{software,module} \nCOPY . /opt/software \nEXPOSE 22\nCMD [\"/usr/sbin/sshd\", \"-D\"]\n```\n\n> \n\n```sh\n[root@docker-server ~/bigdata]# docker build -t bigdata .\n```\n\n> \n\n```sh\n[root@docker-server ~/bigdata]# docker images | grep bigdata\nbigdata                                                  latest    78d3e81ed5ac   4 hours ago   5.57GB\n```\n\n\n\n### 4.2 Hadoop\n\n****\n\n\n\n> master:\n\n:\n\n```shell\ndocker run -id --name master --hostname master --net mynet --privileged=true -v /sys/fs/cgroup:/sys/fs/cgroup -P -p 50070:50070 -p 8088:8088 bigdata /usr/sbin/init\n```\n\n:star: :\n\ndocker:\n\n(IP`192.168.1.0/24`)\n\n```sh\nsudo docker network create --subnet=192.168.1.0/24 mynet\n```\n\nmaster,ip192.168.1.10:\n\n```sh\nsudo docker run -d --privileged --name master --hostname master --network mynet --ip 192.168.1.10 \\\n  -p 16010:16010 -p 2181:2181 -p 3306:3306 -p 6379:6379 -p 8031:8031 -p 8032:8032 \\\n  -p 8033:8033 -p 8080:8080 -p 8081:8081 -p 8020:8020 -p 8088:8088 -p 8123:8123 \\\n  -p 9000:9000 -p 9083:9083 -p 9092:9092 -p 9866:9866 -p 9870:9870 -p 10000:10000 \\\n  -p 60010:60010 -p 12321:12321 -p 4040:4040 \\\n  -v /sys/fs/cgroup:/sys/fs/cgroup \\\n  bigdata:gxjzy /usr/sbin/init\n```\n\n\n\n> slave1:\n\n\n\n:\n\n```shell\ndocker run -id --name slave1 --hostname slave1 --net mynet --privileged=true -P bigdata /usr/sbin/init\n```\n\n:star: :\n\nmaster,ip192.168.1.10:\n\n```sh\nsudo docker run -d --privileged --name slave1 --hostname slave1 --network mynet --ip 192.168.1.20 \\\n  -v /sys/fs/cgroup:/sys/fs/cgroup \\\n  bigdata:gxjzy /usr/sbin/init\n```\n\n\n\n\n\n> slave2:\n\n\n\n:\n\n```shell\ndocker run -id --name slave2 --hostname slave2 --net mynet --privileged=true -P bigdata /usr/sbin/init\n```\n\n:star: :\n\n```sh\nsudo docker run -d --privileged --name slave2 --hostname slave2 --network mynet --ip 192.168.1.30 \\\n  -v /sys/fs/cgroup:/sys/fs/cgroup \\\n  bigdata:gxjzy /usr/sbin/init\n```\n\n\n\n```sh\ndocker ps\n```\n\n![image-20240108011713901](https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202401080117475.png)\n\n\n\niptables()\n\n```shell\niptables -t nat -vnL  #\n\niptables -t nat -A DOCKER -p tcp --dport 8089 -j DNAT --to-destination 192.168.12.10:8088  #\n\niptables -t nat -vnL DOCKER --line-number #\n\niptables -t nat -D DOCKER {}  #\n```\n\n\n\n```shell\ndocker exec -it master bash\n```\n\n## 5. docker-compose\n\n> docker-compose()\n\n\n\n### 5.1 docker-compose.yml\n\nip:\n\n|    | ip           |\n| ------ | ------------ |\n| master | 192.168.1.10 |\n| slave1 | 192.168.1.20 |\n| slave2 | 192.168.1.30 |\n\n\n\n```sh\n[root@docker-server ~/bigdata-work]# vim docker-compose.yml \n```\n\n```yml\nversion: \"2.2\"\nservices:\n  master:\n    restart: always\n    image: registry.cn-hangzhou.aliyuncs.com/shangguan-hj/bigdata:gxjzy\n    container_name: master\n    hostname: master\n    networks:\n      mynet:\n        ipv4_address: \"192.168.1.10\"\n    privileged: true\n    ports:\n      - 1022:22\n      - 50070:50070\n      - 8088:8088\n    volumes:\n      - /sys/fs/cgroup:/sys/fs/cgroup\n    command: /usr/sbin/init\n\n  slave1:\n    restart: always\n    image: registry.cn-hangzhou.aliyuncs.com/shangguan-hj/bigdata:gxjzy\n    container_name: slave1\n    hostname: slave1\n    networks:\n      mynet:\n        ipv4_address: \"192.168.1.20\"\n    privileged: true\n    ports:\n      - 1023:22\n    volumes:\n      - /sys/fs/cgroup:/sys/fs/cgroup\n    command: /usr/sbin/init\n    \n  slave2:\n    restart: always\n    image: registry.cn-hangzhou.aliyuncs.com/shangguan-hj/bigdata:gxjzy\n    container_name: slave2\n    hostname: slave2\n    networks:\n      mynet:\n        ipv4_address: \"192.168.1.30\"\n    privileged: true\n    ports:\n      - 1024:22\n    volumes:\n      - /sys/fs/cgroup:/sys/fs/cgroup\n    command: /usr/sbin/init\n\n# \nnetworks:\n  mynet:\n    ipam:\n      config:\n      - subnet: 192.168.1.0/24\n```\n\n### 5.2 docker\n\n```sh\n[root@docker-server ~/bigdata-work]# docker-compose up -d\n```\n\n![image-20231211150006708](https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202312111500849.png)\n\n### 5.3 \n\n#### 5.3.1 ():\n\n```sh\n[root@docker-server ~/bigdata-work]# docker-compose ps\n```\n\n![image-20231211150148532](https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202312111501626.png)\n\n#### 5.3.2 :\n\n```sh\n[root@docker-server ~/bigdata-work]# docker ps\n```\n\n![image-20231211150204022](https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202312111502108.png)\n\n\n\n### 5.4 \n\n**master:**\n\n```sh\n[root@docker-server ~/bigdata-work]# docker exec -it master bash\n[root@master /]# ip a\n1: lo: <LOOPBACK,UP,LOWER_UP> mtu 65536 qdisc noqueue state UNKNOWN group default qlen 1000\n    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00\n    inet 127.0.0.1/8 scope host lo\n       valid_lft forever preferred_lft forever\n96: eth0@if97: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1500 qdisc noqueue state UP group default \n    link/ether 02:42:c0:a8:01:02 brd ff:ff:ff:ff:ff:ff link-netnsid 0\n    inet 192.168.1.2/24 brd 192.168.1.255 scope global eth0\n       valid_lft forever preferred_lft forever\n[root@master /]# \n```\n\n**slave1:**\n\n```sh\n[root@docker-server ~/bigdata-work]# docker exec -it slave1 bash\n[root@slave1 /]# ip a\n1: lo: <LOOPBACK,UP,LOWER_UP> mtu 65536 qdisc noqueue state UNKNOWN group default qlen 1000\n    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00\n    inet 127.0.0.1/8 scope host lo\n       valid_lft forever preferred_lft forever\n34: eth0@if35: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1500 qdisc noqueue state UP group default \n    link/ether 02:42:c0:a8:01:04 brd ff:ff:ff:ff:ff:ff link-netnsid 0\n    inet 192.168.1.4/24 brd 192.168.1.255 scope global eth0\n       valid_lft forever preferred_lft forever\n[root@slave1 /]# \n```\n\n**slave2:**\n\n```sh\n[root@docker-server ~/bigdata-work]# docker exec -it slave2 bash\n[root@slave2 /]# ip a\n1: lo: <LOOPBACK,UP,LOWER_UP> mtu 65536 qdisc noqueue state UNKNOWN group default qlen 1000\n    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00\n    inet 127.0.0.1/8 scope host lo\n       valid_lft forever preferred_lft forever\n32: eth0@if33: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1500 qdisc noqueue state UP group default \n    link/ether 02:42:c0:a8:01:03 brd ff:ff:ff:ff:ff:ff link-netnsid 0\n    inet 192.168.1.3/24 brd 192.168.1.255 scope global eth0\n       valid_lft forever preferred_lft forever\n[root@slave2 /]# \n```\n\n\n\n### 5.5 xshell\n\n==ssh==\n\n\n\n> master\n\n![](https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202312111517302.png)\n\n![image-20231211151542886](https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202312111515957.png)\n\n\n\n> slave1\n\n![image-20231211151638743](https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202312111516827.png)\n\n![image-20231211151651296](https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202312111516374.png)\n\n\n\n> slave2\n\n![image-20231211151809445](https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202312111518533.png)\n\n![image-20231211151826289](https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202312111518365.png)\n\n\n\n## 6. asbru-cm\n\n1\n\n![image-20230320175907854](https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202401080134495.png)\n\n2\n\n![image-20230320180309740](https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202401080134744.png)\n","slug":"Ubuntu-18-04-Docker-centos7","published":1,"updated":"2024-11-10T14:49:57.805Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cm3cx7o5x000ykmmjebw53p8p","content":"<h2 id=\"1-ubuntu-\"><a href=\"#1-ubuntu-\" class=\"headerlink\" title=\"1.ubuntu \"></a>1.ubuntu </h2><p><code>ubuntu 18.04</code></p>\n<p>UbunturootUbunturoot</p>\n<h3 id=\"1-1root\"><a href=\"#1-1root\" class=\"headerlink\" title=\"1.1root\"></a>1.1root</h3><p>1.Ubuntu<br>Ubuntu</p>\n<p>2.sudo passwd root</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">sudo</span> <span class=\"token function\">passwd</span> root<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p><img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202309241324207.png\" alt=\"image-20230320172400074\"></p>\n<p></p>\n<p><strong>su -</strong> </p>\n<h3 id=\"1-2-\"><a href=\"#1-2-\" class=\"headerlink\" title=\"1.2 \"></a>1.2 </h3><p>docker</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">sudo</span> <span class=\"token function\">apt</span> <span class=\"token function\">install</span> <span class=\"token function\">vim</span> \n<span class=\"token function\">sudo</span> <span class=\"token function\">cp</span> /etc/apt/sources.list /etc/apt/sources.list.bak\t\t\n<span class=\"token function\">sudo</span> <span class=\"token function\">vi</span> /etc/apt/sources.list    <span class=\"token comment\">#</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n\n<p></p>\n<p><a href=\"https://mirrors.tuna.tsinghua.edu.cn/help/ubuntu/\">ubuntu |  |  | Tsinghua Open Source Mirror</a></p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token comment\">#  apt update </span>\ndeb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic main restricted universe multiverse\n<span class=\"token comment\"># deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic main restricted universe multiverse</span>\ndeb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic-updates main restricted universe multiverse\n<span class=\"token comment\"># deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic-updates main restricted universe multiverse</span>\ndeb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic-backports main restricted universe multiverse\n<span class=\"token comment\"># deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic-backports main restricted universe multiverse</span>\n\n<span class=\"token comment\"># deb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic-security main restricted universe multiverse</span>\n<span class=\"token comment\"># # deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic-security main restricted universe multiverse</span>\n\ndeb http://security.ubuntu.com/ubuntu/ bionic-security main restricted universe multiverse\n<span class=\"token comment\"># deb-src http://security.ubuntu.com/ubuntu/ bionic-security main restricted universe multiverse</span>\n\n<span class=\"token comment\"># </span>\n<span class=\"token comment\"># deb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic-proposed main restricted universe multiverse</span>\n<span class=\"token comment\"># # deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic-proposed main restricted universe multiverse</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token comment\">#</span>\n<span class=\"token function\">sudo</span> <span class=\"token function\">apt</span> update<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n\n<h3 id=\"1-3-ssh\"><a href=\"#1-3-ssh\" class=\"headerlink\" title=\"1.3 ssh\"></a>1.3 ssh</h3><p>xshell</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">sudo</span> <span class=\"token function\">apt</span> <span class=\"token function\">install</span> openssh-server <span class=\"token parameter variable\">-y</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p>windows Ubuntu </p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">sudo</span> <span class=\"token function\">apt-get</span> autoremove open-vm-tools <span class=\"token parameter variable\">-y</span>\t//\n<span class=\"token function\">sudo</span> <span class=\"token function\">apt-get</span> <span class=\"token function\">install</span> open-vm-tools <span class=\"token parameter variable\">-y</span>\t\t//open-vm-tools\n<span class=\"token function\">sudo</span> <span class=\"token function\">apt-get</span> <span class=\"token function\">install</span> open-vm-tools-desktop <span class=\"token parameter variable\">-y</span> //open-vm-tools-desktop<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n\n<p>ubuntuasbru-cm</p>\n<p>Asbru-CMWeb</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">sudo</span> <span class=\"token function\">apt</span> <span class=\"token function\">install</span> <span class=\"token function\">curl</span> <span class=\"token parameter variable\">-y</span>\n\n<span class=\"token function\">curl</span> <span class=\"token parameter variable\">-s</span> https://packagecloud.io/install/repositories/asbru-cm/asbru-cm/script.deb.sh <span class=\"token operator\">|</span> <span class=\"token function\">sudo</span> <span class=\"token function\">bash</span>\n\n<span class=\"token function\">sudo</span> <span class=\"token function\">apt</span> <span class=\"token function\">install</span> asbru-cm <span class=\"token parameter variable\">-y</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n\n\n<h2 id=\"2-Docker\"><a href=\"#2-Docker\" class=\"headerlink\" title=\"2. Docker\"></a>2. Docker</h2><p>,docker,docker</p>\n<p><a href=\"https://blog.csdn.net/single_0910/article/details/120562065\">Ubuntu18.04Docker_ubuntu-CSDN</a></p>\n<h3 id=\"2-1-dockerdocker\"><a href=\"#2-1-dockerdocker\" class=\"headerlink\" title=\"2.1 dockerdocker\"></a>2.1 dockerdocker</h3><pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">sudo</span> <span class=\"token function\">apt-get</span> remove <span class=\"token function\">docker</span> docker-engine docker.io containerd runc<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<h3 id=\"2-2-\"><a href=\"#2-2-\" class=\"headerlink\" title=\"2.2 \"></a>2.2 </h3><h4 id=\"2-2-1-\"><a href=\"#2-2-1-\" class=\"headerlink\" title=\"2.2.1 \"></a>2.2.1 </h4><pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">sudo</span> <span class=\"token function\">apt-get</span> update<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<h4 id=\"2-2-2-\"><a href=\"#2-2-2-\" class=\"headerlink\" title=\"2.2.2 \"></a>2.2.2 </h4><pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">sudo</span> <span class=\"token function\">apt-get</span> <span class=\"token function\">install</span> apt-transport-https ca-certificates <span class=\"token function\">curl</span> gnupg lsb-release <span class=\"token parameter variable\">-y</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<h4 id=\"2-2-3-dockerGPG-key\"><a href=\"#2-2-3-dockerGPG-key\" class=\"headerlink\" title=\"2.2.3 dockerGPG key\"></a>2.2.3 dockerGPG key</h4><p>gpgkey </p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">sudo</span> <span class=\"token function\">curl</span> <span class=\"token parameter variable\">-fsSL</span> http://mirrors.aliyun.com/docker-ce/linux/ubuntu/gpg <span class=\"token operator\">|</span> <span class=\"token function\">sudo</span> gpg <span class=\"token parameter variable\">--dearmor</span> <span class=\"token parameter variable\">-o</span> /usr/share/keyrings/docker-archive-keyring.gpg<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p>2.2.4 </p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">sudo</span> <span class=\"token builtin class-name\">echo</span> <span class=\"token string\">\"deb [arch=amd64 signed-by=/usr/share/keyrings/docker-archive-keyring.gpg] http://mirrors.aliyun.com/docker-ce/linux/ubuntu/gpg<span class=\"token variable\"><span class=\"token variable\">$(</span>lsb_release <span class=\"token parameter variable\">-cs</span><span class=\"token variable\">)</span></span> stable\"</span> <span class=\"token operator\">|</span> <span class=\"token function\">sudo</span> <span class=\"token function\">tee</span> /etc/apt/sources.list.d/docker.list <span class=\"token operator\">></span> /dev/null<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<h3 id=\"2-3-docker\"><a href=\"#2-3-docker\" class=\"headerlink\" title=\"2.3 docker\"></a>2.3 docker</h3><h4 id=\"2-3-1-\"><a href=\"#2-3-1-\" class=\"headerlink\" title=\"2.3.1 \"></a>2.3.1 </h4><pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">sudo</span> <span class=\"token function\">apt-get</span> update<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<h4 id=\"2-3-2-docker-ce\"><a href=\"#2-3-2-docker-ce\" class=\"headerlink\" title=\"2.3.2 docker-ce\"></a>2.3.2 docker-ce</h4><pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">sudo</span> <span class=\"token function\">apt-get</span> <span class=\"token function\">install</span> docker-ce docker-ce-cli containerd.io <span class=\"token parameter variable\">-y</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<h3 id=\"2-4-docker\"><a href=\"#2-4-docker\" class=\"headerlink\" title=\"2.4 docker\"></a>2.4 docker</h3><p>docker</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">ps</span> aux<span class=\"token operator\">|</span><span class=\"token function\">grep</span> <span class=\"token function\">docker</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p><img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202309241324877.png\" alt=\"image-20230812180124831\"></p>\n<p></p>\n<h2 id=\"3-Docker-\"><a href=\"#3-Docker-\" class=\"headerlink\" title=\"3. Docker \"></a>3. Docker </h2><h3 id=\"3-1-\"><a href=\"#3-1-\" class=\"headerlink\" title=\"3.1 \"></a>3.1 </h3><pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">sudo</span> <span class=\"token function\">service</span> <span class=\"token function\">docker</span> start  <span class=\"token comment\"># Docker</span>\n<span class=\"token function\">sudo</span> <span class=\"token function\">service</span> <span class=\"token function\">docker</span> stop  <span class=\"token comment\"># Docker</span>\n<span class=\"token function\">sudo</span> <span class=\"token function\">service</span> <span class=\"token function\">docker</span> restart  <span class=\"token comment\"># Docker</span>\n<span class=\"token function\">sudo</span> <span class=\"token function\">service</span> <span class=\"token function\">docker</span> status  <span class=\"token comment\"># Docker</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token comment\">#docker</span>\n<span class=\"token function\">docker</span> <span class=\"token function\">ps</span>    <span class=\"token comment\">#</span>\n<span class=\"token function\">docker</span> <span class=\"token function\">ps</span> <span class=\"token parameter variable\">-a</span>    <span class=\"token comment\">#</span>\n<span class=\"token function\">docker</span> <span class=\"token function\">rm</span> <span class=\"token parameter variable\">-f</span> <span class=\"token variable\"><span class=\"token variable\">$(</span><span class=\"token function\">docker</span> <span class=\"token function\">ps</span> <span class=\"token parameter variable\">-aq</span><span class=\"token variable\">)</span></span>  <span class=\"token comment\">#</span>\n<span class=\"token function\">docker</span> images  <span class=\"token comment\">#docker</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token comment\">#,</span>\n<span class=\"token function\">docker</span> load <span class=\"token operator\">&lt;</span> /home/hj//bigdata.tar\n<span class=\"token function\">docker</span> load <span class=\"token parameter variable\">-i</span> <span class=\"token operator\">&lt;</span> /home/hj//bigdata.tar\n<span class=\"token comment\">#,</span>\n<span class=\"token function\">docker</span> <span class=\"token function\">import</span> \n\n<span class=\"token comment\">#</span>\n<span class=\"token function\">docker</span> rmi ID\n\n<span class=\"token comment\">#</span>\n<span class=\"token function\">docker</span> <span class=\"token function\">rm</span> <span class=\"token parameter variable\">-f</span> <span class=\"token variable\"><span class=\"token variable\">$(</span><span class=\"token function\">docker</span> <span class=\"token function\">ps</span> <span class=\"token parameter variable\">-aq</span><span class=\"token variable\">)</span></span>\n<span class=\"token function\">docker</span> <span class=\"token function\">rm</span> \n\n<span class=\"token comment\">#</span>\n<span class=\"token function\">docker</span> start id\n\n<span class=\"token comment\">#</span>\n<span class=\"token function\">docker</span> <span class=\"token builtin class-name\">exec</span> <span class=\"token parameter variable\">-it</span> id /bin/bash\n\n<span class=\"token comment\">#</span>\n<span class=\"token function\">sudo</span> <span class=\"token function\">docker</span> commit <span class=\"token parameter variable\">-a</span> <span class=\"token string\">\"\"</span> <span class=\"token parameter variable\">-m</span> <span class=\"token string\">\"\"</span>  :\n\n<span class=\"token function\">docker</span> \n<span class=\"token function\">docker</span> <span class=\"token function\">cp</span> /home/hj/clickhouse-21.9.4.35tgz master:/opt/\n\n\n<span class=\"token function\">docker</span> <span class=\"token function\">cp</span> master:/opt/ /home/hj<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h3 id=\"3-2-Docker-\"><a href=\"#3-2-Docker-\" class=\"headerlink\" title=\"3.2 Docker \"></a>3.2 Docker </h3><h4 id=\"3-2-1-\"><a href=\"#3-2-1-\" class=\"headerlink\" title=\"3.2.1 \"></a>3.2.1 </h4><pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">docker</span> images<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p><img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202309241324626.png\" alt=\"image-20230812180956921\"></p>\n<table>\n<thead>\n<tr>\n<th></th>\n<th></th>\n</tr>\n</thead>\n<tbody><tr>\n<td>REPOSITORY</td>\n<td></td>\n</tr>\n<tr>\n<td>TAG</td>\n<td>()</td>\n</tr>\n<tr>\n<td>IMAGEID</td>\n<td>ID</td>\n</tr>\n<tr>\n<td>CREATED</td>\n<td>()</td>\n</tr>\n<tr>\n<td>SIZE</td>\n<td></td>\n</tr>\n</tbody></table>\n<h4 id=\"3-2-2-\"><a href=\"#3-2-2-\" class=\"headerlink\" title=\"3.2.2 \"></a>3.2.2 </h4><pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">docker</span> search <span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<h4 id=\"3-2-3-\"><a href=\"#3-2-3-\" class=\"headerlink\" title=\"3.2.3 \"></a>3.2.3 </h4><p>pull</p>\n<p> latest </p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">docker</span> pull /<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<h4 id=\"3-2-4-\"><a href=\"#3-2-4-\" class=\"headerlink\" title=\"3.2.4 \"></a>3.2.4 </h4><p></p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token comment\">#</span>\n<span class=\"token function\">docker</span> rmi ID\n<span class=\"token comment\">#</span>\n<span class=\"token function\">docker</span> rmi <span class=\"token parameter variable\">-f</span> ID<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h4 id=\"3-2-5-\"><a href=\"#3-2-5-\" class=\"headerlink\" title=\"3.2.5 \"></a>3.2.5 </h4><pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token comment\">#1</span>\n<span class=\"token function\">docker</span> load <span class=\"token operator\">&lt;</span> \n<span class=\"token comment\">#2</span>\n<span class=\"token function\">sudo</span> <span class=\"token function\">docker</span> load <span class=\"token parameter variable\">-i</span> <span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h4 id=\"3-2-6-\"><a href=\"#3-2-6-\" class=\"headerlink\" title=\"3.2.6 \"></a>3.2.6 </h4><pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">docker</span> save o /opt/.tar :<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<h3 id=\"3-3-Docker\"><a href=\"#3-3-Docker\" class=\"headerlink\" title=\"3.3 Docker\"></a>3.3 Docker</h3><h4 id=\"3-3-1-\"><a href=\"#3-3-1-\" class=\"headerlink\" title=\"3.3.1 \"></a>3.3.1 </h4><pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">docker</span> run <span class=\"token punctuation\">[</span>option<span class=\"token punctuation\">]</span> :tag <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p> </p>\n<table>\n<thead>\n<tr>\n<th></th>\n<th></th>\n</tr>\n</thead>\n<tbody><tr>\n<td>-i</td>\n<td></td>\n</tr>\n<tr>\n<td>-t</td>\n<td></td>\n</tr>\n<tr>\n<td>name</td>\n<td></td>\n</tr>\n<tr>\n<td>-v</td>\n<td>( :)-v : </td>\n</tr>\n<tr>\n<td>-d</td>\n<td>run-d,( -i -t )</td>\n</tr>\n<tr>\n<td>-p</td>\n<td>-p </td>\n</tr>\n<tr>\n<td>-e</td>\n<td></td>\n</tr>\n<tr>\n<td>network</td>\n<td></td>\n</tr>\n</tbody></table>\n<h4 id=\"3-3-2-\"><a href=\"#3-3-2-\" class=\"headerlink\" title=\"3.3.2 \"></a>3.3.2 </h4><pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">docker</span> <span class=\"token builtin class-name\">exec</span> <span class=\"token parameter variable\">-it</span> ID /bin/bash<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<h4 id=\"3-3-3-\"><a href=\"#3-3-3-\" class=\"headerlink\" title=\"3.3.3 \"></a>3.3.3 </h4><pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">docker</span> <span class=\"token function\">ps</span>     <span class=\"token comment\">#</span>\n<span class=\"token function\">docker</span> <span class=\"token function\">ps</span> a    <span class=\"token comment\">#</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n\n<h4 id=\"3-3-4-\"><a href=\"#3-3-4-\" class=\"headerlink\" title=\"3.3.4 \"></a>3.3.4 </h4><pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">docker</span> start ID<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<h4 id=\"3-3-5-\"><a href=\"#3-3-5-\" class=\"headerlink\" title=\"3.3.5 \"></a>3.3.5 </h4><pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">docker</span> stop ID<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<h4 id=\"3-3-6-\"><a href=\"#3-3-6-\" class=\"headerlink\" title=\"3.3.6 \"></a>3.3.6 </h4><p></p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">docker</span> <span class=\"token function\">rm</span> ID <span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<h4 id=\"3-3-7-\"><a href=\"#3-3-7-\" class=\"headerlink\" title=\"3.3.7 \"></a>3.3.7 </h4><pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">docker</span> commit <span class=\"token punctuation\">[</span>OPTIONS<span class=\"token punctuation\">]</span> CONTAINER <span class=\"token punctuation\">[</span>REPOSITORY<span class=\"token punctuation\">]</span>:<span class=\"token punctuation\">[</span>TAG<span class=\"token punctuation\">]</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p>OPTIONS</p>\n<p>-a :</p>\n<p>-c :Dockerfile</p>\n<p>-m :</p>\n<p>-p :commit</p>\n<p>$ docker commit  :tag</p>\n<h3 id=\"3-4-docker\"><a href=\"#3-4-docker\" class=\"headerlink\" title=\"3.4 docker\"></a>3.4 docker</h3><h4 id=\"3-4-1-Docker\"><a href=\"#3-4-1-Docker\" class=\"headerlink\" title=\"3.4.1 Docker\"></a>3.4.1 Docker</h4><p><code>Docker3bridgehostnone</code></p>\n<p>Dockerdocker0172.17.0.1&#x2F;16docker0ip</p>\n<table>\n<thead>\n<tr>\n<th align=\"left\">bridge </th>\n</tr>\n</thead>\n<tbody><tr>\n<td align=\"left\">1IPdocker0</td>\n</tr>\n<tr>\n<td align=\"left\">2IP</td>\n</tr>\n<tr>\n<td align=\"left\">3</td>\n</tr>\n<tr>\n<td align=\"left\">4docker</td>\n</tr>\n</tbody></table>\n<table>\n<thead>\n<tr>\n<th align=\"left\">host </th>\n</tr>\n</thead>\n<tbody><tr>\n<td align=\"left\">1dockerip</td>\n</tr>\n<tr>\n<td align=\"left\">2docker</td>\n</tr>\n<tr>\n<td align=\"left\">3</td>\n</tr>\n</tbody></table>\n<table>\n<thead>\n<tr>\n<th align=\"left\">overlay </th>\n</tr>\n</thead>\n<tbody><tr>\n<td align=\"left\">ip</td>\n</tr>\n<tr>\n<td align=\"left\">docker</td>\n</tr>\n<tr>\n<td align=\"left\"></td>\n</tr>\n<tr>\n<td align=\"left\"> windows</td>\n</tr>\n</tbody></table>\n<p><code></code></p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">docker</span> network <span class=\"token function\">ls</span>            <span class=\"token comment\">#</span>\n<span class=\"token function\">docker</span> network inspect    <span class=\"token comment\">#</span>\n\n<span class=\"token comment\">#default bridge   </span>\n\n<span class=\"token function\">docker</span> network create <span class=\"token parameter variable\">--driver</span> bridge <span class=\"token parameter variable\">--subnet</span> <span class=\"token number\">192.168</span>.1.1/24 <span class=\"token parameter variable\">--gateway</span> <span class=\"token number\">192.168</span>.1.1 mynet <span class=\"token comment\">#mynet</span>\n\n<span class=\"token function\">docker</span> network <span class=\"token function\">rm</span> id  <span class=\"token comment\">#</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h2 id=\"4-DockerCentos7\"><a href=\"#4-DockerCentos7\" class=\"headerlink\" title=\"4.DockerCentos7\"></a>4.DockerCentos7</h2><h3 id=\"4-1-Dockerfile\"><a href=\"#4-1-Dockerfile\" class=\"headerlink\" title=\"4.1 Dockerfile\"></a>4.1 Dockerfile</h3><p>Pullcentos7sshjdkhadoophadoop</p>\n<blockquote>\n<p>:</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">registry.cn-hangzhou.aliyuncs.com&#x2F;shangguan-hj&#x2F;bigdata:gxjzy<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p></p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">docker pull registry.cn-hangzhou.aliyuncs.com&#x2F;510_repo&#x2F;bigdata:gxjzy<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n</blockquote>\n<h4 id=\"4-1-2-dockerfile\"><a href=\"#4-1-2-dockerfile\" class=\"headerlink\" title=\"4.1.2 dockerfile\"></a>4.1.2 dockerfile</h4><pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token comment\"># os  </span>\nFROM centos:7\n<span class=\"token comment\"># openssh-serversudo  </span>\nRUN yum <span class=\"token function\">install</span> <span class=\"token parameter variable\">-y</span> <span class=\"token parameter variable\">--nogpgcheck</span> openssh-server <span class=\"token function\">sudo</span>\n<span class=\"token comment\">#openssh-clients</span>\nRUN yum <span class=\"token function\">install</span> <span class=\"token parameter variable\">-y</span> <span class=\"token parameter variable\">--nogpgcheck</span> openssh-clients\n<span class=\"token comment\"># sshrootssh</span>\nRUN <span class=\"token function\">sed</span> <span class=\"token parameter variable\">-i</span> <span class=\"token string\">'s/ GSSAPIAuthentication yes /#GSSAPIAuthentication yes/g'</span> /etc/ssh/sshd_config\nRUN <span class=\"token function\">sed</span> <span class=\"token parameter variable\">-i</span> <span class=\"token string\">'s/ GSSAPICleanupCredentials no /#GSSAPICleanupCredentials no/g'</span> /etc/ssh/sshd_config\n\n<span class=\"token comment\">#initscripts ip addr </span>\nRUN yum <span class=\"token function\">install</span> <span class=\"token parameter variable\">-y</span> <span class=\"token parameter variable\">--nogpgcheck</span> initscripts\n\n<span class=\"token comment\"># </span>\nRUN yum <span class=\"token function\">install</span> firewalld <span class=\"token parameter variable\">-y</span>\n\n<span class=\"token comment\">#which  hadoop  </span>\nRUN yum <span class=\"token function\">install</span> <span class=\"token function\">which</span> <span class=\"token parameter variable\">-y</span>\n\n<span class=\"token comment\">#mysql  libnuma.so.1 </span>\nRUN yum <span class=\"token function\">install</span> numactl <span class=\"token parameter variable\">-y</span>\nRUN yum <span class=\"token function\">install</span> libaio <span class=\"token parameter variable\">-y</span>\nRUN yum <span class=\"token function\">install</span> libnuma.so.1 <span class=\"token parameter variable\">-y</span>\n\n\n<span class=\"token comment\"># root123sudoers  </span>\nRUN <span class=\"token builtin class-name\">echo</span> <span class=\"token string\">\"root:123\"</span> <span class=\"token operator\">|</span> chpasswd\nRUN <span class=\"token builtin class-name\">echo</span> <span class=\"token string\">\"root   ALL=(ALL)       ALL\"</span> <span class=\"token operator\">>></span> /etc/sudoers\n\n<span class=\"token comment\"># sshd22  </span>\nRUN <span class=\"token function\">mkdir</span> /var/run/sshd\nEXPOSE <span class=\"token number\">22</span>\nCMD <span class=\"token punctuation\">[</span><span class=\"token string\">\"/usr/sbin/sshd\"</span>, <span class=\"token string\">\"-D\"</span><span class=\"token punctuation\">]</span>\nRUN <span class=\"token function\">mkdir</span> /opt/<span class=\"token punctuation\">&#123;</span>software,module<span class=\"token punctuation\">&#125;</span>\n<span class=\"token comment\">#docker build -t\"centos-ssh-root\" . </span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>build</p>\n<p>docker build -t . </p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">docker</span> build -t<span class=\"token string\">\"centos-ssh-root\"</span> <span class=\"token builtin class-name\">.</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p><img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202309241324924.png\" alt=\"image-20230812190933232\"></p>\n<p></p>\n<p> <img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202309241324183.png\" alt=\"image-20230812191126430\"></p>\n<h4 id=\"4-1-3-Dockerfile\"><a href=\"#4-1-3-Dockerfile\" class=\"headerlink\" title=\"4.1.3 Dockerfile\"></a>4.1.3 Dockerfile</h4><p>ssh22root</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token comment\">#</span>\nFROM centos-ssh-root\nCOPY apache-flume-1.9.0-bin.tar.gz /opt/software/\nCOPY apache-hive-3.1.2-bin.tar.gz /opt/software/\nCOPY flink-1.14.0-bin-scala_2.12.tgz /opt/software/\nCOPY hadoop-3.1.3.tar.gz /opt/software/\nCOPY hbase-2.2.3-bin.tar.gz /opt/software/\nCOPY jdk-8u162-linux-x64.tar.gz /opt/software/\nCOPY kafka_2.12-2.4.1.tgz /opt/software/\nCOPY maxwell-1.29.0.tar.gz /opt/software/\nCOPY redis-6.2.6.tar.gz /opt/software/\nCOPY scala-2.12.0.tgz /opt/software/\nCOPY spark-3.1.1-bin-hadoop3.2.tgz /opt/software/\nCOPY clickhouse-21.9.4.35 /opt/software/\nCOPY mysql /opt/software/\nCOPY zookeeper-3.4.6.tar.gz /opt/software/\nCOPY sqoop-1.4.2.bin__hadoop-2.0.0-alpha.tar.gz /opt/software/\n\n<span class=\"token comment\">#docker build -t\"bigdata\" . </span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>build</p>\n<p>docker build -t . </p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">docker</span> build -t<span class=\"token string\">\"bigdata\"</span> <span class=\"token builtin class-name\">.</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p><img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202309241324473.png\" alt=\"image-20230812191358805\"></p>\n<p></p>\n<p><img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202309241324220.png\" alt=\"image-20230812192151801\"></p>\n<h4 id=\"4-1-4-star-\"><a href=\"#4-1-4-star-\" class=\"headerlink\" title=\"4.1.4 :star:\"></a>4.1.4 :star:</h4><blockquote>\n<p>dockerfile</p>\n</blockquote>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">FROM centos:7\nRUN yum <span class=\"token function\">install</span> <span class=\"token parameter variable\">-y</span> <span class=\"token parameter variable\">--nogpgcheck</span> openssh-server <span class=\"token function\">sudo</span> <span class=\"token operator\">&amp;&amp;</span> <span class=\"token punctuation\">\\</span>\n    yum <span class=\"token function\">install</span> <span class=\"token parameter variable\">-y</span> <span class=\"token parameter variable\">--nogpgcheck</span> openssh-clients <span class=\"token operator\">&amp;&amp;</span> <span class=\"token punctuation\">\\</span>\n    <span class=\"token function\">sed</span> <span class=\"token parameter variable\">-i</span> <span class=\"token string\">'s/ GSSAPIAuthentication yes /#GSSAPIAuthentication yes/g'</span> /etc/ssh/sshd_config <span class=\"token operator\">&amp;&amp;</span> <span class=\"token punctuation\">\\</span>\n    <span class=\"token function\">sed</span> <span class=\"token parameter variable\">-i</span> <span class=\"token string\">'s/ GSSAPICleanupCredentials no /#GSSAPICleanupCredentials no/g'</span> /etc/ssh/sshd_config <span class=\"token operator\">&amp;&amp;</span> <span class=\"token punctuation\">\\</span>\n    yum <span class=\"token function\">install</span> <span class=\"token parameter variable\">-y</span> <span class=\"token parameter variable\">--nogpgcheck</span> initscripts <span class=\"token operator\">&amp;&amp;</span> <span class=\"token punctuation\">\\</span>\n    yum <span class=\"token function\">install</span> <span class=\"token function\">which</span> <span class=\"token parameter variable\">-y</span> <span class=\"token operator\">&amp;&amp;</span> <span class=\"token punctuation\">\\</span>\n    yum <span class=\"token function\">install</span> numactl libaio libnuma.so.1 <span class=\"token parameter variable\">-y</span> <span class=\"token operator\">&amp;&amp;</span> <span class=\"token punctuation\">\\</span>\n    <span class=\"token builtin class-name\">echo</span> <span class=\"token string\">\"root:1\"</span> <span class=\"token operator\">|</span> chpasswd <span class=\"token operator\">&amp;&amp;</span> <span class=\"token punctuation\">\\</span>\n    <span class=\"token builtin class-name\">echo</span> <span class=\"token string\">\"root   ALL=(ALL)       ALL\"</span> <span class=\"token operator\">>></span> /etc/sudoers <span class=\"token operator\">&amp;&amp;</span> <span class=\"token punctuation\">\\</span>\n    <span class=\"token function\">mkdir</span> /var/run/sshd <span class=\"token operator\">&amp;&amp;</span> <span class=\"token punctuation\">\\</span>\n    <span class=\"token function\">mkdir</span> /opt/<span class=\"token punctuation\">&#123;</span>software,module<span class=\"token punctuation\">&#125;</span> \nCOPY <span class=\"token builtin class-name\">.</span> /opt/software \nEXPOSE <span class=\"token number\">22</span>\nCMD <span class=\"token punctuation\">[</span><span class=\"token string\">\"/usr/sbin/sshd\"</span>, <span class=\"token string\">\"-D\"</span><span class=\"token punctuation\">]</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<blockquote>\n<p></p>\n</blockquote>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token punctuation\">[</span>root@docker-server ~/bigdata<span class=\"token punctuation\">]</span><span class=\"token comment\"># docker build -t bigdata .</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<blockquote>\n<p></p>\n</blockquote>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token punctuation\">[</span>root@docker-server ~/bigdata<span class=\"token punctuation\">]</span><span class=\"token comment\"># docker images | grep bigdata</span>\nbigdata                                                  latest    78d3e81ed5ac   <span class=\"token number\">4</span> hours ago   <span class=\"token number\">5</span>.57GB<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n\n\n\n<h3 id=\"4-2-Hadoop\"><a href=\"#4-2-Hadoop\" class=\"headerlink\" title=\"4.2 Hadoop\"></a>4.2 Hadoop</h3><p><strong></strong></p>\n<blockquote>\n<p>master:</p>\n</blockquote>\n<p>:</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">docker</span> run <span class=\"token parameter variable\">-id</span> <span class=\"token parameter variable\">--name</span> master <span class=\"token parameter variable\">--hostname</span> master <span class=\"token parameter variable\">--net</span> mynet <span class=\"token parameter variable\">--privileged</span><span class=\"token operator\">=</span>true <span class=\"token parameter variable\">-v</span> /sys/fs/cgroup:/sys/fs/cgroup <span class=\"token parameter variable\">-P</span> <span class=\"token parameter variable\">-p</span> <span class=\"token number\">50070</span>:50070 <span class=\"token parameter variable\">-p</span> <span class=\"token number\">8088</span>:8088 bigdata /usr/sbin/init<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p>:star: :</p>\n<p>docker:</p>\n<p>(IP<code>192.168.1.0/24</code>)</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">sudo</span> <span class=\"token function\">docker</span> network create <span class=\"token parameter variable\">--subnet</span><span class=\"token operator\">=</span><span class=\"token number\">192.168</span>.1.0/24 mynet<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p>master,ip192.168.1.10:</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">sudo</span> <span class=\"token function\">docker</span> run <span class=\"token parameter variable\">-d</span> <span class=\"token parameter variable\">--privileged</span> <span class=\"token parameter variable\">--name</span> master <span class=\"token parameter variable\">--hostname</span> master <span class=\"token parameter variable\">--network</span> mynet <span class=\"token parameter variable\">--ip</span> <span class=\"token number\">192.168</span>.1.10 <span class=\"token punctuation\">\\</span>\n  <span class=\"token parameter variable\">-p</span> <span class=\"token number\">16010</span>:16010 <span class=\"token parameter variable\">-p</span> <span class=\"token number\">2181</span>:2181 <span class=\"token parameter variable\">-p</span> <span class=\"token number\">3306</span>:3306 <span class=\"token parameter variable\">-p</span> <span class=\"token number\">6379</span>:6379 <span class=\"token parameter variable\">-p</span> <span class=\"token number\">8031</span>:8031 <span class=\"token parameter variable\">-p</span> <span class=\"token number\">8032</span>:8032 <span class=\"token punctuation\">\\</span>\n  <span class=\"token parameter variable\">-p</span> <span class=\"token number\">8033</span>:8033 <span class=\"token parameter variable\">-p</span> <span class=\"token number\">8080</span>:8080 <span class=\"token parameter variable\">-p</span> <span class=\"token number\">8081</span>:8081 <span class=\"token parameter variable\">-p</span> <span class=\"token number\">8020</span>:8020 <span class=\"token parameter variable\">-p</span> <span class=\"token number\">8088</span>:8088 <span class=\"token parameter variable\">-p</span> <span class=\"token number\">8123</span>:8123 <span class=\"token punctuation\">\\</span>\n  <span class=\"token parameter variable\">-p</span> <span class=\"token number\">9000</span>:9000 <span class=\"token parameter variable\">-p</span> <span class=\"token number\">9083</span>:9083 <span class=\"token parameter variable\">-p</span> <span class=\"token number\">9092</span>:9092 <span class=\"token parameter variable\">-p</span> <span class=\"token number\">9866</span>:9866 <span class=\"token parameter variable\">-p</span> <span class=\"token number\">9870</span>:9870 <span class=\"token parameter variable\">-p</span> <span class=\"token number\">10000</span>:10000 <span class=\"token punctuation\">\\</span>\n  <span class=\"token parameter variable\">-p</span> <span class=\"token number\">60010</span>:60010 <span class=\"token parameter variable\">-p</span> <span class=\"token number\">12321</span>:12321 <span class=\"token parameter variable\">-p</span> <span class=\"token number\">4040</span>:4040 <span class=\"token punctuation\">\\</span>\n  <span class=\"token parameter variable\">-v</span> /sys/fs/cgroup:/sys/fs/cgroup <span class=\"token punctuation\">\\</span>\n  bigdata:gxjzy /usr/sbin/init<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n\n\n<blockquote>\n<p>slave1:</p>\n</blockquote>\n<p>:</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">docker</span> run <span class=\"token parameter variable\">-id</span> <span class=\"token parameter variable\">--name</span> slave1 <span class=\"token parameter variable\">--hostname</span> slave1 <span class=\"token parameter variable\">--net</span> mynet <span class=\"token parameter variable\">--privileged</span><span class=\"token operator\">=</span>true <span class=\"token parameter variable\">-P</span> bigdata /usr/sbin/init<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p>:star: :</p>\n<p>master,ip192.168.1.10:</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">sudo</span> <span class=\"token function\">docker</span> run <span class=\"token parameter variable\">-d</span> <span class=\"token parameter variable\">--privileged</span> <span class=\"token parameter variable\">--name</span> slave1 <span class=\"token parameter variable\">--hostname</span> slave1 <span class=\"token parameter variable\">--network</span> mynet <span class=\"token parameter variable\">--ip</span> <span class=\"token number\">192.168</span>.1.20 <span class=\"token punctuation\">\\</span>\n  <span class=\"token parameter variable\">-v</span> /sys/fs/cgroup:/sys/fs/cgroup <span class=\"token punctuation\">\\</span>\n  bigdata:gxjzy /usr/sbin/init<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n\n\n\n\n\n<blockquote>\n<p>slave2:</p>\n</blockquote>\n<p>:</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">docker</span> run <span class=\"token parameter variable\">-id</span> <span class=\"token parameter variable\">--name</span> slave2 <span class=\"token parameter variable\">--hostname</span> slave2 <span class=\"token parameter variable\">--net</span> mynet <span class=\"token parameter variable\">--privileged</span><span class=\"token operator\">=</span>true <span class=\"token parameter variable\">-P</span> bigdata /usr/sbin/init<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p>:star: :</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">sudo</span> <span class=\"token function\">docker</span> run <span class=\"token parameter variable\">-d</span> <span class=\"token parameter variable\">--privileged</span> <span class=\"token parameter variable\">--name</span> slave2 <span class=\"token parameter variable\">--hostname</span> slave2 <span class=\"token parameter variable\">--network</span> mynet <span class=\"token parameter variable\">--ip</span> <span class=\"token number\">192.168</span>.1.30 <span class=\"token punctuation\">\\</span>\n  <span class=\"token parameter variable\">-v</span> /sys/fs/cgroup:/sys/fs/cgroup <span class=\"token punctuation\">\\</span>\n  bigdata:gxjzy /usr/sbin/init<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n\n<p></p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">docker</span> <span class=\"token function\">ps</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p><img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202401080117475.png\" alt=\"image-20240108011713901\"></p>\n<p>iptables()</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">iptables <span class=\"token parameter variable\">-t</span> nat <span class=\"token parameter variable\">-vnL</span>  <span class=\"token comment\">#</span>\n\niptables <span class=\"token parameter variable\">-t</span> nat <span class=\"token parameter variable\">-A</span> DOCKER <span class=\"token parameter variable\">-p</span> tcp <span class=\"token parameter variable\">--dport</span> <span class=\"token number\">8089</span> <span class=\"token parameter variable\">-j</span> DNAT --to-destination <span class=\"token number\">192.168</span>.12.10:8088  <span class=\"token comment\">#</span>\n\niptables <span class=\"token parameter variable\">-t</span> nat <span class=\"token parameter variable\">-vnL</span> DOCKER --line-number <span class=\"token comment\">#</span>\n\niptables <span class=\"token parameter variable\">-t</span> nat <span class=\"token parameter variable\">-D</span> DOCKER <span class=\"token punctuation\">&#123;</span><span class=\"token punctuation\">&#125;</span>  <span class=\"token comment\">#</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p></p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">docker</span> <span class=\"token builtin class-name\">exec</span> <span class=\"token parameter variable\">-it</span> master <span class=\"token function\">bash</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<h2 id=\"5-docker-compose\"><a href=\"#5-docker-compose\" class=\"headerlink\" title=\"5. docker-compose\"></a>5. docker-compose</h2><blockquote>\n<p>docker-compose()</p>\n</blockquote>\n<h3 id=\"5-1-docker-compose-yml\"><a href=\"#5-1-docker-compose-yml\" class=\"headerlink\" title=\"5.1 docker-compose.yml\"></a>5.1 docker-compose.yml</h3><p>ip:</p>\n<table>\n<thead>\n<tr>\n<th></th>\n<th>ip</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>master</td>\n<td>192.168.1.10</td>\n</tr>\n<tr>\n<td>slave1</td>\n<td>192.168.1.20</td>\n</tr>\n<tr>\n<td>slave2</td>\n<td>192.168.1.30</td>\n</tr>\n</tbody></table>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token punctuation\">[</span>root@docker-server ~/bigdata-work<span class=\"token punctuation\">]</span><span class=\"token comment\"># vim docker-compose.yml </span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<pre class=\"line-numbers language-yaml\" data-language=\"yaml\"><code class=\"language-yaml\"><span class=\"token key atrule\">version</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"2.2\"</span>\n<span class=\"token key atrule\">services</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">master</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">restart</span><span class=\"token punctuation\">:</span> always\n    <span class=\"token key atrule\">image</span><span class=\"token punctuation\">:</span> registry.cn<span class=\"token punctuation\">-</span>hangzhou.aliyuncs.com/shangguan<span class=\"token punctuation\">-</span>hj/bigdata<span class=\"token punctuation\">:</span>gxjzy\n    <span class=\"token key atrule\">container_name</span><span class=\"token punctuation\">:</span> master\n    <span class=\"token key atrule\">hostname</span><span class=\"token punctuation\">:</span> master\n    <span class=\"token key atrule\">networks</span><span class=\"token punctuation\">:</span>\n      <span class=\"token key atrule\">mynet</span><span class=\"token punctuation\">:</span>\n        <span class=\"token key atrule\">ipv4_address</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"192.168.1.10\"</span>\n    <span class=\"token key atrule\">privileged</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span>\n    <span class=\"token key atrule\">ports</span><span class=\"token punctuation\">:</span>\n      <span class=\"token punctuation\">-</span> 1022<span class=\"token punctuation\">:</span><span class=\"token number\">22</span>\n      <span class=\"token punctuation\">-</span> 50070<span class=\"token punctuation\">:</span><span class=\"token number\">50070</span>\n      <span class=\"token punctuation\">-</span> 8088<span class=\"token punctuation\">:</span><span class=\"token number\">8088</span>\n    <span class=\"token key atrule\">volumes</span><span class=\"token punctuation\">:</span>\n      <span class=\"token punctuation\">-</span> /sys/fs/cgroup<span class=\"token punctuation\">:</span>/sys/fs/cgroup\n    <span class=\"token key atrule\">command</span><span class=\"token punctuation\">:</span> /usr/sbin/init\n\n  <span class=\"token key atrule\">slave1</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">restart</span><span class=\"token punctuation\">:</span> always\n    <span class=\"token key atrule\">image</span><span class=\"token punctuation\">:</span> registry.cn<span class=\"token punctuation\">-</span>hangzhou.aliyuncs.com/shangguan<span class=\"token punctuation\">-</span>hj/bigdata<span class=\"token punctuation\">:</span>gxjzy\n    <span class=\"token key atrule\">container_name</span><span class=\"token punctuation\">:</span> slave1\n    <span class=\"token key atrule\">hostname</span><span class=\"token punctuation\">:</span> slave1\n    <span class=\"token key atrule\">networks</span><span class=\"token punctuation\">:</span>\n      <span class=\"token key atrule\">mynet</span><span class=\"token punctuation\">:</span>\n        <span class=\"token key atrule\">ipv4_address</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"192.168.1.20\"</span>\n    <span class=\"token key atrule\">privileged</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span>\n    <span class=\"token key atrule\">ports</span><span class=\"token punctuation\">:</span>\n      <span class=\"token punctuation\">-</span> 1023<span class=\"token punctuation\">:</span><span class=\"token number\">22</span>\n    <span class=\"token key atrule\">volumes</span><span class=\"token punctuation\">:</span>\n      <span class=\"token punctuation\">-</span> /sys/fs/cgroup<span class=\"token punctuation\">:</span>/sys/fs/cgroup\n    <span class=\"token key atrule\">command</span><span class=\"token punctuation\">:</span> /usr/sbin/init\n    \n  <span class=\"token key atrule\">slave2</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">restart</span><span class=\"token punctuation\">:</span> always\n    <span class=\"token key atrule\">image</span><span class=\"token punctuation\">:</span> registry.cn<span class=\"token punctuation\">-</span>hangzhou.aliyuncs.com/shangguan<span class=\"token punctuation\">-</span>hj/bigdata<span class=\"token punctuation\">:</span>gxjzy\n    <span class=\"token key atrule\">container_name</span><span class=\"token punctuation\">:</span> slave2\n    <span class=\"token key atrule\">hostname</span><span class=\"token punctuation\">:</span> slave2\n    <span class=\"token key atrule\">networks</span><span class=\"token punctuation\">:</span>\n      <span class=\"token key atrule\">mynet</span><span class=\"token punctuation\">:</span>\n        <span class=\"token key atrule\">ipv4_address</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"192.168.1.30\"</span>\n    <span class=\"token key atrule\">privileged</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span>\n    <span class=\"token key atrule\">ports</span><span class=\"token punctuation\">:</span>\n      <span class=\"token punctuation\">-</span> 1024<span class=\"token punctuation\">:</span><span class=\"token number\">22</span>\n    <span class=\"token key atrule\">volumes</span><span class=\"token punctuation\">:</span>\n      <span class=\"token punctuation\">-</span> /sys/fs/cgroup<span class=\"token punctuation\">:</span>/sys/fs/cgroup\n    <span class=\"token key atrule\">command</span><span class=\"token punctuation\">:</span> /usr/sbin/init\n\n<span class=\"token comment\"># </span>\n<span class=\"token key atrule\">networks</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">mynet</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">ipam</span><span class=\"token punctuation\">:</span>\n      <span class=\"token key atrule\">config</span><span class=\"token punctuation\">:</span>\n      <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">subnet</span><span class=\"token punctuation\">:</span> 192.168.1.0/24<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h3 id=\"5-2-docker\"><a href=\"#5-2-docker\" class=\"headerlink\" title=\"5.2 docker\"></a>5.2 docker</h3><pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token punctuation\">[</span>root@docker-server ~/bigdata-work<span class=\"token punctuation\">]</span><span class=\"token comment\"># docker-compose up -d</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p><img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202312111500849.png\" alt=\"image-20231211150006708\"></p>\n<h3 id=\"5-3-\"><a href=\"#5-3-\" class=\"headerlink\" title=\"5.3 \"></a>5.3 </h3><h4 id=\"5-3-1--\"><a href=\"#5-3-1--\" class=\"headerlink\" title=\"5.3.1 ():\"></a>5.3.1 ():</h4><pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token punctuation\">[</span>root@docker-server ~/bigdata-work<span class=\"token punctuation\">]</span><span class=\"token comment\"># docker-compose ps</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p><img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202312111501626.png\" alt=\"image-20231211150148532\"></p>\n<h4 id=\"5-3-2-\"><a href=\"#5-3-2-\" class=\"headerlink\" title=\"5.3.2 :\"></a>5.3.2 :</h4><pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token punctuation\">[</span>root@docker-server ~/bigdata-work<span class=\"token punctuation\">]</span><span class=\"token comment\"># docker ps</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p><img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202312111502108.png\" alt=\"image-20231211150204022\"></p>\n<h3 id=\"5-4-\"><a href=\"#5-4-\" class=\"headerlink\" title=\"5.4 \"></a>5.4 </h3><p><strong>master:</strong></p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token punctuation\">[</span>root@docker-server ~/bigdata-work<span class=\"token punctuation\">]</span><span class=\"token comment\"># docker exec -it master bash</span>\n<span class=\"token punctuation\">[</span>root@master /<span class=\"token punctuation\">]</span><span class=\"token comment\"># ip a</span>\n<span class=\"token number\">1</span>: lo: <span class=\"token operator\">&lt;</span>LOOPBACK,UP,LOWER_UP<span class=\"token operator\">></span> mtu <span class=\"token number\">65536</span> qdisc noqueue state UNKNOWN group default qlen <span class=\"token number\">1000</span>\n    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00\n    inet <span class=\"token number\">127.0</span>.0.1/8 scope <span class=\"token function\">host</span> lo\n       valid_lft forever preferred_lft forever\n<span class=\"token number\">96</span>: eth0@if97: <span class=\"token operator\">&lt;</span>BROADCAST,MULTICAST,UP,LOWER_UP<span class=\"token operator\">></span> mtu <span class=\"token number\">1500</span> qdisc noqueue state UP group default \n    link/ether 02:42:c0:a8:01:02 brd ff:ff:ff:ff:ff:ff link-netnsid <span class=\"token number\">0</span>\n    inet <span class=\"token number\">192.168</span>.1.2/24 brd <span class=\"token number\">192.168</span>.1.255 scope global eth0\n       valid_lft forever preferred_lft forever\n<span class=\"token punctuation\">[</span>root@master /<span class=\"token punctuation\">]</span><span class=\"token comment\"># </span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p><strong>slave1:</strong></p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token punctuation\">[</span>root@docker-server ~/bigdata-work<span class=\"token punctuation\">]</span><span class=\"token comment\"># docker exec -it slave1 bash</span>\n<span class=\"token punctuation\">[</span>root@slave1 /<span class=\"token punctuation\">]</span><span class=\"token comment\"># ip a</span>\n<span class=\"token number\">1</span>: lo: <span class=\"token operator\">&lt;</span>LOOPBACK,UP,LOWER_UP<span class=\"token operator\">></span> mtu <span class=\"token number\">65536</span> qdisc noqueue state UNKNOWN group default qlen <span class=\"token number\">1000</span>\n    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00\n    inet <span class=\"token number\">127.0</span>.0.1/8 scope <span class=\"token function\">host</span> lo\n       valid_lft forever preferred_lft forever\n<span class=\"token number\">34</span>: eth0@if35: <span class=\"token operator\">&lt;</span>BROADCAST,MULTICAST,UP,LOWER_UP<span class=\"token operator\">></span> mtu <span class=\"token number\">1500</span> qdisc noqueue state UP group default \n    link/ether 02:42:c0:a8:01:04 brd ff:ff:ff:ff:ff:ff link-netnsid <span class=\"token number\">0</span>\n    inet <span class=\"token number\">192.168</span>.1.4/24 brd <span class=\"token number\">192.168</span>.1.255 scope global eth0\n       valid_lft forever preferred_lft forever\n<span class=\"token punctuation\">[</span>root@slave1 /<span class=\"token punctuation\">]</span><span class=\"token comment\"># </span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p><strong>slave2:</strong></p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token punctuation\">[</span>root@docker-server ~/bigdata-work<span class=\"token punctuation\">]</span><span class=\"token comment\"># docker exec -it slave2 bash</span>\n<span class=\"token punctuation\">[</span>root@slave2 /<span class=\"token punctuation\">]</span><span class=\"token comment\"># ip a</span>\n<span class=\"token number\">1</span>: lo: <span class=\"token operator\">&lt;</span>LOOPBACK,UP,LOWER_UP<span class=\"token operator\">></span> mtu <span class=\"token number\">65536</span> qdisc noqueue state UNKNOWN group default qlen <span class=\"token number\">1000</span>\n    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00\n    inet <span class=\"token number\">127.0</span>.0.1/8 scope <span class=\"token function\">host</span> lo\n       valid_lft forever preferred_lft forever\n<span class=\"token number\">32</span>: eth0@if33: <span class=\"token operator\">&lt;</span>BROADCAST,MULTICAST,UP,LOWER_UP<span class=\"token operator\">></span> mtu <span class=\"token number\">1500</span> qdisc noqueue state UP group default \n    link/ether 02:42:c0:a8:01:03 brd ff:ff:ff:ff:ff:ff link-netnsid <span class=\"token number\">0</span>\n    inet <span class=\"token number\">192.168</span>.1.3/24 brd <span class=\"token number\">192.168</span>.1.255 scope global eth0\n       valid_lft forever preferred_lft forever\n<span class=\"token punctuation\">[</span>root@slave2 /<span class=\"token punctuation\">]</span><span class=\"token comment\"># </span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n\n\n<h3 id=\"5-5-xshell\"><a href=\"#5-5-xshell\" class=\"headerlink\" title=\"5.5 xshell\"></a>5.5 xshell</h3><p>&#x3D;&#x3D;ssh&#x3D;&#x3D;</p>\n<blockquote>\n<p>master</p>\n</blockquote>\n<p><img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202312111517302.png\"></p>\n<p><img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202312111515957.png\" alt=\"image-20231211151542886\"></p>\n<blockquote>\n<p>slave1</p>\n</blockquote>\n<p><img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202312111516827.png\" alt=\"image-20231211151638743\"></p>\n<p><img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202312111516374.png\" alt=\"image-20231211151651296\"></p>\n<blockquote>\n<p>slave2</p>\n</blockquote>\n<p><img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202312111518533.png\" alt=\"image-20231211151809445\"></p>\n<p><img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202312111518365.png\" alt=\"image-20231211151826289\"></p>\n<p></p>\n<h2 id=\"6-asbru-cm\"><a href=\"#6-asbru-cm\" class=\"headerlink\" title=\"6. asbru-cm\"></a>6. asbru-cm</h2><p>1</p>\n<p><img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202401080134495.png\" alt=\"image-20230320175907854\"></p>\n<p>2</p>\n<p><img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202401080134744.png\" alt=\"image-20230320180309740\"></p>\n","site":{"data":{"friends":[{"avatar":"https://cdn.jsdelivr.net/gh/wylblog/cdn@master/static/image/sidebar/avatar_wyl.jpg","name":"","introduction":"","url":"https://wylblog.github.io","title":"Read More"},{"avatar":"https://img.picui.cn/free/2024/11/10/67304c2431937.jpg","name":"","introduction":".","url":"https://almost181209.github.io/","title":"Read More"}]}},"excerpt":"","more":"<h2 id=\"1-ubuntu-\"><a href=\"#1-ubuntu-\" class=\"headerlink\" title=\"1.ubuntu \"></a>1.ubuntu </h2><p><code>ubuntu 18.04</code></p>\n<p>UbunturootUbunturoot</p>\n<h3 id=\"1-1root\"><a href=\"#1-1root\" class=\"headerlink\" title=\"1.1root\"></a>1.1root</h3><p>1.Ubuntu<br>Ubuntu</p>\n<p>2.sudo passwd root</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">sudo</span> <span class=\"token function\">passwd</span> root<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p><img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202309241324207.png\" alt=\"image-20230320172400074\"></p>\n<p></p>\n<p><strong>su -</strong> </p>\n<h3 id=\"1-2-\"><a href=\"#1-2-\" class=\"headerlink\" title=\"1.2 \"></a>1.2 </h3><p>docker</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">sudo</span> <span class=\"token function\">apt</span> <span class=\"token function\">install</span> <span class=\"token function\">vim</span> \n<span class=\"token function\">sudo</span> <span class=\"token function\">cp</span> /etc/apt/sources.list /etc/apt/sources.list.bak\t\t\n<span class=\"token function\">sudo</span> <span class=\"token function\">vi</span> /etc/apt/sources.list    <span class=\"token comment\">#</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n\n<p></p>\n<p><a href=\"https://mirrors.tuna.tsinghua.edu.cn/help/ubuntu/\">ubuntu |  |  | Tsinghua Open Source Mirror</a></p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token comment\">#  apt update </span>\ndeb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic main restricted universe multiverse\n<span class=\"token comment\"># deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic main restricted universe multiverse</span>\ndeb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic-updates main restricted universe multiverse\n<span class=\"token comment\"># deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic-updates main restricted universe multiverse</span>\ndeb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic-backports main restricted universe multiverse\n<span class=\"token comment\"># deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic-backports main restricted universe multiverse</span>\n\n<span class=\"token comment\"># deb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic-security main restricted universe multiverse</span>\n<span class=\"token comment\"># # deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic-security main restricted universe multiverse</span>\n\ndeb http://security.ubuntu.com/ubuntu/ bionic-security main restricted universe multiverse\n<span class=\"token comment\"># deb-src http://security.ubuntu.com/ubuntu/ bionic-security main restricted universe multiverse</span>\n\n<span class=\"token comment\"># </span>\n<span class=\"token comment\"># deb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic-proposed main restricted universe multiverse</span>\n<span class=\"token comment\"># # deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic-proposed main restricted universe multiverse</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token comment\">#</span>\n<span class=\"token function\">sudo</span> <span class=\"token function\">apt</span> update<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n\n<h3 id=\"1-3-ssh\"><a href=\"#1-3-ssh\" class=\"headerlink\" title=\"1.3 ssh\"></a>1.3 ssh</h3><p>xshell</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">sudo</span> <span class=\"token function\">apt</span> <span class=\"token function\">install</span> openssh-server <span class=\"token parameter variable\">-y</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p>windows Ubuntu </p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">sudo</span> <span class=\"token function\">apt-get</span> autoremove open-vm-tools <span class=\"token parameter variable\">-y</span>\t//\n<span class=\"token function\">sudo</span> <span class=\"token function\">apt-get</span> <span class=\"token function\">install</span> open-vm-tools <span class=\"token parameter variable\">-y</span>\t\t//open-vm-tools\n<span class=\"token function\">sudo</span> <span class=\"token function\">apt-get</span> <span class=\"token function\">install</span> open-vm-tools-desktop <span class=\"token parameter variable\">-y</span> //open-vm-tools-desktop<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n\n<p>ubuntuasbru-cm</p>\n<p>Asbru-CMWeb</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">sudo</span> <span class=\"token function\">apt</span> <span class=\"token function\">install</span> <span class=\"token function\">curl</span> <span class=\"token parameter variable\">-y</span>\n\n<span class=\"token function\">curl</span> <span class=\"token parameter variable\">-s</span> https://packagecloud.io/install/repositories/asbru-cm/asbru-cm/script.deb.sh <span class=\"token operator\">|</span> <span class=\"token function\">sudo</span> <span class=\"token function\">bash</span>\n\n<span class=\"token function\">sudo</span> <span class=\"token function\">apt</span> <span class=\"token function\">install</span> asbru-cm <span class=\"token parameter variable\">-y</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n\n\n<h2 id=\"2-Docker\"><a href=\"#2-Docker\" class=\"headerlink\" title=\"2. Docker\"></a>2. Docker</h2><p>,docker,docker</p>\n<p><a href=\"https://blog.csdn.net/single_0910/article/details/120562065\">Ubuntu18.04Docker_ubuntu-CSDN</a></p>\n<h3 id=\"2-1-dockerdocker\"><a href=\"#2-1-dockerdocker\" class=\"headerlink\" title=\"2.1 dockerdocker\"></a>2.1 dockerdocker</h3><pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">sudo</span> <span class=\"token function\">apt-get</span> remove <span class=\"token function\">docker</span> docker-engine docker.io containerd runc<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<h3 id=\"2-2-\"><a href=\"#2-2-\" class=\"headerlink\" title=\"2.2 \"></a>2.2 </h3><h4 id=\"2-2-1-\"><a href=\"#2-2-1-\" class=\"headerlink\" title=\"2.2.1 \"></a>2.2.1 </h4><pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">sudo</span> <span class=\"token function\">apt-get</span> update<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<h4 id=\"2-2-2-\"><a href=\"#2-2-2-\" class=\"headerlink\" title=\"2.2.2 \"></a>2.2.2 </h4><pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">sudo</span> <span class=\"token function\">apt-get</span> <span class=\"token function\">install</span> apt-transport-https ca-certificates <span class=\"token function\">curl</span> gnupg lsb-release <span class=\"token parameter variable\">-y</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<h4 id=\"2-2-3-dockerGPG-key\"><a href=\"#2-2-3-dockerGPG-key\" class=\"headerlink\" title=\"2.2.3 dockerGPG key\"></a>2.2.3 dockerGPG key</h4><p>gpgkey </p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">sudo</span> <span class=\"token function\">curl</span> <span class=\"token parameter variable\">-fsSL</span> http://mirrors.aliyun.com/docker-ce/linux/ubuntu/gpg <span class=\"token operator\">|</span> <span class=\"token function\">sudo</span> gpg <span class=\"token parameter variable\">--dearmor</span> <span class=\"token parameter variable\">-o</span> /usr/share/keyrings/docker-archive-keyring.gpg<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p>2.2.4 </p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">sudo</span> <span class=\"token builtin class-name\">echo</span> <span class=\"token string\">\"deb [arch=amd64 signed-by=/usr/share/keyrings/docker-archive-keyring.gpg] http://mirrors.aliyun.com/docker-ce/linux/ubuntu/gpg<span class=\"token variable\"><span class=\"token variable\">$(</span>lsb_release <span class=\"token parameter variable\">-cs</span><span class=\"token variable\">)</span></span> stable\"</span> <span class=\"token operator\">|</span> <span class=\"token function\">sudo</span> <span class=\"token function\">tee</span> /etc/apt/sources.list.d/docker.list <span class=\"token operator\">></span> /dev/null<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<h3 id=\"2-3-docker\"><a href=\"#2-3-docker\" class=\"headerlink\" title=\"2.3 docker\"></a>2.3 docker</h3><h4 id=\"2-3-1-\"><a href=\"#2-3-1-\" class=\"headerlink\" title=\"2.3.1 \"></a>2.3.1 </h4><pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">sudo</span> <span class=\"token function\">apt-get</span> update<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<h4 id=\"2-3-2-docker-ce\"><a href=\"#2-3-2-docker-ce\" class=\"headerlink\" title=\"2.3.2 docker-ce\"></a>2.3.2 docker-ce</h4><pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">sudo</span> <span class=\"token function\">apt-get</span> <span class=\"token function\">install</span> docker-ce docker-ce-cli containerd.io <span class=\"token parameter variable\">-y</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<h3 id=\"2-4-docker\"><a href=\"#2-4-docker\" class=\"headerlink\" title=\"2.4 docker\"></a>2.4 docker</h3><p>docker</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">ps</span> aux<span class=\"token operator\">|</span><span class=\"token function\">grep</span> <span class=\"token function\">docker</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p><img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202309241324877.png\" alt=\"image-20230812180124831\"></p>\n<p></p>\n<h2 id=\"3-Docker-\"><a href=\"#3-Docker-\" class=\"headerlink\" title=\"3. Docker \"></a>3. Docker </h2><h3 id=\"3-1-\"><a href=\"#3-1-\" class=\"headerlink\" title=\"3.1 \"></a>3.1 </h3><pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">sudo</span> <span class=\"token function\">service</span> <span class=\"token function\">docker</span> start  <span class=\"token comment\"># Docker</span>\n<span class=\"token function\">sudo</span> <span class=\"token function\">service</span> <span class=\"token function\">docker</span> stop  <span class=\"token comment\"># Docker</span>\n<span class=\"token function\">sudo</span> <span class=\"token function\">service</span> <span class=\"token function\">docker</span> restart  <span class=\"token comment\"># Docker</span>\n<span class=\"token function\">sudo</span> <span class=\"token function\">service</span> <span class=\"token function\">docker</span> status  <span class=\"token comment\"># Docker</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token comment\">#docker</span>\n<span class=\"token function\">docker</span> <span class=\"token function\">ps</span>    <span class=\"token comment\">#</span>\n<span class=\"token function\">docker</span> <span class=\"token function\">ps</span> <span class=\"token parameter variable\">-a</span>    <span class=\"token comment\">#</span>\n<span class=\"token function\">docker</span> <span class=\"token function\">rm</span> <span class=\"token parameter variable\">-f</span> <span class=\"token variable\"><span class=\"token variable\">$(</span><span class=\"token function\">docker</span> <span class=\"token function\">ps</span> <span class=\"token parameter variable\">-aq</span><span class=\"token variable\">)</span></span>  <span class=\"token comment\">#</span>\n<span class=\"token function\">docker</span> images  <span class=\"token comment\">#docker</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token comment\">#,</span>\n<span class=\"token function\">docker</span> load <span class=\"token operator\">&lt;</span> /home/hj//bigdata.tar\n<span class=\"token function\">docker</span> load <span class=\"token parameter variable\">-i</span> <span class=\"token operator\">&lt;</span> /home/hj//bigdata.tar\n<span class=\"token comment\">#,</span>\n<span class=\"token function\">docker</span> <span class=\"token function\">import</span> \n\n<span class=\"token comment\">#</span>\n<span class=\"token function\">docker</span> rmi ID\n\n<span class=\"token comment\">#</span>\n<span class=\"token function\">docker</span> <span class=\"token function\">rm</span> <span class=\"token parameter variable\">-f</span> <span class=\"token variable\"><span class=\"token variable\">$(</span><span class=\"token function\">docker</span> <span class=\"token function\">ps</span> <span class=\"token parameter variable\">-aq</span><span class=\"token variable\">)</span></span>\n<span class=\"token function\">docker</span> <span class=\"token function\">rm</span> \n\n<span class=\"token comment\">#</span>\n<span class=\"token function\">docker</span> start id\n\n<span class=\"token comment\">#</span>\n<span class=\"token function\">docker</span> <span class=\"token builtin class-name\">exec</span> <span class=\"token parameter variable\">-it</span> id /bin/bash\n\n<span class=\"token comment\">#</span>\n<span class=\"token function\">sudo</span> <span class=\"token function\">docker</span> commit <span class=\"token parameter variable\">-a</span> <span class=\"token string\">\"\"</span> <span class=\"token parameter variable\">-m</span> <span class=\"token string\">\"\"</span>  :\n\n<span class=\"token function\">docker</span> \n<span class=\"token function\">docker</span> <span class=\"token function\">cp</span> /home/hj/clickhouse-21.9.4.35tgz master:/opt/\n\n\n<span class=\"token function\">docker</span> <span class=\"token function\">cp</span> master:/opt/ /home/hj<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h3 id=\"3-2-Docker-\"><a href=\"#3-2-Docker-\" class=\"headerlink\" title=\"3.2 Docker \"></a>3.2 Docker </h3><h4 id=\"3-2-1-\"><a href=\"#3-2-1-\" class=\"headerlink\" title=\"3.2.1 \"></a>3.2.1 </h4><pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">docker</span> images<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p><img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202309241324626.png\" alt=\"image-20230812180956921\"></p>\n<table>\n<thead>\n<tr>\n<th></th>\n<th></th>\n</tr>\n</thead>\n<tbody><tr>\n<td>REPOSITORY</td>\n<td></td>\n</tr>\n<tr>\n<td>TAG</td>\n<td>()</td>\n</tr>\n<tr>\n<td>IMAGEID</td>\n<td>ID</td>\n</tr>\n<tr>\n<td>CREATED</td>\n<td>()</td>\n</tr>\n<tr>\n<td>SIZE</td>\n<td></td>\n</tr>\n</tbody></table>\n<h4 id=\"3-2-2-\"><a href=\"#3-2-2-\" class=\"headerlink\" title=\"3.2.2 \"></a>3.2.2 </h4><pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">docker</span> search <span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<h4 id=\"3-2-3-\"><a href=\"#3-2-3-\" class=\"headerlink\" title=\"3.2.3 \"></a>3.2.3 </h4><p>pull</p>\n<p> latest </p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">docker</span> pull /<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<h4 id=\"3-2-4-\"><a href=\"#3-2-4-\" class=\"headerlink\" title=\"3.2.4 \"></a>3.2.4 </h4><p></p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token comment\">#</span>\n<span class=\"token function\">docker</span> rmi ID\n<span class=\"token comment\">#</span>\n<span class=\"token function\">docker</span> rmi <span class=\"token parameter variable\">-f</span> ID<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h4 id=\"3-2-5-\"><a href=\"#3-2-5-\" class=\"headerlink\" title=\"3.2.5 \"></a>3.2.5 </h4><pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token comment\">#1</span>\n<span class=\"token function\">docker</span> load <span class=\"token operator\">&lt;</span> \n<span class=\"token comment\">#2</span>\n<span class=\"token function\">sudo</span> <span class=\"token function\">docker</span> load <span class=\"token parameter variable\">-i</span> <span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h4 id=\"3-2-6-\"><a href=\"#3-2-6-\" class=\"headerlink\" title=\"3.2.6 \"></a>3.2.6 </h4><pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">docker</span> save o /opt/.tar :<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<h3 id=\"3-3-Docker\"><a href=\"#3-3-Docker\" class=\"headerlink\" title=\"3.3 Docker\"></a>3.3 Docker</h3><h4 id=\"3-3-1-\"><a href=\"#3-3-1-\" class=\"headerlink\" title=\"3.3.1 \"></a>3.3.1 </h4><pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">docker</span> run <span class=\"token punctuation\">[</span>option<span class=\"token punctuation\">]</span> :tag <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p> </p>\n<table>\n<thead>\n<tr>\n<th></th>\n<th></th>\n</tr>\n</thead>\n<tbody><tr>\n<td>-i</td>\n<td></td>\n</tr>\n<tr>\n<td>-t</td>\n<td></td>\n</tr>\n<tr>\n<td>name</td>\n<td></td>\n</tr>\n<tr>\n<td>-v</td>\n<td>( :)-v : </td>\n</tr>\n<tr>\n<td>-d</td>\n<td>run-d,( -i -t )</td>\n</tr>\n<tr>\n<td>-p</td>\n<td>-p </td>\n</tr>\n<tr>\n<td>-e</td>\n<td></td>\n</tr>\n<tr>\n<td>network</td>\n<td></td>\n</tr>\n</tbody></table>\n<h4 id=\"3-3-2-\"><a href=\"#3-3-2-\" class=\"headerlink\" title=\"3.3.2 \"></a>3.3.2 </h4><pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">docker</span> <span class=\"token builtin class-name\">exec</span> <span class=\"token parameter variable\">-it</span> ID /bin/bash<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<h4 id=\"3-3-3-\"><a href=\"#3-3-3-\" class=\"headerlink\" title=\"3.3.3 \"></a>3.3.3 </h4><pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">docker</span> <span class=\"token function\">ps</span>     <span class=\"token comment\">#</span>\n<span class=\"token function\">docker</span> <span class=\"token function\">ps</span> a    <span class=\"token comment\">#</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n\n<h4 id=\"3-3-4-\"><a href=\"#3-3-4-\" class=\"headerlink\" title=\"3.3.4 \"></a>3.3.4 </h4><pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">docker</span> start ID<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<h4 id=\"3-3-5-\"><a href=\"#3-3-5-\" class=\"headerlink\" title=\"3.3.5 \"></a>3.3.5 </h4><pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">docker</span> stop ID<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<h4 id=\"3-3-6-\"><a href=\"#3-3-6-\" class=\"headerlink\" title=\"3.3.6 \"></a>3.3.6 </h4><p></p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">docker</span> <span class=\"token function\">rm</span> ID <span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<h4 id=\"3-3-7-\"><a href=\"#3-3-7-\" class=\"headerlink\" title=\"3.3.7 \"></a>3.3.7 </h4><pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">docker</span> commit <span class=\"token punctuation\">[</span>OPTIONS<span class=\"token punctuation\">]</span> CONTAINER <span class=\"token punctuation\">[</span>REPOSITORY<span class=\"token punctuation\">]</span>:<span class=\"token punctuation\">[</span>TAG<span class=\"token punctuation\">]</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p>OPTIONS</p>\n<p>-a :</p>\n<p>-c :Dockerfile</p>\n<p>-m :</p>\n<p>-p :commit</p>\n<p>$ docker commit  :tag</p>\n<h3 id=\"3-4-docker\"><a href=\"#3-4-docker\" class=\"headerlink\" title=\"3.4 docker\"></a>3.4 docker</h3><h4 id=\"3-4-1-Docker\"><a href=\"#3-4-1-Docker\" class=\"headerlink\" title=\"3.4.1 Docker\"></a>3.4.1 Docker</h4><p><code>Docker3bridgehostnone</code></p>\n<p>Dockerdocker0172.17.0.1&#x2F;16docker0ip</p>\n<table>\n<thead>\n<tr>\n<th align=\"left\">bridge </th>\n</tr>\n</thead>\n<tbody><tr>\n<td align=\"left\">1IPdocker0</td>\n</tr>\n<tr>\n<td align=\"left\">2IP</td>\n</tr>\n<tr>\n<td align=\"left\">3</td>\n</tr>\n<tr>\n<td align=\"left\">4docker</td>\n</tr>\n</tbody></table>\n<table>\n<thead>\n<tr>\n<th align=\"left\">host </th>\n</tr>\n</thead>\n<tbody><tr>\n<td align=\"left\">1dockerip</td>\n</tr>\n<tr>\n<td align=\"left\">2docker</td>\n</tr>\n<tr>\n<td align=\"left\">3</td>\n</tr>\n</tbody></table>\n<table>\n<thead>\n<tr>\n<th align=\"left\">overlay </th>\n</tr>\n</thead>\n<tbody><tr>\n<td align=\"left\">ip</td>\n</tr>\n<tr>\n<td align=\"left\">docker</td>\n</tr>\n<tr>\n<td align=\"left\"></td>\n</tr>\n<tr>\n<td align=\"left\"> windows</td>\n</tr>\n</tbody></table>\n<p><code></code></p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">docker</span> network <span class=\"token function\">ls</span>            <span class=\"token comment\">#</span>\n<span class=\"token function\">docker</span> network inspect    <span class=\"token comment\">#</span>\n\n<span class=\"token comment\">#default bridge   </span>\n\n<span class=\"token function\">docker</span> network create <span class=\"token parameter variable\">--driver</span> bridge <span class=\"token parameter variable\">--subnet</span> <span class=\"token number\">192.168</span>.1.1/24 <span class=\"token parameter variable\">--gateway</span> <span class=\"token number\">192.168</span>.1.1 mynet <span class=\"token comment\">#mynet</span>\n\n<span class=\"token function\">docker</span> network <span class=\"token function\">rm</span> id  <span class=\"token comment\">#</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h2 id=\"4-DockerCentos7\"><a href=\"#4-DockerCentos7\" class=\"headerlink\" title=\"4.DockerCentos7\"></a>4.DockerCentos7</h2><h3 id=\"4-1-Dockerfile\"><a href=\"#4-1-Dockerfile\" class=\"headerlink\" title=\"4.1 Dockerfile\"></a>4.1 Dockerfile</h3><p>Pullcentos7sshjdkhadoophadoop</p>\n<blockquote>\n<p>:</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">registry.cn-hangzhou.aliyuncs.com&#x2F;shangguan-hj&#x2F;bigdata:gxjzy<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p></p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">docker pull registry.cn-hangzhou.aliyuncs.com&#x2F;510_repo&#x2F;bigdata:gxjzy<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n</blockquote>\n<h4 id=\"4-1-2-dockerfile\"><a href=\"#4-1-2-dockerfile\" class=\"headerlink\" title=\"4.1.2 dockerfile\"></a>4.1.2 dockerfile</h4><pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token comment\"># os  </span>\nFROM centos:7\n<span class=\"token comment\"># openssh-serversudo  </span>\nRUN yum <span class=\"token function\">install</span> <span class=\"token parameter variable\">-y</span> <span class=\"token parameter variable\">--nogpgcheck</span> openssh-server <span class=\"token function\">sudo</span>\n<span class=\"token comment\">#openssh-clients</span>\nRUN yum <span class=\"token function\">install</span> <span class=\"token parameter variable\">-y</span> <span class=\"token parameter variable\">--nogpgcheck</span> openssh-clients\n<span class=\"token comment\"># sshrootssh</span>\nRUN <span class=\"token function\">sed</span> <span class=\"token parameter variable\">-i</span> <span class=\"token string\">'s/ GSSAPIAuthentication yes /#GSSAPIAuthentication yes/g'</span> /etc/ssh/sshd_config\nRUN <span class=\"token function\">sed</span> <span class=\"token parameter variable\">-i</span> <span class=\"token string\">'s/ GSSAPICleanupCredentials no /#GSSAPICleanupCredentials no/g'</span> /etc/ssh/sshd_config\n\n<span class=\"token comment\">#initscripts ip addr </span>\nRUN yum <span class=\"token function\">install</span> <span class=\"token parameter variable\">-y</span> <span class=\"token parameter variable\">--nogpgcheck</span> initscripts\n\n<span class=\"token comment\"># </span>\nRUN yum <span class=\"token function\">install</span> firewalld <span class=\"token parameter variable\">-y</span>\n\n<span class=\"token comment\">#which  hadoop  </span>\nRUN yum <span class=\"token function\">install</span> <span class=\"token function\">which</span> <span class=\"token parameter variable\">-y</span>\n\n<span class=\"token comment\">#mysql  libnuma.so.1 </span>\nRUN yum <span class=\"token function\">install</span> numactl <span class=\"token parameter variable\">-y</span>\nRUN yum <span class=\"token function\">install</span> libaio <span class=\"token parameter variable\">-y</span>\nRUN yum <span class=\"token function\">install</span> libnuma.so.1 <span class=\"token parameter variable\">-y</span>\n\n\n<span class=\"token comment\"># root123sudoers  </span>\nRUN <span class=\"token builtin class-name\">echo</span> <span class=\"token string\">\"root:123\"</span> <span class=\"token operator\">|</span> chpasswd\nRUN <span class=\"token builtin class-name\">echo</span> <span class=\"token string\">\"root   ALL=(ALL)       ALL\"</span> <span class=\"token operator\">>></span> /etc/sudoers\n\n<span class=\"token comment\"># sshd22  </span>\nRUN <span class=\"token function\">mkdir</span> /var/run/sshd\nEXPOSE <span class=\"token number\">22</span>\nCMD <span class=\"token punctuation\">[</span><span class=\"token string\">\"/usr/sbin/sshd\"</span>, <span class=\"token string\">\"-D\"</span><span class=\"token punctuation\">]</span>\nRUN <span class=\"token function\">mkdir</span> /opt/<span class=\"token punctuation\">&#123;</span>software,module<span class=\"token punctuation\">&#125;</span>\n<span class=\"token comment\">#docker build -t\"centos-ssh-root\" . </span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>build</p>\n<p>docker build -t . </p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">docker</span> build -t<span class=\"token string\">\"centos-ssh-root\"</span> <span class=\"token builtin class-name\">.</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p><img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202309241324924.png\" alt=\"image-20230812190933232\"></p>\n<p></p>\n<p> <img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202309241324183.png\" alt=\"image-20230812191126430\"></p>\n<h4 id=\"4-1-3-Dockerfile\"><a href=\"#4-1-3-Dockerfile\" class=\"headerlink\" title=\"4.1.3 Dockerfile\"></a>4.1.3 Dockerfile</h4><p>ssh22root</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token comment\">#</span>\nFROM centos-ssh-root\nCOPY apache-flume-1.9.0-bin.tar.gz /opt/software/\nCOPY apache-hive-3.1.2-bin.tar.gz /opt/software/\nCOPY flink-1.14.0-bin-scala_2.12.tgz /opt/software/\nCOPY hadoop-3.1.3.tar.gz /opt/software/\nCOPY hbase-2.2.3-bin.tar.gz /opt/software/\nCOPY jdk-8u162-linux-x64.tar.gz /opt/software/\nCOPY kafka_2.12-2.4.1.tgz /opt/software/\nCOPY maxwell-1.29.0.tar.gz /opt/software/\nCOPY redis-6.2.6.tar.gz /opt/software/\nCOPY scala-2.12.0.tgz /opt/software/\nCOPY spark-3.1.1-bin-hadoop3.2.tgz /opt/software/\nCOPY clickhouse-21.9.4.35 /opt/software/\nCOPY mysql /opt/software/\nCOPY zookeeper-3.4.6.tar.gz /opt/software/\nCOPY sqoop-1.4.2.bin__hadoop-2.0.0-alpha.tar.gz /opt/software/\n\n<span class=\"token comment\">#docker build -t\"bigdata\" . </span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>build</p>\n<p>docker build -t . </p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">docker</span> build -t<span class=\"token string\">\"bigdata\"</span> <span class=\"token builtin class-name\">.</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p><img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202309241324473.png\" alt=\"image-20230812191358805\"></p>\n<p></p>\n<p><img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202309241324220.png\" alt=\"image-20230812192151801\"></p>\n<h4 id=\"4-1-4-star-\"><a href=\"#4-1-4-star-\" class=\"headerlink\" title=\"4.1.4 :star:\"></a>4.1.4 :star:</h4><blockquote>\n<p>dockerfile</p>\n</blockquote>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">FROM centos:7\nRUN yum <span class=\"token function\">install</span> <span class=\"token parameter variable\">-y</span> <span class=\"token parameter variable\">--nogpgcheck</span> openssh-server <span class=\"token function\">sudo</span> <span class=\"token operator\">&amp;&amp;</span> <span class=\"token punctuation\">\\</span>\n    yum <span class=\"token function\">install</span> <span class=\"token parameter variable\">-y</span> <span class=\"token parameter variable\">--nogpgcheck</span> openssh-clients <span class=\"token operator\">&amp;&amp;</span> <span class=\"token punctuation\">\\</span>\n    <span class=\"token function\">sed</span> <span class=\"token parameter variable\">-i</span> <span class=\"token string\">'s/ GSSAPIAuthentication yes /#GSSAPIAuthentication yes/g'</span> /etc/ssh/sshd_config <span class=\"token operator\">&amp;&amp;</span> <span class=\"token punctuation\">\\</span>\n    <span class=\"token function\">sed</span> <span class=\"token parameter variable\">-i</span> <span class=\"token string\">'s/ GSSAPICleanupCredentials no /#GSSAPICleanupCredentials no/g'</span> /etc/ssh/sshd_config <span class=\"token operator\">&amp;&amp;</span> <span class=\"token punctuation\">\\</span>\n    yum <span class=\"token function\">install</span> <span class=\"token parameter variable\">-y</span> <span class=\"token parameter variable\">--nogpgcheck</span> initscripts <span class=\"token operator\">&amp;&amp;</span> <span class=\"token punctuation\">\\</span>\n    yum <span class=\"token function\">install</span> <span class=\"token function\">which</span> <span class=\"token parameter variable\">-y</span> <span class=\"token operator\">&amp;&amp;</span> <span class=\"token punctuation\">\\</span>\n    yum <span class=\"token function\">install</span> numactl libaio libnuma.so.1 <span class=\"token parameter variable\">-y</span> <span class=\"token operator\">&amp;&amp;</span> <span class=\"token punctuation\">\\</span>\n    <span class=\"token builtin class-name\">echo</span> <span class=\"token string\">\"root:1\"</span> <span class=\"token operator\">|</span> chpasswd <span class=\"token operator\">&amp;&amp;</span> <span class=\"token punctuation\">\\</span>\n    <span class=\"token builtin class-name\">echo</span> <span class=\"token string\">\"root   ALL=(ALL)       ALL\"</span> <span class=\"token operator\">>></span> /etc/sudoers <span class=\"token operator\">&amp;&amp;</span> <span class=\"token punctuation\">\\</span>\n    <span class=\"token function\">mkdir</span> /var/run/sshd <span class=\"token operator\">&amp;&amp;</span> <span class=\"token punctuation\">\\</span>\n    <span class=\"token function\">mkdir</span> /opt/<span class=\"token punctuation\">&#123;</span>software,module<span class=\"token punctuation\">&#125;</span> \nCOPY <span class=\"token builtin class-name\">.</span> /opt/software \nEXPOSE <span class=\"token number\">22</span>\nCMD <span class=\"token punctuation\">[</span><span class=\"token string\">\"/usr/sbin/sshd\"</span>, <span class=\"token string\">\"-D\"</span><span class=\"token punctuation\">]</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<blockquote>\n<p></p>\n</blockquote>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token punctuation\">[</span>root@docker-server ~/bigdata<span class=\"token punctuation\">]</span><span class=\"token comment\"># docker build -t bigdata .</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<blockquote>\n<p></p>\n</blockquote>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token punctuation\">[</span>root@docker-server ~/bigdata<span class=\"token punctuation\">]</span><span class=\"token comment\"># docker images | grep bigdata</span>\nbigdata                                                  latest    78d3e81ed5ac   <span class=\"token number\">4</span> hours ago   <span class=\"token number\">5</span>.57GB<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n\n\n\n<h3 id=\"4-2-Hadoop\"><a href=\"#4-2-Hadoop\" class=\"headerlink\" title=\"4.2 Hadoop\"></a>4.2 Hadoop</h3><p><strong></strong></p>\n<blockquote>\n<p>master:</p>\n</blockquote>\n<p>:</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">docker</span> run <span class=\"token parameter variable\">-id</span> <span class=\"token parameter variable\">--name</span> master <span class=\"token parameter variable\">--hostname</span> master <span class=\"token parameter variable\">--net</span> mynet <span class=\"token parameter variable\">--privileged</span><span class=\"token operator\">=</span>true <span class=\"token parameter variable\">-v</span> /sys/fs/cgroup:/sys/fs/cgroup <span class=\"token parameter variable\">-P</span> <span class=\"token parameter variable\">-p</span> <span class=\"token number\">50070</span>:50070 <span class=\"token parameter variable\">-p</span> <span class=\"token number\">8088</span>:8088 bigdata /usr/sbin/init<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p>:star: :</p>\n<p>docker:</p>\n<p>(IP<code>192.168.1.0/24</code>)</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">sudo</span> <span class=\"token function\">docker</span> network create <span class=\"token parameter variable\">--subnet</span><span class=\"token operator\">=</span><span class=\"token number\">192.168</span>.1.0/24 mynet<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p>master,ip192.168.1.10:</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">sudo</span> <span class=\"token function\">docker</span> run <span class=\"token parameter variable\">-d</span> <span class=\"token parameter variable\">--privileged</span> <span class=\"token parameter variable\">--name</span> master <span class=\"token parameter variable\">--hostname</span> master <span class=\"token parameter variable\">--network</span> mynet <span class=\"token parameter variable\">--ip</span> <span class=\"token number\">192.168</span>.1.10 <span class=\"token punctuation\">\\</span>\n  <span class=\"token parameter variable\">-p</span> <span class=\"token number\">16010</span>:16010 <span class=\"token parameter variable\">-p</span> <span class=\"token number\">2181</span>:2181 <span class=\"token parameter variable\">-p</span> <span class=\"token number\">3306</span>:3306 <span class=\"token parameter variable\">-p</span> <span class=\"token number\">6379</span>:6379 <span class=\"token parameter variable\">-p</span> <span class=\"token number\">8031</span>:8031 <span class=\"token parameter variable\">-p</span> <span class=\"token number\">8032</span>:8032 <span class=\"token punctuation\">\\</span>\n  <span class=\"token parameter variable\">-p</span> <span class=\"token number\">8033</span>:8033 <span class=\"token parameter variable\">-p</span> <span class=\"token number\">8080</span>:8080 <span class=\"token parameter variable\">-p</span> <span class=\"token number\">8081</span>:8081 <span class=\"token parameter variable\">-p</span> <span class=\"token number\">8020</span>:8020 <span class=\"token parameter variable\">-p</span> <span class=\"token number\">8088</span>:8088 <span class=\"token parameter variable\">-p</span> <span class=\"token number\">8123</span>:8123 <span class=\"token punctuation\">\\</span>\n  <span class=\"token parameter variable\">-p</span> <span class=\"token number\">9000</span>:9000 <span class=\"token parameter variable\">-p</span> <span class=\"token number\">9083</span>:9083 <span class=\"token parameter variable\">-p</span> <span class=\"token number\">9092</span>:9092 <span class=\"token parameter variable\">-p</span> <span class=\"token number\">9866</span>:9866 <span class=\"token parameter variable\">-p</span> <span class=\"token number\">9870</span>:9870 <span class=\"token parameter variable\">-p</span> <span class=\"token number\">10000</span>:10000 <span class=\"token punctuation\">\\</span>\n  <span class=\"token parameter variable\">-p</span> <span class=\"token number\">60010</span>:60010 <span class=\"token parameter variable\">-p</span> <span class=\"token number\">12321</span>:12321 <span class=\"token parameter variable\">-p</span> <span class=\"token number\">4040</span>:4040 <span class=\"token punctuation\">\\</span>\n  <span class=\"token parameter variable\">-v</span> /sys/fs/cgroup:/sys/fs/cgroup <span class=\"token punctuation\">\\</span>\n  bigdata:gxjzy /usr/sbin/init<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n\n\n<blockquote>\n<p>slave1:</p>\n</blockquote>\n<p>:</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">docker</span> run <span class=\"token parameter variable\">-id</span> <span class=\"token parameter variable\">--name</span> slave1 <span class=\"token parameter variable\">--hostname</span> slave1 <span class=\"token parameter variable\">--net</span> mynet <span class=\"token parameter variable\">--privileged</span><span class=\"token operator\">=</span>true <span class=\"token parameter variable\">-P</span> bigdata /usr/sbin/init<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p>:star: :</p>\n<p>master,ip192.168.1.10:</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">sudo</span> <span class=\"token function\">docker</span> run <span class=\"token parameter variable\">-d</span> <span class=\"token parameter variable\">--privileged</span> <span class=\"token parameter variable\">--name</span> slave1 <span class=\"token parameter variable\">--hostname</span> slave1 <span class=\"token parameter variable\">--network</span> mynet <span class=\"token parameter variable\">--ip</span> <span class=\"token number\">192.168</span>.1.20 <span class=\"token punctuation\">\\</span>\n  <span class=\"token parameter variable\">-v</span> /sys/fs/cgroup:/sys/fs/cgroup <span class=\"token punctuation\">\\</span>\n  bigdata:gxjzy /usr/sbin/init<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n\n\n\n\n\n<blockquote>\n<p>slave2:</p>\n</blockquote>\n<p>:</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">docker</span> run <span class=\"token parameter variable\">-id</span> <span class=\"token parameter variable\">--name</span> slave2 <span class=\"token parameter variable\">--hostname</span> slave2 <span class=\"token parameter variable\">--net</span> mynet <span class=\"token parameter variable\">--privileged</span><span class=\"token operator\">=</span>true <span class=\"token parameter variable\">-P</span> bigdata /usr/sbin/init<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p>:star: :</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">sudo</span> <span class=\"token function\">docker</span> run <span class=\"token parameter variable\">-d</span> <span class=\"token parameter variable\">--privileged</span> <span class=\"token parameter variable\">--name</span> slave2 <span class=\"token parameter variable\">--hostname</span> slave2 <span class=\"token parameter variable\">--network</span> mynet <span class=\"token parameter variable\">--ip</span> <span class=\"token number\">192.168</span>.1.30 <span class=\"token punctuation\">\\</span>\n  <span class=\"token parameter variable\">-v</span> /sys/fs/cgroup:/sys/fs/cgroup <span class=\"token punctuation\">\\</span>\n  bigdata:gxjzy /usr/sbin/init<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n\n<p></p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">docker</span> <span class=\"token function\">ps</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p><img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202401080117475.png\" alt=\"image-20240108011713901\"></p>\n<p>iptables()</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">iptables <span class=\"token parameter variable\">-t</span> nat <span class=\"token parameter variable\">-vnL</span>  <span class=\"token comment\">#</span>\n\niptables <span class=\"token parameter variable\">-t</span> nat <span class=\"token parameter variable\">-A</span> DOCKER <span class=\"token parameter variable\">-p</span> tcp <span class=\"token parameter variable\">--dport</span> <span class=\"token number\">8089</span> <span class=\"token parameter variable\">-j</span> DNAT --to-destination <span class=\"token number\">192.168</span>.12.10:8088  <span class=\"token comment\">#</span>\n\niptables <span class=\"token parameter variable\">-t</span> nat <span class=\"token parameter variable\">-vnL</span> DOCKER --line-number <span class=\"token comment\">#</span>\n\niptables <span class=\"token parameter variable\">-t</span> nat <span class=\"token parameter variable\">-D</span> DOCKER <span class=\"token punctuation\">&#123;</span><span class=\"token punctuation\">&#125;</span>  <span class=\"token comment\">#</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p></p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">docker</span> <span class=\"token builtin class-name\">exec</span> <span class=\"token parameter variable\">-it</span> master <span class=\"token function\">bash</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<h2 id=\"5-docker-compose\"><a href=\"#5-docker-compose\" class=\"headerlink\" title=\"5. docker-compose\"></a>5. docker-compose</h2><blockquote>\n<p>docker-compose()</p>\n</blockquote>\n<h3 id=\"5-1-docker-compose-yml\"><a href=\"#5-1-docker-compose-yml\" class=\"headerlink\" title=\"5.1 docker-compose.yml\"></a>5.1 docker-compose.yml</h3><p>ip:</p>\n<table>\n<thead>\n<tr>\n<th></th>\n<th>ip</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>master</td>\n<td>192.168.1.10</td>\n</tr>\n<tr>\n<td>slave1</td>\n<td>192.168.1.20</td>\n</tr>\n<tr>\n<td>slave2</td>\n<td>192.168.1.30</td>\n</tr>\n</tbody></table>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token punctuation\">[</span>root@docker-server ~/bigdata-work<span class=\"token punctuation\">]</span><span class=\"token comment\"># vim docker-compose.yml </span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<pre class=\"line-numbers language-yaml\" data-language=\"yaml\"><code class=\"language-yaml\"><span class=\"token key atrule\">version</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"2.2\"</span>\n<span class=\"token key atrule\">services</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">master</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">restart</span><span class=\"token punctuation\">:</span> always\n    <span class=\"token key atrule\">image</span><span class=\"token punctuation\">:</span> registry.cn<span class=\"token punctuation\">-</span>hangzhou.aliyuncs.com/shangguan<span class=\"token punctuation\">-</span>hj/bigdata<span class=\"token punctuation\">:</span>gxjzy\n    <span class=\"token key atrule\">container_name</span><span class=\"token punctuation\">:</span> master\n    <span class=\"token key atrule\">hostname</span><span class=\"token punctuation\">:</span> master\n    <span class=\"token key atrule\">networks</span><span class=\"token punctuation\">:</span>\n      <span class=\"token key atrule\">mynet</span><span class=\"token punctuation\">:</span>\n        <span class=\"token key atrule\">ipv4_address</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"192.168.1.10\"</span>\n    <span class=\"token key atrule\">privileged</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span>\n    <span class=\"token key atrule\">ports</span><span class=\"token punctuation\">:</span>\n      <span class=\"token punctuation\">-</span> 1022<span class=\"token punctuation\">:</span><span class=\"token number\">22</span>\n      <span class=\"token punctuation\">-</span> 50070<span class=\"token punctuation\">:</span><span class=\"token number\">50070</span>\n      <span class=\"token punctuation\">-</span> 8088<span class=\"token punctuation\">:</span><span class=\"token number\">8088</span>\n    <span class=\"token key atrule\">volumes</span><span class=\"token punctuation\">:</span>\n      <span class=\"token punctuation\">-</span> /sys/fs/cgroup<span class=\"token punctuation\">:</span>/sys/fs/cgroup\n    <span class=\"token key atrule\">command</span><span class=\"token punctuation\">:</span> /usr/sbin/init\n\n  <span class=\"token key atrule\">slave1</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">restart</span><span class=\"token punctuation\">:</span> always\n    <span class=\"token key atrule\">image</span><span class=\"token punctuation\">:</span> registry.cn<span class=\"token punctuation\">-</span>hangzhou.aliyuncs.com/shangguan<span class=\"token punctuation\">-</span>hj/bigdata<span class=\"token punctuation\">:</span>gxjzy\n    <span class=\"token key atrule\">container_name</span><span class=\"token punctuation\">:</span> slave1\n    <span class=\"token key atrule\">hostname</span><span class=\"token punctuation\">:</span> slave1\n    <span class=\"token key atrule\">networks</span><span class=\"token punctuation\">:</span>\n      <span class=\"token key atrule\">mynet</span><span class=\"token punctuation\">:</span>\n        <span class=\"token key atrule\">ipv4_address</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"192.168.1.20\"</span>\n    <span class=\"token key atrule\">privileged</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span>\n    <span class=\"token key atrule\">ports</span><span class=\"token punctuation\">:</span>\n      <span class=\"token punctuation\">-</span> 1023<span class=\"token punctuation\">:</span><span class=\"token number\">22</span>\n    <span class=\"token key atrule\">volumes</span><span class=\"token punctuation\">:</span>\n      <span class=\"token punctuation\">-</span> /sys/fs/cgroup<span class=\"token punctuation\">:</span>/sys/fs/cgroup\n    <span class=\"token key atrule\">command</span><span class=\"token punctuation\">:</span> /usr/sbin/init\n    \n  <span class=\"token key atrule\">slave2</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">restart</span><span class=\"token punctuation\">:</span> always\n    <span class=\"token key atrule\">image</span><span class=\"token punctuation\">:</span> registry.cn<span class=\"token punctuation\">-</span>hangzhou.aliyuncs.com/shangguan<span class=\"token punctuation\">-</span>hj/bigdata<span class=\"token punctuation\">:</span>gxjzy\n    <span class=\"token key atrule\">container_name</span><span class=\"token punctuation\">:</span> slave2\n    <span class=\"token key atrule\">hostname</span><span class=\"token punctuation\">:</span> slave2\n    <span class=\"token key atrule\">networks</span><span class=\"token punctuation\">:</span>\n      <span class=\"token key atrule\">mynet</span><span class=\"token punctuation\">:</span>\n        <span class=\"token key atrule\">ipv4_address</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"192.168.1.30\"</span>\n    <span class=\"token key atrule\">privileged</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span>\n    <span class=\"token key atrule\">ports</span><span class=\"token punctuation\">:</span>\n      <span class=\"token punctuation\">-</span> 1024<span class=\"token punctuation\">:</span><span class=\"token number\">22</span>\n    <span class=\"token key atrule\">volumes</span><span class=\"token punctuation\">:</span>\n      <span class=\"token punctuation\">-</span> /sys/fs/cgroup<span class=\"token punctuation\">:</span>/sys/fs/cgroup\n    <span class=\"token key atrule\">command</span><span class=\"token punctuation\">:</span> /usr/sbin/init\n\n<span class=\"token comment\"># </span>\n<span class=\"token key atrule\">networks</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">mynet</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">ipam</span><span class=\"token punctuation\">:</span>\n      <span class=\"token key atrule\">config</span><span class=\"token punctuation\">:</span>\n      <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">subnet</span><span class=\"token punctuation\">:</span> 192.168.1.0/24<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h3 id=\"5-2-docker\"><a href=\"#5-2-docker\" class=\"headerlink\" title=\"5.2 docker\"></a>5.2 docker</h3><pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token punctuation\">[</span>root@docker-server ~/bigdata-work<span class=\"token punctuation\">]</span><span class=\"token comment\"># docker-compose up -d</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p><img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202312111500849.png\" alt=\"image-20231211150006708\"></p>\n<h3 id=\"5-3-\"><a href=\"#5-3-\" class=\"headerlink\" title=\"5.3 \"></a>5.3 </h3><h4 id=\"5-3-1--\"><a href=\"#5-3-1--\" class=\"headerlink\" title=\"5.3.1 ():\"></a>5.3.1 ():</h4><pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token punctuation\">[</span>root@docker-server ~/bigdata-work<span class=\"token punctuation\">]</span><span class=\"token comment\"># docker-compose ps</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p><img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202312111501626.png\" alt=\"image-20231211150148532\"></p>\n<h4 id=\"5-3-2-\"><a href=\"#5-3-2-\" class=\"headerlink\" title=\"5.3.2 :\"></a>5.3.2 :</h4><pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token punctuation\">[</span>root@docker-server ~/bigdata-work<span class=\"token punctuation\">]</span><span class=\"token comment\"># docker ps</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p><img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202312111502108.png\" alt=\"image-20231211150204022\"></p>\n<h3 id=\"5-4-\"><a href=\"#5-4-\" class=\"headerlink\" title=\"5.4 \"></a>5.4 </h3><p><strong>master:</strong></p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token punctuation\">[</span>root@docker-server ~/bigdata-work<span class=\"token punctuation\">]</span><span class=\"token comment\"># docker exec -it master bash</span>\n<span class=\"token punctuation\">[</span>root@master /<span class=\"token punctuation\">]</span><span class=\"token comment\"># ip a</span>\n<span class=\"token number\">1</span>: lo: <span class=\"token operator\">&lt;</span>LOOPBACK,UP,LOWER_UP<span class=\"token operator\">></span> mtu <span class=\"token number\">65536</span> qdisc noqueue state UNKNOWN group default qlen <span class=\"token number\">1000</span>\n    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00\n    inet <span class=\"token number\">127.0</span>.0.1/8 scope <span class=\"token function\">host</span> lo\n       valid_lft forever preferred_lft forever\n<span class=\"token number\">96</span>: eth0@if97: <span class=\"token operator\">&lt;</span>BROADCAST,MULTICAST,UP,LOWER_UP<span class=\"token operator\">></span> mtu <span class=\"token number\">1500</span> qdisc noqueue state UP group default \n    link/ether 02:42:c0:a8:01:02 brd ff:ff:ff:ff:ff:ff link-netnsid <span class=\"token number\">0</span>\n    inet <span class=\"token number\">192.168</span>.1.2/24 brd <span class=\"token number\">192.168</span>.1.255 scope global eth0\n       valid_lft forever preferred_lft forever\n<span class=\"token punctuation\">[</span>root@master /<span class=\"token punctuation\">]</span><span class=\"token comment\"># </span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p><strong>slave1:</strong></p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token punctuation\">[</span>root@docker-server ~/bigdata-work<span class=\"token punctuation\">]</span><span class=\"token comment\"># docker exec -it slave1 bash</span>\n<span class=\"token punctuation\">[</span>root@slave1 /<span class=\"token punctuation\">]</span><span class=\"token comment\"># ip a</span>\n<span class=\"token number\">1</span>: lo: <span class=\"token operator\">&lt;</span>LOOPBACK,UP,LOWER_UP<span class=\"token operator\">></span> mtu <span class=\"token number\">65536</span> qdisc noqueue state UNKNOWN group default qlen <span class=\"token number\">1000</span>\n    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00\n    inet <span class=\"token number\">127.0</span>.0.1/8 scope <span class=\"token function\">host</span> lo\n       valid_lft forever preferred_lft forever\n<span class=\"token number\">34</span>: eth0@if35: <span class=\"token operator\">&lt;</span>BROADCAST,MULTICAST,UP,LOWER_UP<span class=\"token operator\">></span> mtu <span class=\"token number\">1500</span> qdisc noqueue state UP group default \n    link/ether 02:42:c0:a8:01:04 brd ff:ff:ff:ff:ff:ff link-netnsid <span class=\"token number\">0</span>\n    inet <span class=\"token number\">192.168</span>.1.4/24 brd <span class=\"token number\">192.168</span>.1.255 scope global eth0\n       valid_lft forever preferred_lft forever\n<span class=\"token punctuation\">[</span>root@slave1 /<span class=\"token punctuation\">]</span><span class=\"token comment\"># </span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p><strong>slave2:</strong></p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token punctuation\">[</span>root@docker-server ~/bigdata-work<span class=\"token punctuation\">]</span><span class=\"token comment\"># docker exec -it slave2 bash</span>\n<span class=\"token punctuation\">[</span>root@slave2 /<span class=\"token punctuation\">]</span><span class=\"token comment\"># ip a</span>\n<span class=\"token number\">1</span>: lo: <span class=\"token operator\">&lt;</span>LOOPBACK,UP,LOWER_UP<span class=\"token operator\">></span> mtu <span class=\"token number\">65536</span> qdisc noqueue state UNKNOWN group default qlen <span class=\"token number\">1000</span>\n    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00\n    inet <span class=\"token number\">127.0</span>.0.1/8 scope <span class=\"token function\">host</span> lo\n       valid_lft forever preferred_lft forever\n<span class=\"token number\">32</span>: eth0@if33: <span class=\"token operator\">&lt;</span>BROADCAST,MULTICAST,UP,LOWER_UP<span class=\"token operator\">></span> mtu <span class=\"token number\">1500</span> qdisc noqueue state UP group default \n    link/ether 02:42:c0:a8:01:03 brd ff:ff:ff:ff:ff:ff link-netnsid <span class=\"token number\">0</span>\n    inet <span class=\"token number\">192.168</span>.1.3/24 brd <span class=\"token number\">192.168</span>.1.255 scope global eth0\n       valid_lft forever preferred_lft forever\n<span class=\"token punctuation\">[</span>root@slave2 /<span class=\"token punctuation\">]</span><span class=\"token comment\"># </span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n\n\n<h3 id=\"5-5-xshell\"><a href=\"#5-5-xshell\" class=\"headerlink\" title=\"5.5 xshell\"></a>5.5 xshell</h3><p>&#x3D;&#x3D;ssh&#x3D;&#x3D;</p>\n<blockquote>\n<p>master</p>\n</blockquote>\n<p><img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202312111517302.png\"></p>\n<p><img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202312111515957.png\" alt=\"image-20231211151542886\"></p>\n<blockquote>\n<p>slave1</p>\n</blockquote>\n<p><img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202312111516827.png\" alt=\"image-20231211151638743\"></p>\n<p><img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202312111516374.png\" alt=\"image-20231211151651296\"></p>\n<blockquote>\n<p>slave2</p>\n</blockquote>\n<p><img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202312111518533.png\" alt=\"image-20231211151809445\"></p>\n<p><img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202312111518365.png\" alt=\"image-20231211151826289\"></p>\n<p></p>\n<h2 id=\"6-asbru-cm\"><a href=\"#6-asbru-cm\" class=\"headerlink\" title=\"6. asbru-cm\"></a>6. asbru-cm</h2><p>1</p>\n<p><img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202401080134495.png\" alt=\"image-20230320175907854\"></p>\n<p>2</p>\n<p><img src=\"https://hj-typora-images-1319512400.cos.ap-guangzhou.myqcloud.com/images/202401080134744.png\" alt=\"image-20230320180309740\"></p>\n"}],"PostAsset":[],"PostCategory":[{"post_id":"cm3cx7o5o000akmmj5cmwamqi","category_id":"cm3cx7o5r000hkmmj1vqfap76","_id":"cm3cx7o5s000mkmmja3u1gze7"},{"post_id":"cm3cx7o5k0005kmmj2uw75of2","category_id":"cm3cx7o5n0007kmmj8tdw5b0i","_id":"cm3cx7o5t000pkmmj45vsg6sz"},{"post_id":"cm3cx7o5k0005kmmj2uw75of2","category_id":"cm3cx7o5s000kkmmj12rj46e9","_id":"cm3cx7o5t000qkmmjg71fafbn"},{"post_id":"cm3cx7o5m0006kmmjb89l9lyt","category_id":"cm3cx7o5n0007kmmj8tdw5b0i","_id":"cm3cx7o5t000rkmmja3x51esk"},{"post_id":"cm3cx7o5m0006kmmjb89l9lyt","category_id":"cm3cx7o5s000kkmmj12rj46e9","_id":"cm3cx7o5t000skmmjgt7e8ym5"},{"post_id":"cm3cx7o5o0009kmmj49mh52xq","category_id":"cm3cx7o5n0007kmmj8tdw5b0i","_id":"cm3cx7o5u000tkmmj1cbr2i5a"},{"post_id":"cm3cx7o5o0009kmmj49mh52xq","category_id":"cm3cx7o5s000kkmmj12rj46e9","_id":"cm3cx7o5u000ukmmjcnab0696"},{"post_id":"cm3cx7o5v000vkmmjdqcs1y84","category_id":"cm3cx7o5r000hkmmj1vqfap76","_id":"cm3cx7o5z0011kmmjf9tjbo9m"},{"post_id":"cm3cx7o5x000ykmmjebw53p8p","category_id":"cm3cx7o5r000hkmmj1vqfap76","_id":"cm3cx7o5z0012kmmj16ef447o"},{"post_id":"cm3cx7o5w000wkmmjhepyc5zm","category_id":"cm3cx7o5y000zkmmj5e50adk1","_id":"cm3cx7o600015kmmjfjfj4qo2"}],"PostTag":[{"post_id":"cm3cx7o5k0005kmmj2uw75of2","tag_id":"cm3cx7o5n0008kmmjbhgb2czo","_id":"cm3cx7o5q000dkmmjeh215j70"},{"post_id":"cm3cx7o5m0006kmmjb89l9lyt","tag_id":"cm3cx7o5n0008kmmjbhgb2czo","_id":"cm3cx7o5r000gkmmj9zox2aww"},{"post_id":"cm3cx7o5o0009kmmj49mh52xq","tag_id":"cm3cx7o5n0008kmmjbhgb2czo","_id":"cm3cx7o5r000jkmmj662afxet"},{"post_id":"cm3cx7o5o000akmmj5cmwamqi","tag_id":"cm3cx7o5r000ikmmj83ot6wmz","_id":"cm3cx7o5s000lkmmj1lobbnkh"},{"post_id":"cm3cx7o5v000vkmmjdqcs1y84","tag_id":"cm3cx7o5r000ikmmj83ot6wmz","_id":"cm3cx7o5x000xkmmj22sa6qif"},{"post_id":"cm3cx7o5w000wkmmjhepyc5zm","tag_id":"cm3cx7o5y0010kmmj38x8fglf","_id":"cm3cx7o600014kmmj4lcj3bka"},{"post_id":"cm3cx7o5x000ykmmjebw53p8p","tag_id":"cm3cx7o5r000ikmmj83ot6wmz","_id":"cm3cx7o600016kmmjg371e4ry"},{"post_id":"cm3cx7o5x000ykmmjebw53p8p","tag_id":"cm3cx7o5z0013kmmjbypo3drk","_id":"cm3cx7o600017kmmj06bbgsch"}],"Tag":[{"name":"Golang","_id":"cm3cx7o5n0008kmmjbhgb2czo"},{"name":"Bigdata","_id":"cm3cx7o5r000ikmmj83ot6wmz"},{"name":"Mysql","_id":"cm3cx7o5y0010kmmj38x8fglf"},{"name":"Docker","_id":"cm3cx7o5z0013kmmjbypo3drk"}]}}